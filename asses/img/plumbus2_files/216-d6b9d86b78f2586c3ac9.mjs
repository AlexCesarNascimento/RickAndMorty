(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[216],{"/HYR":function(e){e.exports=JSON.parse('{"CANONICAL_MAIN_DOMAIN":"www.pinterest.com","GOOGLEPLAY_ID":"com.pinterest","IOS_APPSTORE_ID":"429047995","CANONICAL_MAIN_URL":"https://www.pinterest.com","PINTEREST_LATEST_DOMAIN":"https://latest.pinterest.com","CANONICAL_ANALYTICS_URL":"https://analytics.pinterest.com","CANONICAL_ADS_URL":"https://ads.pinterest.com","CANONICAL_POLICY_URL":"https://policy.pinterest.com","CANONICAL_HELP_CENTER_URL":"https://help.pinterest.com"}')},"0+RH":function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),o=n("qxKp"),i=n("n6mq");function s(e){const{accessibilityLabel:t,avatar:n,icon:a,maxTextWidth:s,onClick:l,rightIcon:c,selected:u,showText:d,text:p,textPosition:h="vertical",url:m,isInitiallyHovered:g,handleMouseEnter:b,handleMouseLeave:f}=e;let y,E,v="pill",S="md";a||n||c?p&&d&&"vertical"===h?(v=2,S="sm"):v=p&&d&&"horizontal"===h?"pill":"circle":v="pill",a?y=a:n&&(y=n),c&&(E=c);const x=p instanceof Object?p:r.a.createElement(i.U,{color:u?"darkGray":"gray",overflow:"normal",size:S,truncate:!!s,weight:"bold"},p);return r.a.createElement(o.a,{accessibilityLabel:t,onClick:l,url:m,rounding:v,isInitiallyHovered:g,handleMouseEnter:b,handleMouseLeave:f},y,!!p&&d&&r.a.createElement(i.d,{paddingX:"horizontal"===h?2:void 0,maxWidth:s||void 0},x),E)}},"0Bgb":function(e,t,n){var a=n("eUgh"),r=n("Q1l4"),o=n("Z0cm"),i=n("/9aa"),s=n("GNiM"),l=n("9Nap"),c=n("dt0z");e.exports=function(e){return o(e)?a(e,l):i(e)?[e]:r(s(c(e)))}},"0Bqi":function(e,t,n){n.d(t,"a",(function(){return h}));var a=n("q1tI"),r=n.n(a),o=n("q23S"),i=n("Ye/N"),s=n("KNE1"),l=n("28DW"),c=n("n6mq");const u={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}};function d(e){const t=e=>{Object(l.a)("unauth.account_switcher_modal."+e)},{renderContent:n}=e;return r.a.createElement("div",{style:u.mask},r.a.createElement(s.a,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),r.a.createElement("div",{className:"AccountSwitcherModal",onClick:()=>{t("empty_space_click");const{onCloseClick:n}=e;n()},role:"dialog",style:u.scroller},r.a.createElement("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:u.modalContainer},n(),r.a.createElement("button",{"aria-label":i.a._("close","accessible label for close button","accessible label for close button"),onClick:()=>{t("close_button_click");const{onCloseClick:n}=e;n()},style:u.closeButton},r.a.createElement(c.s,{accessibilityLabel:i.a._("close","accessible label for close button","accessible label for close button"),color:"white",icon:"cancel",inline:!0})))))}var p=n("3fKP");function h(e){return r.a.createElement(d,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>r.a.createElement(c.d,{display:"flex",justifyContent:"center",flex:"grow","data-test-id":"account-switcher-modal"},r.a.createElement(o.a,{container:e.container,email:e.email,isAccountSwitch:!0,isModal:!0,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,type:p.b.login,signupSource:p.b.login,customLoginTagline:e.customTaglineText||i.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account","Short text on the button that allows a user to log in to another Pinterest account")}))})}},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n("q1tI");const r=n("NwjN").a;function o({children:e}){return e(Object(a.useContext)(r))}function i(){return Object(a.useContext)(r)}},"0SCs":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n("l61J"),r=n("pLLR");function o(e,t=!0){const{experiments:n}=Object(r.d)(),{group:o,anyEnabled:i}=Object(a.a)(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:o,anyEnabled:i}}function i(e,t=!0){const{experiments:n}=Object(r.d)(),{group:o,anyEnabled:i}=Object(a.a)(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:o,anyEnabled:i}}function s(e,t=!0){const{experiments:n}=Object(r.d)();return Object(a.a)(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}},"1Vso":function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("7pfs");t.a=e=>{const{accessibilityLabel:t,children:n,className:a,dataTestId:i,onClick:s,onMouseEnter:l,onMouseLeave:c,style:u}=e;return r.a.createElement(o.a,null,({active:e,focused:o,hovered:d,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:g,onMouseLeave:b,onMouseUp:f})=>r.a.createElement("button",{"data-test-id":i,"aria-label":t,style:u,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:e=>{g(),l&&l(e)},onMouseLeave:e=>{b(),c&&c(e)},onMouseUp:f,onClick:s,className:a},n({active:e,focused:o,hovered:d})))}},"3RuK":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("0+RH"),i=n("bWI3"),s=n("qxKp"),l=n("n6mq");function c(e){const{accessibilityLabel:t,experienceAnchor:n,onClick:a,selected:o,text:i,url:c}=e;return r.a.createElement(s.a,{accessibilityLabel:t,onClick:a,url:c,experienceAnchor:n},r.a.createElement(l.d,{paddingX:2,paddingY:1},r.a.createElement(l.U,{color:o?"darkGray":"gray",overflow:"normal",weight:"bold"},i)))}var u=n("U4JR");class d extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{contextData:t,onClick:n}=this.props;if(t){const{event:e,component:n,element:a}=t;Object(u.a)(e,{component:n,element:a})}n&&n(e)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}render(){const{accessibilityLabel:e,avatar:t,compactMode:n,icon:a,maxTextWidth:s,rightIcon:u,selected:d,showText:p,text:h,type:m="link",url:g}=this.props;let b=r.a.createElement(i.a,{accessibilityLabel:e,onClick:this.handleClick,rounding:"circle"},a);return t||u||"link"!==m||!g||n?("link"===m&&(t||n&&a||u)||"button"===m&&p)&&(b=r.a.createElement(o.a,{accessibilityLabel:e,avatar:t,icon:a,maxTextWidth:s,onClick:this.handleClick,rightIcon:u,selected:d,showText:!n||p,text:h,textPosition:"horizontal",url:g||""})):b=r.a.createElement(c,{accessibilityLabel:e,experienceAnchor:"/"===g?".HomeButton2":"",onClick:this.handleClick,selected:d,text:h,url:g}),r.a.createElement(l.d,{position:"relative"},b)}}},"3vRR":function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("n6mq");t.a=({children:e})=>r.a.createElement(o.d,{width:"100%",role:"list"},e)},"4w6G":function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i({buttonColor:e,buttonText:t,buttonTextColor:n}){return r.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:{background:e}},rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center"},r.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:{color:n,fontSize:"16px",fontWeight:"bold",textAlign:"center"}}},t))}var s=n("qxKp");function l({buttonText:e,key:t,onClick:n,style:{buttonColor:a,buttonTextColor:o,...l},url:c,external:u}){return c?r.a.createElement(s.a,{accessibilityLabel:e,key:t,rounding:6,url:c,onClick:n,external:u},r.a.createElement(i,{buttonColor:a,buttonText:e,buttonTextColor:o})):r.a.createElement("button",{className:"GestaltTouchableFocus LegoNagButtonStyles",style:{...null!=l?l:{}},onClick:n},r.a.createElement(i,{buttonColor:a,buttonText:e,buttonTextColor:o}))}},"573u":function(e,t,n){n.d(t,"a",(function(){return r}));const a=!("undefined"==typeof window||!window.performance||!window.performance.now);function r(e,t,n){this.category=e,this.variable=t,this.label=n,this.startTime,this.elapsedTime}function o(){return a?window.performance.now():Date.now()}function i(){this.timers={}}r.prototype.start=function(){return this.startTime=o(),this},r.prototype.end=function(){return this.elapsedTime=Math.round(o()-this.startTime),this.startTime=a?Math.round(this.startTime):null,this},r.prototype.getCompletedTime=function(){return this.elapsedTime},r.prototype.send=function(){if(this.elapsedTime>0&&this.elapsedTime<6e5){const{category:e,variable:t,label:a,elapsedTime:r}=this;Promise.resolve().then(n.bind(null,"rh3l")).then(({default:n})=>{n.logToServer(n.SERVER_LOG_TYPE.INTERACTION_TIMING,n.HTTP_METHOD.POST,{category:e,variable:t,label:a,time:r})})}return this},i.prototype.start=function(e,t,n,...a){const o=Array.prototype.slice.call([e,t,n,...a],0,2).join(":"),i=new r(e,t,n).start();this.timers[o]=i},i.prototype.end=function(e,t,n){const a=e+":"+t,r=this.timers[a];return r&&(r.end(),n&&r.send(),delete this.timers[a]),r};new i},"5JIi":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("4dcN"),i=n("Ye/N"),s=n("KNE1"),l=n("qxKp"),c=n("NrS9"),u=n("n6mq");function d(e){const{dismissButtonText:t,color:n,completeButtonText:a,completeUrl:d,experienceId:p,message:h,onComplete:m,onDismiss:g,onRender:b,external:f}=e;b&&b();const y=({event:e})=>{10202===p&&c.a.instance().subscribe(),m&&m(e)},E=({event:e})=>{o.a.trackEvent("nag","click_close"),g&&g(e)},v=h&&!a,S=500735===p,x=a&&(!d||S)&&r.a.createElement(u.e,{color:"white",inline:!0,onClick:y,text:a}),_=a&&d&&r.a.createElement(l.a,{accessibilityLabel:a,key:"naglink",rounding:6,url:d,onClick:e=>y({event:e}),external:f},r.a.createElement(u.d,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center"},r.a.createElement(u.U,{align:"center",color:n,weight:"bold"},a))),w=t&&g&&r.a.createElement(u.d,{mdPaddingX:2},r.a.createElement(u.e,{inline:!0,onClick:E,text:t,color:"transparent"})),C=v&&!S&&g&&r.a.createElement(u.t,{accessibilityLabel:i.a._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:E,icon:"cancel"});return r.a.createElement(u.d,{display:"flex",direction:"column",smDirection:"row",color:n||"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between"},r.a.createElement(u.d,{column:12,smColumn:v?11:8},r.a.createElement(u.U,{color:"white",weight:S?"normal":"bold"},r.a.createElement(s.a,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),r.a.createElement("div",{className:"Banner--message"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:h}})))),r.a.createElement(u.d,{display:"flex",alignItems:"center",justifyContent:"end"},w,x||_,C))}},"7yy+":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n("q1tI"),r=n.n(a),o=Object(a.createContext)({inboxButton:null,setInboxButton:e=>{},profileInboxButton:null,setProfileInboxButton:e=>{}});function i({children:e}){const[t,n]=r.a.useState(null),[a,i]=r.a.useState(null);return r.a.createElement(o.Provider,{value:{inboxButton:t,setInboxButton:n,profileInboxButton:a,setProfileInboxButton:i}},e)}function s(e){return t=>r.a.createElement(o.Consumer,null,({inboxButton:n,setInboxButton:a,profileInboxButton:o,setProfileInboxButton:i})=>r.a.createElement(e,Object.assign({},t,{inboxButton:n,setInboxButton:a,profileInboxButton:o,setProfileInboxButton:i})))}},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},"8TVt":function(e,t,n){var a=n("TqRt");t.__esModule=!0,t.default=void 0;var r=a(n("J2iB")),o=a(n("tq0P")),i=a(n("q1tI")),s=function(e){return(0,r.default)(e)||""===e||isNaN(e)},l=function(e,t){return e===t||(e||t?(!e||!t||e._error===t._error)&&((!e||!t||e._warning===t._warning)&&(!i.default.isValidElement(e)&&!i.default.isValidElement(t)&&void 0)):s(e)===s(t))},c=function(e,t){return(0,o.default)(e,t,l)};t.default=c},BPpL:function(e,t,n){var a=n("TqRt");t.__esModule=!0,t.default=void 0;var r=a(n("uJ2T")),o=a(n("Ujbc")),i=a(n("gw9B")),s=a(n("8TVt")),l=a(n("VCm5")),c=a(n("a7BZ")),u={allowsArrayErrors:!0,empty:{},emptyList:[],getIn:o.default,setIn:i.default,deepEqual:s.default,deleteIn:l.default,forEach:function(e,t){return e.forEach(t)},fromJS:function(e){return e},keys:c.default,size:function(e){return e?e.length:0},some:function(e,t){return e.some(t)},splice:r.default,equals:function(e,t){return t.every((function(t){return~e.indexOf(t)}))},orderChanged:function(e,t){return t.some((function(t,n){return t!==e[n]}))},toJS:function(e){return e}};t.default=u},BmGU:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("mBfy"),r=n("v/Q4"),o=n("U4JR"),i=n("liz/");function s({children:e}){const t=Object(r.a)();return e({onClick:()=>{Object(o.a)(101,{component:8,element:8005}),(Object(i.d)()||0)>1?(t.isAuth&&(Object(i.j)(t.id),Object(i.k)("utils.user_deleted",{deleted_user:t.id})),a.default.logoutWithOptions("/","user_header",Object(i.c)())):(Object(i.k)("utils.group_deleted"),a.default.logoutWithOptions("/","user_header"))}})}},D3nP:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var a=n("eOdZ"),r=n("Wer7");function o(e){return async t=>{await a.a.create("TypeaheadClearRecentResource",{query:e}).callDelete(),t(Object(r.a)("AdvancedTypeaheadResource",{term:"",pin_scope:"pins"}))}}function i({report:e,query:t,suggestions:n,type:r}){return o=>{a.a.create("SearchSuggestionReportResource",{report:e,query:t,suggestions:n,type:r}).callCreate()}}function s(e){return{type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:e}}}function l(){return{type:"VIEWED_OWN_PROFILE"}}const c=e=>({type:"UPDATE_DISPLAY_SHOP_TAB",payload:{displayShopTab:e}}),u=e=>({type:"UPDATE_SEARCH_TAB",payload:{tab:e}})},DBEV:function(e,t,n){var a=n("q1tI"),r=n.n(a);var o={backgroundColor:"transparent"},i={backgroundColor:"rgba(216, 216, 216, 0.37)"},s={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"},c=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.a.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1}),u(this,"handleMouseEnter",()=>this.setState({hovered:!0})),u(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t,accessibilityLabel:n}=this.props,a={height:e,width:e},u={border:0,display:"block",background:"transparent",cursor:"pointer",...l},d={...s,...o,...this.state.hovered?i:{}};return r.a.createElement("button",{"aria-label":n,type:"button",style:u,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e})},r.a.createElement("div",{style:{...a,...d}},r.a.createElement(c.d,{rounding:"circle"},r.a.createElement(c.s,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"}))))}}t.a=d},DzJC:function(e,t,n){var a=n("sEfC"),r=n("GoyQ");e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),a(e,t,{leading:o,maxWait:t,trailing:i})}},"GFC/":function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),o=n("gmhe"),i=n("Ye/N"),s=n("n6mq");function l({children:e,dataTestId:t,icon:n,onClick:a,url:l}){let c;"selected"===n?c=r.a.createElement(s.s,{accessibilityLabel:i.a._("Selected option","flyoutMenu.selectedOptionCheckmark","Accessibility label for checkmark icon indicating which option is currently selected"),color:"darkGray",icon:"check",inline:!0}):"externalLink"===n&&(c=r.a.createElement(s.s,{accessibilityLabel:i.a._("External link","header.accountsOptionsMenu.externalLinkIcon","Accessibility label for icon indicating a menu item opens an external link"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12}));const u="string"==typeof e?r.a.createElement(s.d,{maxWidth:c?230:void 0},r.a.createElement(s.U,{weight:"bold"},e)):e;return r.a.createElement(s.d,{"data-test-id":t,role:"listitem"},r.a.createElement(o.a,{isExternalUrl:"externalLink"===n,onClick:a,url:l},r.a.createElement(s.d,{alignItems:"center",display:"flex",justifyContent:"between",minHeight:35,paddingX:2,rounding:2},u,c&&r.a.createElement(s.d,{flex:"none",marginStart:"auto"},c))))}},"GoL+":function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("1ycI"),r=n("zwad");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i{constructor(e,t=!1,r,i=[]){o(this,"onUploaderSubmit",(e,t)=>{this.submitCallback&&this.submitCallback(e,t)}),o(this,"onUploaderComplete",(e,t,n)=>{!n.success&&this.errorCallback?this.errorCallback(n,t):n.success&&this.successCallback&&this.successCallback(e,t,n)}),o(this,"onUploaderError",(e,t,n)=>{this.errorCallback&&this.errorCallback({error:n},t)}),o(this,"onUploaderProgress",(e,t,n,a)=>{const r=Math.round(n/a*100);this.progressCallback&&this.progressCallback(n,a,r,t)}),o(this,"enableUploader",(e,t,r,o,i="unknown",s)=>{t&&(this.progressCallback=t),r&&(this.successCallback=r),o&&(this.errorCallback=o),s&&(this.submitCallback=s),n.e("FineuploaderLibrary").then(n.bind(null,"iL0B")).then(({default:t})=>{this.uploader=new t.FineUploaderBasic({debug:!1,button:e,dropZoneElements:[e],inputTitle:this.inputTitle,multiple:this.allowMultipleFiles,text:{defaultResponseError:"An unknown upload error occurred."},request:{endpoint:this.getUploadUrl(),inputName:"img",forceMultipart:!0,customHeaders:{"X-CSRFToken":a.default.getCSRFToken(),"X-UPLOAD-SOURCE":i},params:this.params},callbacks:{onUpload:this.onUploaderSubmit,onComplete:this.onUploaderComplete,onProgress:this.onUploaderProgress,onError:this.onUploaderError},validation:{acceptFiles:this.acceptFiles||""}}),e&&Object.assign(e.style,this.styleOverrides)})}),this.styleOverrides={overflow:"visible"},this.params=e||{},this.inputTitle=r||"file input",this.allowMultipleFiles=t,this.acceptFiles=i.join(",")}getUploadUrl(){return r.a.absolutify("/upload-image/")}}},J2iB:function(e,t){e.exports=function(e){return null==e}},KPZG:function(e,t,n){n.d(t,"b",(function(){return w}));var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("Cufx"),s=n("gYog"),l=n("3gA6"),c=n("DBEV"),u=n("Ye/N"),d=n("TiQD"),p=n("xjqW");var h=({id:e,viewParameter:t,viewType:n})=>Object(p.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),m=n("eOdZ"),g=n("CvCA"),b=n("nGHF"),f=n("n6mq");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends r.a.PureComponent{constructor(...e){var t;super(...e),t=this,y(this,"state",{showModal:!1,reportType:null}),y(this,"handleDismiss",()=>this.setState({showModal:!1})),y(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),y(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await m.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),y(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>r.a.createElement(g.a,{onHide:e,text:u.a._("Thanks for your report! This will be reviewed by our Trust and Safety Team","Toast after reporting a trending search suggestion","Toast after reporting a trending search suggestion")})),this.handleDismiss())}),y(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{accessibilityLabel:u.a._("Report","Accessibility label for report icon for trending search suggestion","Accessibility label for report icon for trending search suggestion"),onClick:this.showModal,backgroundHaloSize:24}),e&&r.a.createElement(d.b,{accessibilityModalLabel:u.a._("Report search term","accessible label for report trending suggestion modal","accessible label for report trending suggestion modal"),heading:u.a._("Report search term","Heading for report trending suggestion modal","Heading for report trending suggestion modal"),onDismiss:this.handleDismiss,size:"sm"},r.a.createElement(f.d,null,r.a.createElement(f.d,{padding:5},r.a.createElement(f.U,null,u.a._("When you flag this, our Trust and Safety team will review it. If it doesnt meet our Community Guidelines, it will be blocked.","What will happen when you report a trending suggestion","What will happen when you report a trending suggestion"))),r.a.createElement(f.d,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5},r.a.createElement(f.d,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},r.a.createElement(f.G,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report trending search text"}),r.a.createElement(f.d,{flex:"grow"},r.a.createElement(f.v,{htmlFor:"textType"},r.a.createElement(f.d,{paddingX:2},r.a.createElement(f.U,null,"Report trending search text"))))),r.a.createElement(f.d,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},r.a.createElement(f.G,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report trending search image"}),r.a.createElement(f.d,{flex:"grow"},r.a.createElement(f.v,{htmlFor:"imageType"},r.a.createElement(f.d,{paddingX:2},r.a.createElement(f.U,null,"Report trending search image")))))),r.a.createElement(f.n,null),r.a.createElement(f.d,{display:"flex",justifyContent:"end",padding:2},r.a.createElement(f.d,{margin:2},r.a.createElement(f.e,{onClick:this.handleDismiss,text:u.a._("Cancel","Text for cancel button when reporting trending search suggestion","Text for cancel button when reporting trending search suggestion")})),r.a.createElement(f.d,{margin:2},r.a.createElement(f.e,{color:"red",onClick:this.handleClick,text:u.a._("Report","Button label to report trending search suggestion","Button label to report trending search suggestion"),disabled:!this.state.reportType}))))))}}var v=Object(o.connect)(null,(e,t)=>({reportImage:n=>e(h({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(b.c)(E)),S=n("zwad"),x=n("xdpg");const _={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},w=({storyCategory:e,query:t,referringSource:n,bubbleId:a,storyId:r})=>{const o=[0,24,21,25,26].includes(e),i=S.a.getQueryStringFromObject({q:t,rs:n||void 0,b_id:a,source_id:r});return o?"/discover/article/"+a:"/search/pins/"+(i?"?"+i:"")};t.a=Object(o.connect)((function({viewer:e}){return{viewer:e}}),()=>({}))((function({bubble:e,height:t,storyId:n,width:o,onClick:c,referringSource:u,contextLogData:d,viewType:p,viewParameter:h,slotIndex:m,handleReport:g,showFlag:b,imgSignature:y,onMouseEnter:E,onMouseLeave:S,isHovered:C,viewer:T}){const[k,I]=Object(a.useState)(!1),{id:R,action:A,cover_images:O,dominant_colors:L,title:M,story_category:N,curator:P}=e,U=O[0]&&(O[0]["280x280"]||O[0]["236x"]),D=Object(x.i)(M&&M.format||"",M&&M.args||{}),B=L&&L.length?L[0]:"gray",F=(null==A?void 0:A.url)||w({storyCategory:N,query:D,referringSource:u,bubbleId:R,storyId:n});return r.a.createElement(s.a,{impressionAuxFields:{storyCategory:N,storyIdStr:n},impressionType:"Article",loggingId:R,viewType:p,viewParameter:h,slotIndex:m,contextLogData:{story_id:n,...d}},r.a.createElement(f.d,null,r.a.createElement("div",{onMouseEnter:()=>{E?E():I(!0)},onMouseLeave:()=>{S?S():I(!1)}},r.a.createElement(l.b,{to:F,onClick:()=>{c&&c(R)}},r.a.createElement(f.z,{rounding:4},r.a.createElement(f.d,{width:o||"100%",height:t,dangerouslySetInlineStyle:{__style:{backgroundColor:B}}},U&&r.a.createElement(f.u,{alt:D,color:B,fit:"cover",naturalHeight:U.height,naturalWidth:U.width,src:U.url})),r.a.createElement(f.d,{height:t,width:o||"100%",dangerouslySetInlineStyle:{__style:C||k?_.hoverOverlay:U&&_.bubbleOverlay},position:"absolute",top:!0,left:!0}),P&&26!==N&&r.a.createElement(f.d,{position:"absolute",top:!0,left:!0,padding:2},r.a.createElement(i.a,{outline:!0,size:"xs",src:P.image_small_url,name:P.full_name})),r.a.createElement(f.d,{display:"flex",height:t,width:o||"100%",position:"absolute",top:!0,padding:3,alignItems:26===N?"end":"center",justifyContent:"center"},r.a.createElement(f.d,{display:"flex",direction:"column"},t>200?r.a.createElement(f.r,{size:"md",align:"center",color:"white"},D):r.a.createElement(f.U,{align:"center",color:"white",weight:"bold"},D),P&&26===N&&r.a.createElement(f.d,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4},r.a.createElement(f.d,{marginEnd:2},r.a.createElement(i.a,{outline:!0,size:"xs",src:P.image_small_url,name:P.full_name})),r.a.createElement(f.U,{size:"sm",color:"white"},P.full_name)))),T.isAuth&&T.isEmployee&&b&&(C||k)?r.a.createElement(f.d,{position:"absolute",bottom:!0,right:!0,marginBottom:1},r.a.createElement(v,{handleReport:g,viewType:p,viewParameter:h,imgSignature:y||""})):null)))))}))},L2iP:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p}));const a=64,r=80,o=22,i="HeaderContent",s="unauthEuCookieBar",l=4,c=24,u=671,d={marginBottom:l},p={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},LqpT:function(e,t,n){var a=n("1hJj"),r=n("jbM+"),o=n("Xt/L"),i=n("eUgh"),s=n("sEf8"),l=n("xYSL");e.exports=function(e,t,n,c){var u=-1,d=r,p=!0,h=e.length,m=[],g=t.length;if(!h)return m;n&&(t=i(t,s(n))),c?(d=o,p=!1):t.length>=200&&(d=l,p=!1,t=new a(t));e:for(;++u<h;){var b=e[u],f=null==n?b:n(b);if(b=c||0!==b?b:0,p&&f==f){for(var y=g;y--;)if(t[y]===f)continue e;m.push(b)}else d(t,f,c)||m.push(b)}return m}},NrS9:function(e,t,n){var a=n("gxu6"),r=n("7w6Q"),o=n("eOdZ"),i=n("mBfy");const s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer(e,t,n){a.b("cm_sub","allowed",8760,"/"),t&&t(),r.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let i=e.subscriptionId;if(!i){const t=e.endpoint.split("/");i=t[t.length-1]}return o.a.create("WebPushDeviceResource",{}).callGet({showError:!1}).then(t=>{const n=t.resource_response.data;if(!(i in n)){const t={registration_id:i,subscription_endpoint:e.endpoint};return o.a.create("WebPushDeviceResource",t).callCreate()}})},subscribe(e,t,n){return r.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then(o=>{var i;null==o||null===(i=o.pushManager)||void 0===i||i.subscribe({userVisibleOnly:!0}).then(t=>this.sendSubscriptionToServer(t,e,n),o=>{"Notification"in window&&"denied"!==Notification.permission?(a.b("cm_sub","dismissed",8760,"/"),t&&t(),r.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(a.b("cm_sub","denied",8760,"/"),e&&e(),r.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))})})},initializeState(){if(i.default.isLimitedLogin())a.b("cm_sub","denied",8760,"/");else if(i.default.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{if(e)return this.sendSubscriptionToServer(e);throw a.b("cm_sub","none",8760,"/"),new Error}).catch(e=>{});a.b("cm_sub","denied",8760,"/")}else a.b("cm_sub","denied",8760,"/");else a.b("cm_sub","denied",8760,"/");else a.b("cm_sub","denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{s.instance().initializeState()}).catch(()=>{})}),t.a=s},NwjN:function(e,t,n){var a=n("q1tI");t.a=Object(a.createContext)(0)},Pus6:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("R6wO"),i=n("3gA6"),s=n("n6mq");t.a=({bold:e,description:t,descriptionColor:n,external:a,hasDividerAfter:l,icon:c,onClick:u,text:d,url:p})=>{const h=r.a.createElement(s.d,{role:"listitem",overflow:"hidden"},r.a.createElement(o.a,{bold:e,description:t,descriptionColor:n,icon:c,text:d}));return r.a.createElement(s.d,null,p?r.a.createElement(i.b,{to:p,external:a,onClick:u},h):r.a.createElement(s.T,{fullWidth:!1,onTap:u},h),l&&r.a.createElement(s.n,null))}},Sxd8:function(e,t,n){var a=n("ZCgT");e.exports=function(e){var t=a(e),n=t%1;return t==t?n?t-n:t:0}},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},UA6Y:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("xAAE"),s=n("Ye/N"),l=n("uP8D"),c=n("TiQD"),u=n("C0mq"),d=n("giqc"),p=n("pLLR"),h=n("ANjH"),m=n("n6mq");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=({footerText:e})=>r.a.createElement(m.U,{color:"gray",size:"sm"},e||s.a._("By submitting your comments, ideas or feedback, you agree that we are free to use them without any restriction or compensation to you. By accepting your submission, Pinterest does not guarantee it will review or address such feedback. Additionally, nothing submitted here will modify your existing terms.","Feedback modal dialog legal footer text.","Feedback modal dialog legal footer text."));class f extends a.Component{constructor(...e){super(...e),g(this,"onSubmit",e=>{const{nextPageToRedirect:t}=this.props;this.props.submitFeedback(this.buildContext(e)),t&&Object(i.a)(t)}),g(this,"onDismiss",()=>{const{nextPageToRedirect:e}=this.props;this.props.hideModal(),e&&Object(i.a)(e)}),g(this,"buildContext",e=>{const{location:t,requestContext:n}=this.props,a=n.origin.split(".")[0];return{actionFrom:this.props.actionFrom?this.props.actionFrom:"",product_id:a.substring(a.lastIndexOf("/")+1),feature_id:t.pathname.replace(/[^a-zA-Z0-9]+/g,""),browser_name:n.userAgent.browserName,browser_version:n.userAgent.browserVersion,type:"Freeform",verbatim_text:e,platform:n.userAgent.isMobile?"mweb":"desktop"}})}render(){const{modalOpen:e,hideModal:t,prompt:n,placeholder:a,title:o,isSubmitting:i,submissionComplete:u,submissionFailure:d,nextPageToRedirect:p,footerText:h}=this.props;return e?r.a.createElement(c.b,{accessibilityModalLabel:s.a._("Send Feedback","Feedback modal accessibility label","Feedback modal accessibility label"),footer:r.a.createElement(b,{footerText:h}),heading:o||s.a._("Send Feedback","Default heading for the feedback modal dialog","Default heading for the feedback modal dialog"),onDismiss:t,role:"dialog",size:"md"},!u&&!d&&r.a.createElement(l.a,{disabled:i,nextPageToRedirect:p,onDismiss:this.onDismiss,onSubmit:this.onSubmit,placeholder:a,prompt:n}),d&&r.a.createElement(m.d,{"data-test-id":"feedback-error-message",padding:4},r.a.createElement(m.U,null,s.a._("Oops, something went wrong submitting your feedback. Please try again later.","Message displayed when feedback failed to be submitted","Message displayed when feedback failed to be submitted"))),u&&r.a.createElement(m.d,{"data-test-id":"feedback-success-message",padding:4},r.a.createElement(m.U,null,s.a._("Thank you for your feedback!","Message displayed when feedback failed is successfully submitted","Message displayed when feedback failed is successfully submitted"))),(u||d)&&!p&&r.a.createElement(m.d,{"data-test-id":"back-button-container",padding:4},r.a.createElement(m.e,{onClick:t,text:"Back"}))):null}}t.a=Object(h.compose)(Object(o.connect)(e=>({title:e.inSiteFeedback?e.inSiteFeedback.modalTitle:null,prompt:e.inSiteFeedback?e.inSiteFeedback.prompt:null,submissionFailure:e.inSiteFeedback?e.inSiteFeedback.submissionFailure:null,modalOpen:e.inSiteFeedback&&e.inSiteFeedback.modalOpen,isSubmitting:e.inSiteFeedback&&e.inSiteFeedback.isSubmitting,submissionComplete:e.inSiteFeedback&&e.inSiteFeedback.submissionComplete,actionFrom:e.inSiteFeedback?e.inSiteFeedback.actionFrom:null,nextPageToRedirect:e.inSiteFeedback?e.inSiteFeedback.nextPageToRedirect:null}),e=>({hideModal:Object(h.bindActionCreators)(d.a,e),submitFeedback:Object(h.bindActionCreators)(d.c,e)})),p.e,u.a)(f)},Ua9r:function(e,t,n){var a=n("2QZH"),r=n("zpPL"),o=n("kmwA"),i=n("zwad");const s={getAdvertiserId:function(e){let t=null;if(e&&(t=e.advertiserId||null),!t&&r.a&&r.a.instance){const e=r.a.instance.getState();e.advertiser&&(t=e.advertiser.id)}return t},getSterlingURL:function(e,t){if(!a.a[e])throw new Error("unknown url key: "+e);t||(t={});let n=a.a[e](t);const r=s.getAdvertiserId(t);return"string"==typeof r&&(n="/advertiser/"+r+n),!!t.absolutify&&(n=i.a.absolutify(n,void 0,o.a.settings.ADS_DOMAIN)),n},micro_bid_to_display:function(e){return e/1e6},url_format:function(e,t){let n="";if(e&&(n=e,t)){const a=i.a.parse(e,!0),r="/advertiser/",{hostname:s}=a,{ADS_DOMAIN:l,ADS_SITE_URL:c}=o.a.settings;null!==s&&s!==l||(e.startsWith(c)&&(e=e.replace(c,"")),n=e.startsWith(r)?e:r+t+e)}return n}};t.a=s},Ujbc:function(e,t,n){var a=n("TqRt");t.__esModule=!0,t.default=void 0;var r=a(n("0Bgb")),o=function(e,t){if(!e)return e;var n=(0,r.default)(t),a=n.length;if(a){for(var o=e,i=0;i<a&&o;++i)o=o[n[i]];return o}};t.default=o},Uq0c:function(e,t,n){function a(e){return"/"+e.username}n.d(t,"a",(function(){return a}))},VCm5:function(e,t,n){var a=n("TqRt");t.__esModule=!0,t.default=void 0;var r=a(n("pVnL")),o=a(n("0Bgb"));function i(e,t){if(null==e||null==t)return e;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(a.length){if(Array.isArray(e)){if(isNaN(t))throw new Error('Must access array elements with a number, not "'+String(t)+'".');var s=Number(t);if(s<e.length){var l=i.apply(void 0,[e&&e[s]].concat(a));if(l!==e[s]){var c=[].concat(e);return c[s]=l,c}}return e}if(t in e){var u,d=i.apply(void 0,[e&&e[t]].concat(a));return e[t]===d?e:(0,r.default)({},e,((u={})[t]=d,u))}return e}if(Array.isArray(e)){if(isNaN(t))throw new Error('Cannot delete non-numerical index from an array. Given: "'+String(t));var p=Number(t);if(p<e.length){var h=[].concat(e);return h.splice(p,1),h}return e}if(t in e){var m=(0,r.default)({},e);return delete m[t],m}return e}var s=function(e,t){return i.apply(void 0,[e].concat((0,o.default)(t)))};t.default=s},WQdw:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("Cufx"),i=n("GFC/"),s=n("n6mq");function l(e){var t;return(null===(t=e.partner)||void 0===t?void 0:t.isLinkedBusiness)?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function c(e){const{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}function u({isChildAccount:e,user:t}){const n=e?32:48;return r.a.createElement(s.d,{alignItems:"center",display:"flex",justifyContent:"start",marginEnd:4,paddingY:2,rounding:2},r.a.createElement(s.d,{flex:"none",height:n,marginEnd:2,rounding:"circle",width:n},r.a.createElement(o.a,{accessibilityLabel:"",name:l(t),src:c(t)})),r.a.createElement(s.d,{maxWidth:e?148:176},r.a.createElement(s.U,{truncate:!0,weight:"bold"},l(t)),!e&&r.a.createElement(s.U,{color:"gray",size:"sm",truncate:!0},t.email)))}function d({childAccounts:e,isCurrentAccount:t,onChildAccountClick:n=(()=>{}),onClick:o,user:l}){return r.a.createElement(a.Fragment,null,r.a.createElement(i.a,{icon:t?"selected":void 0,onClick:o,url:t?`/${l.username}/`:void 0},r.a.createElement(u,{user:l})),e&&e.length>0&&r.a.createElement(s.d,{dangerouslySetInlineStyle:{__style:{marginLeft:"56px"}},marginBottom:1,role:"list"},e.map(e=>r.a.createElement(i.a,{key:e.id,onClick:()=>n(e)},r.a.createElement(u,{isChildAccount:!0,user:e})))))}},WnNx:function(e,t,n){function a(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function r(){return{type:"HIDE_REPIN_ANIMATION"}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}},YAa9:function(e,t,n){n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n("eOdZ"),r=n("xweI"),o=n.n(r),i=n("0G5S");const s="MULTIPLE_ACCOUNTS",l=()=>JSON.parse("undefined"!=typeof window?Object(i.a)(s):"{}")||{},c=e=>{"undefined"!=typeof window&&Object(i.c)(s,JSON.stringify(e))},u=e=>{const t=l();t[e.id]||(t[e.id]={logged_in:!0},c(t))},d=(e,t)=>{const n=Object(i.a)(s)?JSON.parse(Object(i.a)(s)):{},a=Object.keys(n);e(t+".removeAccountDataFromLocalStorage.start"),0===a.length||n[a[0]].logged_in?e(t+".removeAccountDataFromLocalStorage.early_return"):(a.forEach(e=>{delete n[e],n[e]={logged_in:!0}}),Object(i.c)(s,JSON.stringify(n)),e(t+".removeAccountDataFromLocalStorage.updated"))},p=e=>{const t=l();t&&e in t&&(delete t[e],c(t))};const h=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner,businesses:((null==e?void 0:e.businesses)||[]).map(t=>{var n,a,r,o;return{...h(t),partner:{bizContactEmail:(null===(n=t.partner)||void 0===n?void 0:n.contact_email)||"",bizOwnershipEmail:(null===(a=t.partner)||void 0===a?void 0:a.biz_ownership_email)||e.email||"",businessName:null===(r=t.partner)||void 0===r?void 0:r.business_name,isLinkedBusiness:null===(o=t.partner)||void 0===o?void 0:o.is_linked_business}}})}),m=async(e,t=!0)=>{var n;u(e);const r=l(),i=Object.keys(r),s=t?"linked_partner":"summary",c=a.a.create("MultiUserResource",{ids:i,fieldSetKey:s}),d=await c.callGet(),p=null==d||null===(n=d.resource_response)||void 0===n?void 0:n.data;if(p&&Object.keys(p).length>0){return function(e){const t=e.every(e=>Boolean(e.fullName));return o()(e,[t?"fullName":"username"])}(Object.keys(p).filter(e=>"success"===p[e].status).map(e=>h(p[e].data)))}return[]}},ZCgT:function(e,t,n){var a=n("tLB3"),r=1/0;e.exports=function(e){return e?(e=a(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},"a3v+":function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("JW66"),s=n("4cpq"),l=n("n6mq"),c=n("tkfL");function u({contentTypes:e,contentTypesAnchor:t,currentlySelectedFilterIdx:n,handleSelectFilter:a,onDismiss:o}){return r.a.createElement(l.p,{anchor:t,idealDirection:"down",onDismiss:o,size:"xs"},r.a.createElement(c.a,null,e.map((e,t)=>r.a.createElement(s.a,{key:e.text,id:"search-filter-"+e.text.replace(/\s/g,"-").toLowerCase()},r.a.createElement(c.b,{bold:n===t,onClick:()=>a(t),text:e.text})))))}var d=n("Ye/N"),p=n("joD6"),h=n("ANjH"),m=n("7Ve8");var g=n("U4JR"),b=n("C0mq");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=e=>{switch(e){case m.a.PINS:return 220;case m.a.PINS_MINE:return 223;case m.a.PINS_BUYABLE:return 842;case m.a.PINS_VIDEO:return 11399;case m.a.BOARDS:return 221;case m.a.USERS:return 222;default:return null}};class E extends a.Component{constructor(e){super(e),f(this,"handleContentFilterButtonClick",({event:e})=>{e&&(e.preventDefault(),e.stopPropagation());const{currentQuery:t}=this.props;this.setState({isContentFilterFlyoutOpen:!this.state.isContentFilterFlyoutOpen}),Object(g.a)(101,{component:215,entered_query:t})}),f(this,"handleSelectFilter",e=>{const{currentQuery:t,handleScopeChange:n,history:a}=this.props,{displayShopTab:r,isShopTab:o}=this.props,i=r&&o&&e>=2?e+1:e;this.setState({currentlySelectedFilterIdx:i,isContentFilterFlyoutOpen:!1}),Object(g.a)(101,{component:215,element:y(this.getCurrentlySelectedFilter().scope),entered_query:t});const s=this.contentTypes[i]||this.contentTypes[0]||{};n(s.scope);const l="buyable_pins"===s.scope?"&tab=shop":"";t&&a.push(`/search/${s.scope}/?q=${encodeURIComponent(t)}&rs=filter${l}`)}),f(this,"handleMouseEnter",e=>{const{handleContentTypeFilterHover:t}=this.props;e.stopPropagation(),this.setState({isHovered:!0}),t&&t(!0)}),f(this,"handleMouseLeave",e=>{const{handleContentTypeFilterHover:t}=this.props;this.setState({isHovered:!1}),t&&t(!1)});const{currentlySelectedFilter:t}=e;this.contentTypes=[{scope:m.a.PINS,text:d.a._("All Pins","All Pins label for content type filters on search bar","All Pins label for content type filters on search bar")},{scope:m.a.PINS_MINE,text:d.a._("Your Pins","Your Pins label for content type filters on search bar","Your Pins label for content type filters on search bar")},{scope:m.a.PINS_BUYABLE,text:d.a._("Product Pins","Product Pins label for content type filters on search bar","Product Pins label for content type filters on search bar")},{scope:m.a.PINS_VIDEO,text:d.a._("Videos","Video label for content type filters on search bar","Video label for content type filters on search bar")},{scope:m.a.USERS,text:d.a._("People","People label for content type filters on search bar","People label for content type filters on search bar")},{scope:m.a.BOARDS,text:d.a._("Boards","Boards label for content type filters on search bar","Boards label for content type filters on search bar")}],this.state={currentlySelectedFilterIdx:t&&this.contentTypes.findIndex(e=>e.scope===t)||0,isContentFilterFlyoutOpen:!1,isHovered:!1}}UNSAFE_componentWillReceiveProps(e){e.currentlySelectedFilter&&e.currentlySelectedFilter!==this.props.currentlySelectedFilter&&this.setState({currentlySelectedFilterIdx:this.contentTypes.findIndex(t=>t.scope===e.currentlySelectedFilter)})}getFilters(){const{displayShopTab:e,isShopTab:t}=this.props,n=this.contentTypes,a=n.slice(0,2).concat(n.slice(3));return e&&t?a:this.contentTypes}getCurrentlySelectedFilter(){const{currentlySelectedFilterIdx:e}=this.state;return this.getFilters()[e]||this.contentTypes[0]}render(){const{displayShopTab:e,isShopTab:t,location:n}=this.props,{currentlySelectedFilterIdx:o,isContentFilterFlyoutOpen:i,isHovered:s}=this.state,c=t&&n.pathname.includes("buyable_pins")&&e,p=c?this.contentTypes[0].text:this.getCurrentlySelectedFilter().text,h=r.a.createElement("div",{"data-test-id":"search-filter",ref:e=>{this.contentTypesAnchor=e},style:{borderRadius:"0 4px 4px 0",height:48,overflow:"hidden"}},r.a.createElement(l.d,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4},r.a.createElement(l.U,{color:c?"gray":"darkGray",inline:!0,size:"md",weight:"bold"},p),r.a.createElement(l.d,{marginStart:2},r.a.createElement(l.s,{accessibilityLabel:d.a._("Dropdown"),color:c?"gray":"darkGray",icon:"arrow-down",inline:!0,size:12}))));return r.a.createElement(l.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:s?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,marginStart:2,position:"relative",rounding:6},c?r.a.createElement(a.Fragment,null,h):r.a.createElement(l.T,{fullHeight:!0,fullWidth:!1,onMouseEnter:({event:e})=>this.handleMouseEnter(e),onMouseLeave:({event:e})=>this.handleMouseLeave(e),onTap:this.handleContentFilterButtonClick,rounding:6},h),i&&r.a.createElement(u,{contentTypes:this.getFilters(),contentTypesAnchor:this.contentTypesAnchor,currentlySelectedFilterIdx:o,handleSelectFilter:this.handleSelectFilter,onDismiss:()=>this.setState({isContentFilterFlyoutOpen:!1})}))}}var v=Object(h.compose)(Object(o.connect)(({search:e})=>({displayShopTab:e.displayShopTab}),()=>({})),p.a,b.a)(E),S=n("D2p8"),x=n("eOdZ");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={backgroundColor:"transparent",border:"none",color:"#333",fontFamily:n("a0jO").b,fontSize:16,fontWeight:600,height:"100%",outline:"none",padding:"0",width:"100%"};class C extends a.PureComponent{constructor(...e){super(...e),_(this,"_input",Object(a.createRef)()),_(this,"handleInputOverlayClick",e=>{this._input.current&&this._input.current.focus()}),_(this,"handleOnChange",e=>{const{onTextChange:t}=this.props;t(e.target.value)})}componentDidMount(){const{isFocused:e,onSearchTrigger:t}=this.props;this.setFocus(e),this._input.current&&this._input.current.addEventListener("searchTrigger",t)}componentDidUpdate(){const{isFocused:e}=this.props;this.setFocus(e)}setFocus(e){if(!this._input.current)return;document.activeElement===this._input.current!==e&&(e?this._input.current.focus():this._input.current.blur())}render(){const{focusOptionId:e,onInputBlur:t,onInputFocus:n,onClick:o=(()=>{}),onKeyDown:i,placeholder:s,textValue:c}=this.props;return r.a.createElement(l.d,{height:"100%",flex:"grow"},r.a.createElement(a.Fragment,null,r.a.createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-autocomplete":"list","aria-describedby":"SearchInputAccessibleText","aria-controls":"SuggestionsMenu","aria-activedescendant":e,"data-test-id":"search-box-input",name:"searchBoxInput",onBlur:t,onChange:this.handleOnChange,onClick:o,onFocus:n,onKeyDown:i,placeholder:s||d.a._("Search","searchBox.searchInput.placeholder","placeholder text for the search box"),ref:this._input,style:{...w,fontWeight:"normal"},type:"text",value:c}),r.a.createElement(l.d,{display:"none",id:"searchBoxAccessibleText"},d.a._("When autocomplete results are available use up and down arrows to\n                    review and enter to select. Touch device users, explore by touch or\n                    with swipe gestures.","searchBox.searchInput.accessibleText","Accessible text for search input"))))}}var T=C,k=n("3gA6");function I({suggestions:e}){const t=e[0];return r.a.createElement(l.d,{padding:10},r.a.createElement(l.d,{marginBottom:6},r.a.createElement("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},t.description)),r.a.createElement(k.b,{to:t.action_button_uri},r.a.createElement(l.d,{color:"navy",display:"inlineBlock",rounding:"pill",padding:3},r.a.createElement(l.U,{color:"white",weight:"bold"},t.action_button_text))))}var R=n("q8wg"),A=n("zwad"),O=n("KPZG"),L=n("q7Wf");function M(e,t,n,a=0){if("explorearticle"===e.type){const{story_category:t,query:n,referringSource:a,id:r,storyId:o}=e;return Object(O.b)({storyCategory:t,query:n,referringSource:a,bubbleId:r,storyId:o})}const r={eq:Object(L.g)(t)};a&&(r.etslf=String(Date.now()-a));let o=A.a.appendQueryString(e.url||"",r);const i=Object(L.f)({index:n||0,query:e.query||"",type:e.type});return o+=Object(L.d)({queryStates:i}),o}function N(e,t){return`SuggestionGroup-Option-${e}-${t}`}const P=e=>{let t=0;return e.map(e=>{const n=t;return t+=e.items.length,n})},U=(e,t)=>{if(null==t)return;const n=P(e);for(let a=0;a<n.length;a+=1)if(t-n[a]<e[a].items.length)return e[a].items[t-n[a]];return null};var D=n("gYog"),B=n("TiQD"),F=n("CvCA"),j=n("nGHF");function q({handleReport:e}){const[t,n]=Object(a.useState)(!1),{showToast:o}=Object(j.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.t,{accessibilityLabel:d.a._("Report","Accessibility label for report icon for search term","Accessibility label for report icon for search term"),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),n(!0)},size:"xs"}),t&&r.a.createElement(B.b,{accessibilityModalLabel:d.a._("Report search","accessible label for report search modal","accessible label for report search modal"),heading:d.a._("Report Search Term","Heading for report searchmodal","Heading for report searchmodal"),onDismiss:()=>n(!1),size:"sm"},r.a.createElement(l.d,null,r.a.createElement(l.d,{padding:4},r.a.createElement(l.U,null,d.a._("Flag this search term for review by our Trust and Safety team","What will happen when you report a search term","What will happen when you report a search term"))),r.a.createElement(l.d,{display:"flex",justifyContent:"end"},r.a.createElement(l.d,{margin:2},r.a.createElement(l.e,{onClick:()=>n(!1),text:d.a._("Cancel","Text for cancel button when reporting search result","Text for cancel button when reporting search result")})),r.a.createElement(l.d,{margin:2},r.a.createElement(l.e,{color:"red",onClick:()=>{e(),o(({onHide:e})=>r.a.createElement(F.a,{onHide:e,text:d.a._("Thanks! Your feedback helps keep the Pinterest community safe.","Toast after reporting a search term","Toast after reporting a search term")})),n(!1)},text:d.a._("Report","Button label to report search term","Button label to report search term")}))))))}var H=n("v/Q4"),Y=n("nRAE"),G=n("0SCs");const z={strings:["pride","fierté","orgullo","orgulho gay","orgoglio gay"],style:"multicolor",colorEnum:["#E60023","#CC4E00","#008A1C","#0074E8","#6C1EA6"]},W={strings:["Black Lives Matter","BLM","Vidas Negras Importam","Vidas Pretas Importam","Vidas Negras Importan"],style:"background",backgroundColor:"black",textColor:"white"},Q=(e,t)=>t.map(t=>((e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;const a=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,a),e.slice(a,a+t.length)]})(e,t)).filter(e=>e).sort((e,t)=>e&&t?e[0].length-t[0].length:0).shift(),V=(e,t)=>t.map(t=>((e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;const a=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,a),t]})(e,t)).filter(e=>e).sort((e,t)=>e&&t?e[0].length-t[0].length:0).shift();var K=n("D3nP");const $=0,X=2,J=({id:e,children:t,isHovered:n,url:a,onClick:o,onMouseEnter:i,onMouseLeave:s})=>r.a.createElement(l.d,{id:e,color:n?"lightGray":"white","data-test-id":"search-suggestion",role:"option","aria-selected":n?"true":"false"},r.a.createElement("div",{onMouseEnter:i,onMouseLeave:s},r.a.createElement("a",{href:a,tabIndex:"-1",onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),o(e))}},r.a.createElement(l.d,{marginBottom:1,paddingX:5},t)))),Z=({id:e,isHovered:t,url:n,label:a,onClick:o,onMouseEnter:i,onMouseLeave:s})=>r.a.createElement(l.d,{paddingX:1,marginBottom:2,id:e,"data-test-id":"search-suggestion",role:"option","aria-selected":t?"true":"false"},r.a.createElement("div",{onMouseEnter:i,onMouseLeave:s},r.a.createElement("a",{href:n,tabIndex:"-1",onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),o(e))}},r.a.createElement(l.d,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,color:t?"darkWash":"lightGray",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},rounding:"pill"},r.a.createElement(l.U,{align:"center",weight:"bold"},a))))),ee=({title:e})=>r.a.createElement(l.d,{marginStart:5,marginEnd:1,paddingY:2,marginTop:2},r.a.createElement(l.U,{size:"md",truncate:!0},e)),te=({parts:e})=>r.a.createElement(l.d,{paddingY:1,width:"100%"},r.a.createElement(l.U,{truncate:!0},e.map((e,t)=>{switch(e.style){case"multicolor":let n=0;const a=e.text,{colorEnum:o}=e.easterEggConfig||{};return o?a.split("").map((t,a)=>{const i=o[n];return" "!==t&&(n=(n+1)%o.length),r.a.createElement("span",{style:{color:i,fontWeight:"bold"},key:`${e.text}-easterEgg-${a}`},t)}):null;case"background":case"background-bold":const{backgroundColor:i,textColor:s}=e.easterEggConfig||{};return r.a.createElement("span",{style:{backgroundColor:i,color:s,fontWeight:e.style.includes("bold")?"bold":void 0,whiteSpace:"pre-wrap"},key:`${e.text}-easterEgg-${t}`},e.text);case"thick-gray":return r.a.createElement(l.U,{color:"gray",inline:!0,key:`${e.text}-${t}`,weight:"bold"},e.text);case"thin-darkGray":return r.a.createElement(l.U,{inline:!0,key:`${e.text}-${t}`},e.text);case"thick-darkGray":default:return r.a.createElement(l.U,{inline:!0,key:`${e.text}-${t}`,weight:"bold"},e.text)}}))),ne=({imageUrl:e,isVerifiedMerchant:t=!1,label:n,rounding:a,subLabel:o,verified:i=!1})=>r.a.createElement(l.d,{display:"flex",paddingY:1,width:"100%"},r.a.createElement(l.d,{flex:"none",marginEnd:2,width:18,height:18,overflow:"hidden",rounding:a&&2===a?2:"circle"},r.a.createElement(l.u,{alt:n,color:"#efefef",fit:"cover",naturalHeight:18,naturalWidth:18,src:e})),r.a.createElement(l.d,{flex:"grow"},r.a.createElement(l.d,{alignItems:"center",display:"flex"},r.a.createElement(l.U,{weight:"bold"},n),(i||t)&&r.a.createElement(l.d,{marginStart:1},r.a.createElement(Y.a,{hasVerifiedIdentity:i,iconOnly:!0,isVerifiedMerchant:t,size:"xs"})),o&&r.a.createElement(l.d,{marginStart:1},r.a.createElement(l.U,{color:"gray"},o))))),ae=({label:e})=>r.a.createElement(l.d,{display:"flex",paddingY:1,width:"100%"},r.a.createElement(l.d,{display:"flex",marginEnd:2,alignItems:"center"},r.a.createElement(l.s,{icon:"arrow-up-right",color:"gray",accessibilityLabel:"",inline:!0,size:16})),r.a.createElement(l.U,{color:"gray"},e));function re({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:i,query:s,suggestions:c}){const u=Object(o.useDispatch)(),{anyEnabled:d}=Object(G.a)("mweb_web_pride_easter_egg_2020"),{anyEnabled:p}=Object(G.a)("mweb_web_blm_easter_egg"),h=Object(H.a)();return r.a.createElement(r.a.Fragment,null,c.map((o,m)=>{const g=s.toLowerCase(),b=o.label.toLowerCase(),f=(b.startsWith(g)?g:"").length;let y=[{text:b.substr(0,f),style:"thin-darkGray"},{text:b.substr(f,b.length-f),style:"thick-darkGray"}];const E=p&&V(b,W.strings),v=d&&Q(b,z.strings);if(E){const e=b.substr(E.join("").length);y=[{text:" "+E[0],style:W.style,easterEggConfig:W},{text:E[1],style:"background-bold",easterEggConfig:W},{text:e+" ",style:W.style,easterEggConfig:W}]}else if(v){const e=v[1],t=b.indexOf(e),n=t+e.length;y=f<=t?[{text:b.substr(0,f),style:"thin-darkGray"},{text:b.substr(f,t-f),style:"thick-darkGray"},{text:b.substr(t,e.length),style:z.style,easterEggConfig:z},{text:b.substr(n,b.length-n),style:"thick-darkGray"}]:f<=n?[{text:b.substr(0,t),style:"thin-darkGray"},{text:b.substr(t,e.length),style:z.style,easterEggConfig:z},{text:b.substr(n,b.length-n),style:"thick-darkGray"}]:[{text:b.substr(0,t),style:"thin-darkGray"},{text:b.substr(t,e.length),style:z.style,easterEggConfig:z},{text:b.substr(n,f-n),style:"thin-darkGray"},{text:b.substr(f,b.length-f),style:"thick-darkGray"}]}return r.a.createElement(J,{id:N(e,m),url:M(o,s,m),isHovered:t===m,key:`${o.type}-${o.label}`,onClick:e=>{n(o,m)},onMouseEnter:e=>{a(m)},onMouseLeave:e=>{i()}},r.a.createElement(l.d,{alignItems:"center",display:"flex",marginStart:7},r.a.createElement(l.d,{flex:"grow"},r.a.createElement(te,{parts:y})),h.isAuth&&h.isEmployee&&t===m?r.a.createElement(l.d,{flex:"none"},r.a.createElement(q,{handleReport:()=>{u(Object(K.a)({report:b,query:g,suggestions:c.map(e=>e.label),type:$}))}})):null))}))}const oe=({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:o,suggestions:i})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.d,{height:24}),i.map((i,s)=>r.a.createElement(J,{id:N(e,s),url:i.url,isHovered:t===s,key:`${i.type}-${i.label}-${i.subLabel||""}`,onClick:e=>{n(i,s)},onMouseEnter:e=>{a(s)},onMouseLeave:e=>{o()}},"board"===i.type?(e=>r.a.createElement(ne,{imageUrl:e.board_thumb_url,label:e.label,rounding:2,subLabel:d.a._("My board","contextual clue for user's board suggestions in autocomplete","contextual clue for user's board suggestions in autocomplete")}))(i):(e=>r.a.createElement(ae,{label:e.label}))(i))));function ie({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:i,suggestions:s}){const c=Object(o.useDispatch)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.d,{display:"flex",width:"100%"},r.a.createElement(ee,{title:d.a._("Recent searches","Recent searches heading in search autocomplete","Recent searches heading in search autocomplete")}),r.a.createElement("div",{style:{marginTop:"10px"},"data-test-id":"clear-recent-queries"},r.a.createElement(l.t,{accessibilityLabel:d.a._("Remove","Remove recent search in search typeahead suggestion","Remove recent search in search typeahead suggestion"),icon:"clear",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),c(Object(K.b)())},size:"sm"}))),r.a.createElement(l.d,{display:"flex",wrap:!0,width:"100%",paddingX:4},s.map((o,s)=>r.a.createElement("div",{"data-test-id":"recent-query",key:`${o.type}-${o.label}`},r.a.createElement(Z,{id:N(e,s),url:M(o,"",s),label:o.label,isHovered:t===s,onClick:()=>{n(o,s)},onMouseEnter:()=>{a(s)},onMouseLeave:()=>{i()}})))))}function se({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:i,suggestions:s}){const c=s.items.map(({type:e,id:t})=>e+":"+t).join("|"),u=Object(o.useDispatch)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{title:s.title.format}),r.a.createElement(D.a,{viewType:2,componentType:200,viewParameter:103,loggingId:s.id,contextLogData:{story_type:s.story_type,objectId:s.id,content_ids:c},impressionType:"Story",slotIndex:e},r.a.createElement(l.d,{display:"flex",wrap:!0,maxWidth:832,paddingX:4},s.items.slice(0,"shopping_spotlight"===s.story_type?4:void 0).map((o,d)=>{const p=t===d;return r.a.createElement("div",{"data-test-id":"search-suggestion",key:`story-${o.story_category?o.story_category:""}-${e}-${d}`},r.a.createElement(l.d,{paddingX:1,marginBottom:2,id:N(e,d),"data-test-id":"search-suggestion",role:"option","aria-selected":p?"true":"false"},r.a.createElement(O.a,{isHovered:p,onClick:()=>{n(o,d)},onMouseEnter:()=>{a(d)},onMouseLeave:()=>{i()},height:"shopping_spotlight"===s.story_type?192:84,width:192,bubble:o,storyId:s.id,referringSource:2===o.story_category?"trending":"autocomplete_bubble",viewType:2,viewParameter:103,slotIndex:d,showFlag:2===o.story_category,handleReport:()=>{u(Object(K.a)({query:"",report:o.query,suggestions:s.items.map(e=>e.query),type:X}))},imgSignature:o.aux_fields&&o.aux_fields.image_sig,contextLogData:{story_type:s.story_type,content_ids:c}})))}))))}const le=({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:o,suggestions:i,showHeading:s=!0})=>r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(l.d,{height:24}),i.map((i,s)=>r.a.createElement(J,{id:N(e,s),url:i.url,isHovered:t===s,key:`${i.type}-${i.label}-${i.subLabel||""}`,onClick:()=>{n(i,s)},onMouseEnter:()=>{a(s)},onMouseLeave:()=>{o()}},"user"===i.type?(e=>r.a.createElement(ne,{imageUrl:e.image_small_url,isVerifiedMerchant:e.is_verified_merchant,label:e.label,rounding:"circle",verified:e.verified}))(i):(e=>r.a.createElement(ae,{label:e.label}))(i)))),ce=({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:o,suggestions:i})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{title:d.a._("Pins from account","Filter by user heading in search autocomplete","Filter by user heading in search autocomplete")}),i.map((i,s)=>r.a.createElement(J,{id:N(e,s),url:i.url,isHovered:t===s,key:`${i.type}-${i.label}-${i.subLabel||""}`,onClick:()=>{n(i,s)},onMouseEnter:()=>{a(s)},onMouseLeave:()=>{o()}},"user"===i.type?r.a.createElement(ne,{imageUrl:i.image_medium_url||i.image_small_url,label:i.label,rounding:"circle",subLabel:i.subLabel,verified:i.verified}):r.a.createElement(te,{parts:[{text:i.label}]}))));function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const de={boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"};class pe extends a.PureComponent{constructor(...e){super(...e),ue(this,"handleSuggestionMouseEnter",(e,t)=>{const{onSuggestionHovered:n,suggestionGroups:a}=this.props;n(P(a)[e]+t)}),ue(this,"handleSuggestionMouseLeave",()=>{const{onSuggestionHovered:e}=this.props;e(void 0)}),ue(this,"renderSuggestionGroup",(e,t)=>{const{onSuggestionClick:n,query:a,focusIndex:o,suggestionGroups:i}=this.props,s=P(i),l=null==o?void 0:o-s[t];switch(e.type){case"autocompleteupsell":return r.a.createElement(I,{suggestions:e.items});case"board":return r.a.createElement(oe,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,suggestions:e.items});case"recent_query":return r.a.createElement(ie,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,suggestions:e.items});case"story":return r.a.createElement(se,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,suggestions:e});case"query":return r.a.createElement(re,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,query:a,suggestions:e.items});case"user":return r.a.createElement(le,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,suggestions:e.items});case"filter_user":return r.a.createElement(ce,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,suggestions:e.items});case"promoted_user":return r.a.createElement(le,{groupIndex:t,focusedIndex:l,onSuggestionClick:n,onSuggestionMouseEnter:e=>{this.handleSuggestionMouseEnter(t,e)},onSuggestionMouseLeave:this.handleSuggestionMouseLeave,suggestions:e.items,showHeading:!1})}return null})}render(){const{maxHeight:e,width:t,onMouseEnter:n,onMouseLeave:a,searchBoxHeight:o,suggestionGroups:i,query:s}=this.props;return r.a.createElement(R.a,{view:2,viewParameter:103},i.length?r.a.createElement(l.d,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 8px 8px",top:o}},left:!0,overflow:"hidden",position:"absolute",width:t||"100%",id:"SuggestionsMenu"},r.a.createElement("div",{"data-test-id":"typeaheadResults",onMouseEnter:n,onMouseLeave:a,style:{maxHeight:e,...de}},r.a.createElement(l.d,{color:"white",dangerouslySetInlineStyle:{__style:{paddingTop:"12px",paddingBottom:"16px"}},width:"calc(100% - 17px)"},i.map((e,t)=>e.items.length?r.a.createElement("div",{key:`${s}-${e.type}-${t}`},this.renderSuggestionGroup(e,t)):null)))):r.a.createElement("div",null))}}var he=n("jZhD"),me=n("zLLH"),ge=n("XCz/"),be=n("vvax"),fe=n("pLLR"),ye=n("vZlu");function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ve={md:407,sm:332},Se="from";class xe extends a.Component{constructor(...e){super(...e),Ee(this,"state",{appliedQuery:this.props.appliedQuery,appliedScope:this.props.appliedScope,appliedUser:this.props.appliedUser,enteredQuery:this.props.appliedQuery&&this.props.appliedUser?this.props.appliedQuery+"  "+"from: "+this.props.appliedUser:this.props.appliedQuery,enteredScope:this.props.appliedScope,enteredUser:this.props.appliedUser,displayedSuggestion:void 0,ghostTextDisplay:"",ghostTextFromPLP:!1,ghostTextQuery:"",hideEasterEggOverlay:!1,hideGhostText:!1,inputFocused:!1,isContentTypeFilterHovered:!1,keywordEditMode:!1,keywordExtracted:this.props.appliedUser?{prefix:this.props.appliedQuery+"  ",keyword:Se,value:" "+this.props.appliedUser}:null,searchBoxHovered:!1,showIconOnly:this.props.iconOnly||!1,suggestionGroups:[],suggestionsHovered:!1,suggestionsFocusIndex:void 0,suggestionsMaxHeight:void 0,lastFocusTime:0}),Ee(this,"isSelectionInKeyword",e=>{const{keywordExtracted:t}=this.state;return!!t&&e>t.prefix.length}),Ee(this,"handleInputBlur",()=>this.handleTypeaheadSessionToggle(!1,this.state.suggestionsHovered)),Ee(this,"handleInputFocus",e=>{this.setState({lastFocusTime:Date.now()}),Object(g.a)(101,{component:43,element:227}),e&&e.currentTarget&&this.isSelectionInKeyword(e.currentTarget.selectionStart)&&this.setState({keywordEditMode:!0},()=>{this.extractKeyword(this.state,this.displayedQuery)}),this.handleTypeaheadSessionToggle(!0,this.state.suggestionsHovered)}),Ee(this,"handleOnClick",e=>{const{keywordExtracted:t}=this.state;e&&e.currentTarget&&t&&(this.isSelectionInKeyword(e.currentTarget.selectionStart)?this.setState({keywordEditMode:!0},()=>{this.extractKeyword(this.state,this.displayedQuery)}):this.setState({keywordEditMode:!1}))}),Ee(this,"handleResize",()=>{var e;const t=(null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0;this.setState({hideEasterEggOverlay:t<=360,hideGhostText:t<=360,suggestionsMaxHeight:window.innerHeight-14-76})}),Ee(this,"handleScopeChange",e=>{const{enteredQuery:t}=this.state,{isPartner:n}=this.props;this.setState({enteredScope:e,inputFocused:n&&!t,suggestionsFocusIndex:void 0,displayedSuggestion:void 0,keywordEditMode:!1,keywordExtracted:null,enteredUser:""})}),Ee(this,"handleSuggestionsMouseEnter",()=>this.handleTypeaheadSessionToggle(this.state.inputFocused,!0)),Ee(this,"handleSuggestionsMouseLeave",()=>this.handleTypeaheadSessionToggle(this.state.inputFocused,!1)),Ee(this,"handleTypeaheadSessionToggle",(e,t)=>{const{dispatch:n,handleIconOnlyChange:a,iconOnly:r,isPartner:o}=this.props,{displayedSuggestion:i,isContentTypeFilterHovered:s,suggestionsFocusIndex:l}=this.state;(r||o&&!s)&&a&&(a(!e),this.setState({showIconOnly:!e}));const c=e||t;c?S.c.pause():S.c.resume(),n(Object(ye.b)(!c)),this.setState({inputFocused:e,suggestionsHovered:t,displayedSuggestion:c?i:void 0,suggestionsFocusIndex:c?l:void 0,hideEasterEggOverlay:!1}),n(Object(ye.e)(c))}),Ee(this,"handleKeywordSuggestionsMouseEnter",()=>{this.handleKeywordTypeaheadSessionToggle(this.state.inputFocused,!0)}),Ee(this,"handleKeywordSuggestionsMouseLeave",()=>{this.handleKeywordTypeaheadSessionToggle(this.state.inputFocused,!0)}),Ee(this,"handleKeywordTypeaheadSessionToggle",(e,t)=>{const{dispatch:n}=this.props,{suggestionsFocusIndex:a}=this.state,r=e||t;r?S.c.pause():S.c.resume(),n(Object(ye.b)(!r)),this.setState({inputFocused:e,suggestionsHovered:t,suggestionsFocusIndex:r?a:void 0}),n(Object(ye.e)(r))}),Ee(this,"handleKeywordTypeaheadOptionsAvailable",e=>{e.length>0&&this.setState({suggestionGroups:[{items:e.filter(e=>"user"===e.type),type:"filter_user"}]})}),Ee(this,"handleContentTypeFilterHover",e=>{const{isPartner:t}=this.props;t&&this.setState({isContentTypeFilterHovered:e})}),Ee(this,"extractKeyword",(e,t)=>{const n={keywordEditMode:!1,keywordExtracted:null,enteredUser:""};if(!e||!t||"pins"!==e.enteredScope)return n;const a=t.indexOf(":");if(a<=0)return n;const r=e.keywordExtracted,o=e.keywordEditMode,i=t.substr(0,a).split(" "),s=i.pop(),l=t.substr(a+1);if(s!==Se)return n;const c=!o&&!r,u=!o&&r&&l!==r.value;return o||c||u?(x.a.create("AdvancedTypeaheadResource",{term:l||" ",limit:5}).callGet().then(e=>{e.resource_response&&e.resource_response.data&&e.resource_response.data.items&&this.handleKeywordTypeaheadOptionsAvailable(e.resource_response.data.items)},e=>{throw e}),{keywordEditMode:!0,keywordExtracted:{prefix:i.join(" ")+(c?"  ":""),keyword:s,value:l},enteredUser:"",query:i.join(" ")+(c?"  ":" ")+s+":"+l}):!o&&r?{keywordEditMode:!1,keywordExtracted:{prefix:i.join(" "),keyword:r.keyword,value:l},enteredUser:e.enteredUser,query:i.join(" ")+" "+r.keyword+":"+l}:n}),Ee(this,"handleTextChange",e=>{this.setState({enteredQuery:e,suggestionsFocusIndex:void 0,displayedSuggestion:void 0,hideEasterEggOverlay:!1})}),Ee(this,"handleTextChangeAllowKeyword",e=>{const t=this.extractKeyword(this.state,e);this.setState({enteredQuery:t.query||e,keywordEditMode:t.keywordEditMode,keywordExtracted:t.keywordExtracted,enteredUser:t.enteredUser,suggestionsFocusIndex:void 0,displayedSuggestion:void 0,hideEasterEggOverlay:!1})}),Ee(this,"handleKeyDown",e=>{const{suggestionsFocusIndex:t,keywordEditMode:n}=this.state;switch(e.keyCode){case i.a.KeyCode.ENTER:{const a=U(this.suggestionGroups,t);this.inTypeaheadSession&&a&&e.preventDefault(),a?n?this.handleKeywordSuggestionSelect(a,a.resultIndex||0):this.handleSuggestionSelect(a,a.resultIndex||0,!0):n?this.setState({keywordEditMode:!1,keywordExtracted:null}):this.handleTypedSearchSubmit();break}case i.a.KeyCode.ESCAPE:this.inTypeaheadSession&&e.preventDefault(),this.handleTypeaheadSessionToggle(!1,!1);break;case i.a.KeyCode.UP:this.inTypeaheadSession&&e.preventDefault(),this.decrementSuggestionsFocusIndex();break;case i.a.KeyCode.DOWN:this.inTypeaheadSession&&e.preventDefault(),this.incrementSuggestionsFocusIndex();break;case i.a.KeyCode.TAB:{const{enteredQuery:t,ghostTextQuery:n}=this.state;n&&!t&&this.inTypeaheadSession&&(e.preventDefault(),e.stopPropagation(),this.setState({enteredQuery:n}));break}case 65:(e.ctrlKey||e.metaKey)&&this.setState({hideEasterEggOverlay:!0});break;default:e.currentTarget&&this.state.keywordExtracted&&(this.isSelectionInKeyword(e.currentTarget.selectionStart)?this.setState({keywordEditMode:!0},()=>{this.extractKeyword(this.state,this.displayedQuery)}):this.setState({keywordEditMode:!1}))}}),Ee(this,"handleSuggestionHovered",e=>{this.setState({suggestionsFocusIndex:e})}),Ee(this,"handleClearSearch",({event:e})=>{const t=this.state.appliedQuery,{dispatch:n,handleIconOnlyChange:a,history:r,isPartner:o}=this.props;if(this.setState({appliedQuery:"",appliedScope:"pins",appliedUser:"",enteredQuery:"",enteredScope:"pins",enteredUser:"",displayedSuggestion:void 0,keywordExtracted:null,keywordEditMode:!1,suggestionsFocusIndex:void 0}),t){const e=Object(L.b)({query:"",rs:"remove",termMeta:[]});r.push(e)}else o&&a&&a(!0);n(Object(K.d)(void 0))}),Ee(this,"handleSuggestionSelect",(e,t,n=!1)=>{const{dispatch:a,history:r}=this.props,{enteredQuery:o,lastFocusTime:i}=this.state,s=n?97:101;switch(e.type){case"more":{const n=e.url.includes("/users/")?"more_users":"more_boards";Object(g.a)(s,{view:2,viewParameter:103,component:35,element:104,autocomplete_type:n,result_index:t}),r.push(e.url);break}case"recent_query":case"query":{Object(g.a)(s,{view:2,viewParameter:103,component:35,element:104,autocomplete_type:e.type,result_index:t});const n=M(e,o,t,i);r.push(n);break}case"explorearticle":{Object(g.a)(6940,{view:2,viewParameter:103,component:35,element:104,autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t});const n=M(e,o,t,i);r.push(n);break}case"board":case"user":Object(g.a)(s,{view:2,viewParameter:103,component:35,element:104,autocomplete_type:e.type,result_index:t}),r.push(e.url)}this.setState({enteredQuery:"",displayedSuggestion:null}),this.handleTypeaheadSessionToggle(!1,!1),a(Object(K.d)(void 0))}),Ee(this,"handleSuggestionsUpdated",(e,t)=>{const n=[],a=[],r=[],o=[],{enteredQuery:i}=this.state,s=function(e){let t=!1;for(let a=0;a<e.length;a+=1)if(e[a].pinner_intent){t=!0;break}if(!t)return[];const n=[];for(let a=0;a<e.length;a+=1)if("user"===e[a].type&&!e[a].pinner_intent){n.push(e[a]);break}return n}(e);for(let c=0;c<e.length;c+=1)switch(e[c].type){case"query":n.push(e[c]);break;case"user":e[c].pinner_intent||a.push(e[c]);break;case"board":r.push(e[c]);break;case"autocompleteupsell":o.push(e[c])}const l=[];if(s.length&&l.push({items:s,type:"promoted_user"}),n.length&&l.push({items:n,type:"query"}),o.length&&l.push({items:o,type:"autocompleteupsell"}),r.length){const e=Object(be.b)(d.a._('All boards named "{{ enteredQuery }}"',"searchBox.boardSuggestions.moreBoardsText","See all board results for a search query"),{enteredQuery:i}).join("");r.push({type:"more",label:e,resultIndex:r.length,url:`/search/boards/?q=${encodeURIComponent(i)}&rs=ac`}),l.push({items:r,type:"board"})}if(a.length){const e=Object(be.b)(d.a._('All accounts named "{{ enteredQuery }}"',"searchBox.userSuggestions.moreUsersText","See all user results for a search query"),{enteredQuery:i}).join("");a.push({type:"more",label:e,resultIndex:a.length,url:`/search/users/?q=${encodeURIComponent(i)}&rs=ac`}),l.push({items:a,type:"user"})}this.setState({suggestionGroups:l,suggestionsFocusIndex:void 0,displayedSuggestion:void 0})}),Ee(this,"handleTypedSearchSubmit",()=>{const{appliedQuery:e,appliedScope:t,appliedUser:n,dispatch:a,displayShopTab:r,history:o}=this.props,{enteredScope:i,enteredUser:s,keywordExtracted:l}=this.state;if(this.displayedQuery===e&&i===t&&s===n)return;const c=Object(L.g)(l?l.prefix+" ":this.displayedQuery);if(!c.length)return;const u=Object(L.f)({type:L.a.USER_INPUT,query:c,index:0}),d=r&&"buyable_pins"===i,p=Object(L.b)({query:c,rs:"typed",scope:d?"pins":i,termMeta:u.map(e=>Object(L.e)(e)),...l&&s?{user:s}:{}});o.push(p),a(Object(K.d)(void 0))}),Ee(this,"handleKeywordSuggestionSelect",(e,t)=>{const{dispatch:n,history:a}=this.props,{keywordExtracted:r,enteredScope:o}=this.state;if(!r)return;this.setState({enteredUser:e.username,keywordEditMode:!1,keywordExtracted:{prefix:r.prefix,keyword:r.keyword,value:" "+e.username},enteredQuery:r.prefix+" "+r.keyword+": "+e.username}),this.handleTypeaheadSessionToggle(!1,!1);const i=Object(L.g)(r.prefix&&r.prefix+" "||""),s=Object(L.f)({type:L.a.USER_INPUT,query:i,index:t}),l=Object(L.b)({query:i,rs:"typed",scope:o,termMeta:s.map(e=>Object(L.e)(e)),user:e.username});a.push(l),n(Object(K.d)(void 0))}),Ee(this,"handleMouseEnter",()=>{this.setState({searchBoxHovered:!0})}),Ee(this,"handleMouseLeave",()=>{this.setState({searchBoxHovered:!1})}),Ee(this,"handleSearchIconButtonClick",()=>{const{handleIconOnlyChange:e,isPartner:t}=this.props;this.setState({inputFocused:!0,showIconOnly:!1}),e&&e(!1),t&&Object(g.a)(101,{element:11809})}),Ee(this,"getEasterEggOverlay",([e,t])=>{let n=0;const a=t.split("").map((e,t)=>{const a=z.colorEnum||[],o=a[n];return" "!==e&&(n=(n+1)%a.length),r.a.createElement("span",{style:{color:o},key:"easterEgg-"+t},e)});return r.a.createElement("div",{className:"EasterEggOverlay"},r.a.createElement("span",{style:{color:"transparent"}},e),a)})}componentDidMount(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.isComponentRendered=Boolean(document&&document.documentElement&&document.getElementsByTagName("div"))}componentDidUpdate(e){const{appliedQuery:t,appliedScope:n,appliedUser:a,iconOnly:r}=this.props;t===e.appliedQuery&&n===e.appliedScope&&a===e.appliedUser||this.handleTypeaheadSessionToggle(!1,!1),r!==e.iconOnly&&this.setState({showIconOnly:r})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}static getDerivedStateFromProps(e,t){let n={};if(!t.ghostTextDisplay&&!t.ghostTextQuery&&e.ghostTextResource&&e.ghostTextResource.isLoaded&&e.ghostTextResource.data&&e.ghostTextResource.data.length>0&&e.ghostTextResource.data[0].text&&e.ghostTextResource.data[0].query){const t={ghostTextDisplay:e.ghostTextResource.data[0].text,ghostTextQuery:e.ghostTextResource.data[0].query,ghostTextFromPLP:!1};n={...n,...t}}if(e.appliedQuery!==t.appliedQuery||e.appliedScope!==t.appliedScope||e.appliedUser!==t.appliedUser){const t={appliedQuery:e.appliedQuery,appliedScope:e.appliedScope,appliedUser:e.appliedUser,enteredQuery:e.appliedUser&&e.appliedQuery?e.appliedQuery+"  "+"from: "+e.appliedUser:e.appliedQuery,enteredScope:e.appliedScope,enteredUser:e.appliedUser,displayedSuggestion:void 0,keywordExtracted:e.appliedUser?{prefix:e.appliedQuery+"  ",keyword:Se,value:" "+e.appliedUser}:null};n={...n,...t}}return 0!==Object.entries(n).length?n:null}get inTypeaheadSession(){const{inputFocused:e,suggestionsHovered:t}=this.state;return e||t}get suggestionGroups(){const{recentQueries:e,recommendedQueries:t}=this.props,{enteredQuery:n,suggestionGroups:a}=this.state;return n.length?a:[{items:e,type:"recent_query"},...t]}get displayedQuery(){const{displayedSuggestion:e,enteredQuery:t}=this.state;return e&&e.query?e.query:t}incrementSuggestionsFocusIndex(){const{suggestionsFocusIndex:e}=this.state,t=this.suggestionGroups.map(e=>e.items.length).reduce((e,t)=>e+t,0);let n;n=null==e?0:e===t-1?void 0:e+1;const a=U(this.suggestionGroups,n);this.setState({suggestionsFocusIndex:n,displayedSuggestion:a})}decrementSuggestionsFocusIndex(){const{suggestionsFocusIndex:e}=this.state,t=this.suggestionGroups.map(e=>e.items.length).reduce((e,t)=>e+t,0);let n;n=null==e?t-1:0===e?void 0:e-1;const a=U(this.suggestionGroups,n);this.setState({suggestionsFocusIndex:n,displayedSuggestion:a})}render(){const{appliedQuery:e,isPartner:t,location:n,requestContext:o,tab:i,viewer:c,widthType:u}=this.props,{enteredQuery:p,enteredScope:h,ghostTextDisplay:m,ghostTextFromPLP:g,hideEasterEggOverlay:b,hideGhostText:f,inputFocused:y,searchBoxHovered:E,showIconOnly:S,suggestionsFocusIndex:x,suggestionsMaxHeight:_,keywordExtracted:w,keywordEditMode:C}=this.state,k=P(this.suggestionGroups);let I,R;if("number"==typeof x)for(let a=k.length-1;a>=0;a-=1)if(x>=k[a]){I=a,R=x-k[a];break}const A="number"==typeof I&&"number"==typeof R?N(I,R):"",O=Q(this.displayedQuery,z.strings),L=!!Q(this.displayedQuery,W.strings);let M=d.a._("Search","searchBox.placeholder.defaultText","default placeholder text for search box");m&&this.isComponentRendered&&!f&&(M=m,g&&(M=Object(be.b)(d.a._("Search for {{ ghostTextDisplay }}","searchBox.placeholder.ghostTextFromPLP","ghost text display from PLP bubbles"),{ghostTextDisplay:m}).join("")));const U=this.inTypeaheadSession&&!C;if(S&&!y&&!e&&!U)return r.a.createElement(l.d,{id:"searchBoxContainer",marginStart:"auto"},r.a.createElement(l.t,{accessibilityLabel:d.a._("Search icon","searchBox.searchIcon.accessibilityLabel","accessibility label for search icon only at narrow screen width"),icon:"search",onClick:this.handleSearchIconButtonClick,size:"lg"}));const D=c.isAuth&&n.pathname.startsWith(`/${c.username}/`),B="shrink"!==u&&(e||D);let F="shrink"===u?"8px":0;return B&&(F="4px"),r.a.createElement(l.d,{"aria-expanded":this.inTypeaheadSession?"true":"false","aria-haspopup":"listbox","aria-owns":"SuggestionsMenu",flex:"grow",id:"searchBoxContainer",minWidth:"shrink"!==u?ve[u]:void 0,paddingX:2,role:"combobox"},r.a.createElement(l.d,{color:E?void 0:"lightGray",dangerouslySetInlineStyle:{__style:{backgroundColor:E?"#E1E1E1":void 0}},display:"flex",height:48,rounding:6},r.a.createElement(l.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:o.isRTL?"0 16px 0 "+F:`0 ${F} 0 16px`,...this.inTypeaheadSession?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:"relative"},!(this.displayedQuery||y)&&r.a.createElement(l.d,{flex:"none",marginEnd:2},r.a.createElement(l.s,{accessibilityLabel:d.a._("Search icon","searchBox.searchIcon.accessibilityLabel","Search icon in search box"),icon:"search",size:16})),r.a.createElement(ge.a,{name:"web_advanced_search_from_account"},({anyEnabled:e})=>r.a.createElement(T,{focusOptionId:A,isFocused:this.inTypeaheadSession,onClick:this.handleOnClick,onInputBlur:this.handleInputBlur,onInputFocus:this.handleInputFocus,onKeyDown:this.handleKeyDown,onSearchTrigger:this.handleTypedSearchSubmit,onTextChange:e?this.handleTextChangeAllowKeyword:this.handleTextChange,placeholder:M,textValue:this.displayedQuery})),r.a.createElement(ge.a,{name:"mweb_web_blm_easter_egg"},({anyEnabled:e})=>(!e||!L)&&r.a.createElement(ge.a,{name:"mweb_web_pride_easter_egg_2020"},({anyEnabled:e})=>e&&!b&&!!O&&this.getEasterEggOverlay(O))),w&&r.a.createElement("div",{className:"KeywordOverlay"},r.a.createElement("span",{style:{visibility:"hidden"}},w.prefix?w.prefix+" ":""),r.a.createElement("div",{className:"Keyword"},r.a.createElement(l.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",border:"1px solid black"}},display:"inlineBlock",paddingX:1,paddingY:1,rounding:2},r.a.createElement("span",{style:{visibility:"hidden"}},w.keyword,":",w.value)))),this.inTypeaheadSession&&w&&C&&r.a.createElement(pe,{focusIndex:x,maxHeight:_,onMouseEnter:this.handleKeywordSuggestionsMouseEnter,onMouseLeave:this.handleKeywordSuggestionsMouseLeave,onSuggestionClick:this.handleKeywordSuggestionSelect,onSuggestionHovered:this.handleSuggestionHovered,query:w.value,searchBoxHeight:52,suggestionGroups:this.suggestionGroups,width:"shrink"===u?"80vw":void 0}),this.displayedQuery||t&&B?r.a.createElement(l.d,{flex:"none",marginStart:3},r.a.createElement(s.a,{id:"search-cancel"},r.a.createElement(l.t,{accessibilityLabel:d.a._("Remove search input","searchBox.removeSearchInput.accessibilityLabel","Accessibility label to remove the search input"),icon:e?"cancel":"clear",iconColor:"darkGray",onClick:this.handleClearSearch,size:e?"sm":"lg"}))):null,this.inTypeaheadSession&&!C&&r.a.createElement(he.a,{allowSearchOnMount:!0,onTypeaheadSuggestionsChange:this.handleSuggestionsUpdated,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:"pins"},value:p}),U?r.a.createElement(pe,{focusIndex:x,maxHeight:_,onMouseEnter:this.handleSuggestionsMouseEnter,onMouseLeave:this.handleSuggestionsMouseLeave,onSuggestionClick:this.handleSuggestionSelect,onSuggestionHovered:this.handleSuggestionHovered,query:p,searchBoxHeight:52,suggestionGroups:this.suggestionGroups,width:"shrink"===u?"80vw":void 0}):null),B?r.a.createElement(a.Fragment,null,r.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),r.a.createElement(v,{currentlySelectedFilter:h,currentQuery:e,handleContentTypeFilterHover:this.handleContentTypeFilterHover,handleScopeChange:this.handleScopeChange,isShopTab:"shop"===i})):null))}}Ee(xe,"defaultProps",{widthType:"md"});const _e=[];t.a=Object(h.compose)(Object(o.connect)((function({search:e,viewer:t}){return{appliedQuery:e.currentSearch.query||"",appliedScope:e.currentSearch.scope||"pins",appliedUser:e.currentSearch.user||"",displayShopTab:e.displayShopTab,recentQueries:e.recentQueries||_e,recommendedQueries:e.recommendedQueries||_e,viewer:t}}),(function(e){return{dispatch:e}})),b.a,fe.e,Object(me.c)({name:"AdvancedTypeaheadResource",key:"recentSearchesResource",options:{term:"",pin_scope:"pins"}},{allowStale:!1}),Object(me.c)({name:"SearchTabResource",key:"searchTabResource"}),Object(me.c)({name:"GhostTextResource",key:"ghostTextResource",options:{numResponseResults:null,maxLengthEachResult:null}}))(xe)},a7BZ:function(e,t,n){t.__esModule=!0,t.default=void 0;var a=function(e){return e?Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e):[]};t.default=a},bWI3:function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),r=n.n(a),o=n("1Vso"),i=n("uXiN"),s=n("n6mq");const l=({active:e,bgColor:t,borderRadius:n,boxSize:a,children:o,focused:l,hovered:c,isHorizontalText:u,rounding:d,size:p})=>r.a.createElement(i.a,{active:e,bgColor:t,borderRadius:n,focused:l,hovered:c,rounding:d,size:p},r.a.createElement(s.d,{alignItems:"center",height:a,justifyContent:"center",padding:u?2:1,width:a,display:"flex",direction:u?void 0:"column"},o)),c={xs:24,sm:32,md:40,lg:48,xl:56,default:48};function u({accessibilityLabel:e,bgColor:t="transparent",borderRadius:n,buttonWidth:a=null,children:i,isHorizontalText:s,onClick:u,rounding:d="pill",size:p="lg"}){const h={display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",width:a};let m="";return"circle"===d&&(m=c[p]||c.default),r.a.createElement(o.a,{accessibilityLabel:e,onClick:u,style:h},({active:e,focused:a,hovered:o})=>r.a.createElement(l,{active:e,bgColor:t,borderRadius:n,boxSize:m,focused:a,hovered:o,isHorizontalText:s,rounding:d,size:p},i))}},bxss:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("vZlu"),s=n("n6mq");class l extends a.Component{componentDidMount(){this.props.setFlyoutOpen(!0)}componentWillUnmount(){this.props.setFlyoutOpen(!1)}render(){return r.a.createElement(s.d,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}}},r.a.createElement(s.p,{anchor:this.props.anchor,color:this.props.color,idealDirection:this.props.idealDirection,onDismiss:this.props.onDismiss,positionRelativeToAnchor:this.props.positionRelativeToAnchor,showCaret:this.props.showCaret,shouldFocus:this.props.shouldFocus,size:this.props.size},this.props.children))}}t.a=Object(o.connect)(void 0,(e,t)=>({setFlyoutOpen:t=>e(Object(i.b)(!t))}))(l)},dVZn:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n("q1tI"),r=n.n(a);const o=Object(a.createContext)(null),i=o.Provider;function s(e){const t=t=>{const n=Object(a.useContext)(o);if(!n)throw new Error("withSiteParameters must be used within a SiteParametersContextProvider");return r.a.createElement(e,Object.assign({},t,n))};return t.displayName=`SiteParametersContext(${String(e.displayName||e.name)})`,t}},exV7:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("kugi"),i=n("Ye/N"),s=n("GoL+"),l=n("eOdZ"),c=n("zwad");const u={blockConfirmation:"blockConfirmation",blockWarning:"blockWarning",editProfile:"editProfile",reportBug:"reportBug",reportBugSuccess:"reportBugSuccess",reportBugFailure:"reportBugFailure",sendProfile:"sendProfile",signupLogin:"signupLogin",unblock:"unblock"};var d=n("pLLR"),p=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=e=>Boolean(e.trim());class g extends r.a.Component{constructor(e){super(e),h(this,"handleSelectListChange",({value:e})=>{this.setState({bugtype:e})}),h(this,"handleSubmit",e=>t=>{t.preventDefault(),t.stopPropagation(),this.setState({isSubmitting:!0});const n=window.navigator.userAgent,a=c.a.getCurrentUrl();let r;switch(this.state.bugtype){case"FEATURE_ERROR":r="Functionality";break;case"IRRELEVANT_RESULT":r="Relevance";break;case"DESIGN_ERROR":r="Visual";break;case"COPY_ERROR":r="Linguistic";break;default:r="Functionality"}const o={activatedExperiments:e,bugtype:this.state.bugtype,description:this.state.description,environment:n,platform:"web",title:this.state.title,url:a,userImpact:r,username:this.props.username,advertiserId:this.props.advertiserId,image_url:this.state.imageUrl,filename:this.state.uploadComplete};this.state.imageUrl&&(o.image_url=this.state.imageUrl,o.filename=this.state.uploadComplete);l.a.create("ReportErrorResource",o).callCreate().then(e=>{e.resource_response.data.errorMessages?this.setState({confirmModal:u.reportBugFailure,isSubmitting:!1}):this.setState({confirmModal:u.reportBugSuccess,isSubmitting:!1})}).catch(()=>{this.setState({isSubmitting:!1,confirmModal:u.reportBugFailure})})}),h(this,"handleClearFailure",()=>{this.setState({confirmModal:!1})}),h(this,"handleUploadFailure",()=>{this.setState({uploadComplete:i.a._("Upload failed!"),uploadPercent:null})}),h(this,"handleUploadSuccess",(e,t,n)=>{this.setState({imageUrl:n.image_url,uploadComplete:t,uploadPercent:null})}),h(this,"handleTitleChange",({value:e})=>{this.setState({title:e})}),h(this,"handleDescriptionChange",({value:e})=>{this.setState({description:e})}),h(this,"uploadProgress",(e,t,n)=>{this.setState({uploadPercent:n,uploadComplete:!1})}),this.state={bugtype:"FEATURE_ERROR",confirmModal:!1,description:"",imageUrl:null,isSubmitting:!1,title:"",uploadComplete:!1,uploadPercent:null}}componentDidMount(){const{handleUploadSuccess:e,handleUploadFailure:t,uploadProgress:n}=this;(new s.a).enableUploader(this.button,n,e,t)}render(){const{onClearModal:e}=this.props,{handleClearFailure:t,handleSubmit:n}=this,{bugtype:a,confirmModal:s,description:l,isSubmitting:c,uploadComplete:h,uploadPercent:g,title:b}=this.state,f=[{value:"FEATURE_ERROR",label:i.a._("Something is broken")},{value:"IRRELEVANT_RESULTS",label:i.a._("Irrelevant search, Pin, or ad")},{value:"DESIGN_ERROR",label:i.a._("Design is wrong")},{value:"COPY_ERROR",label:i.a._("Translation or copy is wrong")}];let y=null;h?y=h:g&&(y=g+"%");const E=m(b)&&m(l);return r.a.createElement(d.b,null,l=>r.a.createElement("form",{method:"post",onSubmit:n(l.experiments instanceof o.default?JSON.stringify(l.experiments.active,null,"\t"):"{}")},r.a.createElement(p.d,{color:"white",paddingX:4,paddingY:5},r.a.createElement(p.d,{display:"flex",justifyContent:"center",padding:4},r.a.createElement(p.r,{size:"md"},i.a._("Report a Bug","label.ReportBugModal","Accessibility label for reporting a bug"))),r.a.createElement(p.d,{display:"flex",direction:"column"},r.a.createElement(p.d,{paddingX:2,paddingY:2,display:"flex",direction:"column",alignItems:"stretch"},r.a.createElement(p.v,{htmlFor:"bugTitle"},r.a.createElement(p.U,null,i.a._("Description (Required)"))),r.a.createElement(p.d,{paddingY:1},r.a.createElement(p.W,{id:"bugTitle",name:"title",onChange:this.handleTitleChange,type:"text",value:this.state.title}))),r.a.createElement(p.d,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},r.a.createElement(p.d,null,r.a.createElement(p.v,{htmlFor:"description"},r.a.createElement(p.U,null,i.a._("Steps to Reproduce (Required)")))),r.a.createElement(p.d,{paddingY:1},r.a.createElement(p.V,{id:"description",name:"description",onChange:this.handleDescriptionChange,value:this.state.description}))),r.a.createElement(p.d,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},r.a.createElement(p.d,null,r.a.createElement(p.v,{htmlFor:"bugtype"},r.a.createElement(p.U,null,i.a._("Type","type as in variety or kind","type as in variety or kind")))),r.a.createElement(p.d,{paddingY:1},r.a.createElement(p.L,{id:"bugtype",name:"bugtype",onChange:this.handleSelectListChange,options:f,size:"lg",value:a}))),r.a.createElement(p.d,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},r.a.createElement(p.d,{paddingY:1},r.a.createElement(p.U,null,i.a._("Attach a Screenshot"))),r.a.createElement(p.d,{alignItems:"center",direction:"row",display:"flex"},r.a.createElement("div",{ref:e=>{this.button=e},style:{overflow:"visible",float:"left"}},r.a.createElement(p.e,{text:i.a._("Choose file"),size:"sm",type:"button",color:"gray"})),r.a.createElement(p.d,{flex:"grow",paddingX:2},r.a.createElement(p.U,{size:"md",align:"left"},y||i.a._("None")))))),r.a.createElement(p.d,{marginTop:4},r.a.createElement(p.d,{display:"flex",justifyContent:"end",direction:"row",paddingY:2},r.a.createElement(p.d,{paddingX:2},r.a.createElement(p.e,{disabled:!E,text:i.a._("Report"),type:"submit",color:"red"})),s&&r.a.createElement(p.D,{accessibilityModalLabel:i.a._("View Bug Report Submission Status"),heading:s===u.reportBugSuccess?i.a._("Bug Reported!"):i.a._("Oops!"),onDismiss:s===u.reportBugFailure?t:e},r.a.createElement(p.d,{paddingX:4,paddingY:4},r.a.createElement(p.U,null,s===u.reportBugSuccess?i.a._("Sorry about that. We’ve been notified and will work on a fix! High-five for reporting. "):i.a._("Something went wrong and we were unable to report your bug. We’re looking into it!"))))),c&&r.a.createElement(p.d,{display:"flex",justifyContent:"end",direction:"row",paddingY:2,paddingX:2},r.a.createElement(p.U,null,i.a._("Submitting...")))))))}}t.a=g},g3w4:function(e,t,n){t.__esModule=!0,t.default=t.UPDATE_SYNC_WARNINGS=t.UPDATE_SYNC_ERRORS=t.UNTOUCH=t.UNREGISTER_FIELD=t.TOUCH=t.SUBMIT=t.STOP_SUBMIT=t.STOP_ASYNC_VALIDATION=t.START_SUBMIT=t.START_ASYNC_VALIDATION=t.SET_SUBMIT_SUCCEEDED=t.SET_SUBMIT_FAILED=t.RESET_SECTION=t.RESET=t.REGISTER_FIELD=t.INITIALIZE=t.FOCUS=t.DESTROY=t.CLEAR_ASYNC_ERROR=t.CLEAR_SUBMIT_ERRORS=t.CLEAR_SUBMIT=t.CLEAR_FIELDS=t.CHANGE=t.BLUR=t.AUTOFILL=t.ARRAY_SWAP=t.ARRAY_UNSHIFT=t.ARRAY_SPLICE=t.ARRAY_SHIFT=t.ARRAY_REMOVE_ALL=t.ARRAY_REMOVE=t.ARRAY_PUSH=t.ARRAY_POP=t.ARRAY_MOVE=t.ARRAY_INSERT=t.prefix=void 0;var a="@@redux-form/";t.prefix=a;var r=a+"ARRAY_INSERT";t.ARRAY_INSERT=r;var o=a+"ARRAY_MOVE";t.ARRAY_MOVE=o;var i=a+"ARRAY_POP";t.ARRAY_POP=i;var s=a+"ARRAY_PUSH";t.ARRAY_PUSH=s;var l=a+"ARRAY_REMOVE";t.ARRAY_REMOVE=l;var c=a+"ARRAY_REMOVE_ALL";t.ARRAY_REMOVE_ALL=c;var u=a+"ARRAY_SHIFT";t.ARRAY_SHIFT=u;var d=a+"ARRAY_SPLICE";t.ARRAY_SPLICE=d;var p=a+"ARRAY_UNSHIFT";t.ARRAY_UNSHIFT=p;var h=a+"ARRAY_SWAP";t.ARRAY_SWAP=h;var m=a+"AUTOFILL";t.AUTOFILL=m;var g=a+"BLUR";t.BLUR=g;var b=a+"CHANGE";t.CHANGE=b;var f=a+"CLEAR_FIELDS";t.CLEAR_FIELDS=f;var y=a+"CLEAR_SUBMIT";t.CLEAR_SUBMIT=y;var E=a+"CLEAR_SUBMIT_ERRORS";t.CLEAR_SUBMIT_ERRORS=E;var v=a+"CLEAR_ASYNC_ERROR";t.CLEAR_ASYNC_ERROR=v;var S=a+"DESTROY";t.DESTROY=S;var x=a+"FOCUS";t.FOCUS=x;var _=a+"INITIALIZE";t.INITIALIZE=_;var w=a+"REGISTER_FIELD";t.REGISTER_FIELD=w;var C=a+"RESET";t.RESET=C;var T=a+"RESET_SECTION";t.RESET_SECTION=T;var k=a+"SET_SUBMIT_FAILED";t.SET_SUBMIT_FAILED=k;var I=a+"SET_SUBMIT_SUCCEEDED";t.SET_SUBMIT_SUCCEEDED=I;var R=a+"START_ASYNC_VALIDATION";t.START_ASYNC_VALIDATION=R;var A=a+"START_SUBMIT";t.START_SUBMIT=A;var O=a+"STOP_ASYNC_VALIDATION";t.STOP_ASYNC_VALIDATION=O;var L=a+"STOP_SUBMIT";t.STOP_SUBMIT=L;var M=a+"SUBMIT";t.SUBMIT=M;var N=a+"TOUCH";t.TOUCH=N;var P=a+"UNREGISTER_FIELD";t.UNREGISTER_FIELD=P;var U=a+"UNTOUCH";t.UNTOUCH=U;var D=a+"UPDATE_SYNC_ERRORS";t.UPDATE_SYNC_ERRORS=D;var B=a+"UPDATE_SYNC_WARNINGS";t.UPDATE_SYNC_WARNINGS=B;var F={ARRAY_INSERT:r,ARRAY_MOVE:o,ARRAY_POP:i,ARRAY_PUSH:s,ARRAY_REMOVE:l,ARRAY_REMOVE_ALL:c,ARRAY_SHIFT:u,ARRAY_SPLICE:d,ARRAY_UNSHIFT:p,ARRAY_SWAP:h,AUTOFILL:m,BLUR:g,CHANGE:b,CLEAR_FIELDS:f,CLEAR_SUBMIT:y,CLEAR_SUBMIT_ERRORS:E,CLEAR_ASYNC_ERROR:v,DESTROY:S,FOCUS:x,INITIALIZE:_,REGISTER_FIELD:w,RESET:C,RESET_SECTION:T,SET_SUBMIT_FAILED:k,SET_SUBMIT_SUCCEEDED:I,START_ASYNC_VALIDATION:R,START_SUBMIT:A,STOP_ASYNC_VALIDATION:O,STOP_SUBMIT:L,SUBMIT:M,TOUCH:N,UNREGISTER_FIELD:P,UNTOUCH:U,UPDATE_SYNC_ERRORS:D,UPDATE_SYNC_WARNINGS:B};t.default=F},gmhe:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),o=n("7pfs"),i=n("3gA6"),s=n("n6mq");function l({children:e,isExternalUrl:t,onClick:n,rounding:a=2,url:l}){const c=l?r.a.createElement(i.b,{className:"GestaltTouchableFocus",external:t,focusOnBody:!0,onClick:n,style:{borderRadius:4*a+"px",display:"block"},to:l},e):r.a.createElement(s.T,{onTap:n,rounding:a},e);return r.a.createElement(o.a,null,({hovered:e,onMouseEnter:t,onMouseLeave:n})=>r.a.createElement(s.d,{dangerouslySetInlineStyle:{__style:{backgroundColor:e?"rgba(0, 0, 0, 0.06)":void 0}},onMouseEnter:t,onMouseLeave:n,rounding:a},c))}},gw9B:function(e,t,n){var a=n("TqRt");t.__esModule=!0,t.default=void 0;var r=a(n("pVnL")),o=a(n("0Bgb")),i=function e(t,n,a,o){var i;if(o>=a.length)return n;var s=a[o],l=e(t&&(Array.isArray(t)?t[Number(s)]:t[s]),n,a,o+1);if(!t){var c;if(isNaN(s))return(c={})[s]=l,c;var u=[];return u[parseInt(s,10)]=l,u}if(Array.isArray(t)){var d=[].concat(t);return d[parseInt(s,10)]=l,d}return(0,r.default)({},t,((i={})[s]=l,i))},s=function(e,t,n){return i(e,n,(0,o.default)(t),0)};t.default=s},"i+M7":function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("NwjN"),i=n("L2iP"),s=n("pLLR");const l={childList:!0,attributes:!0,subtree:!0};class c extends a.Component{constructor(e){var t,n,a;super(e),a=e=>()=>{let t=e.clientHeight;const n=document.getElementById(i.j);n&&n.clientHeight&&(t+=n.clientHeight),this.setState({height:t})},(n="handleMutation")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,this.state={height:i.i}}componentDidMount(){const e=document.getElementById(i.c);e&&"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver(this.handleMutation(e)),this.mutationObserver.observe(e,l))}componentWillUnmount(){this.mutationObserver&&this.mutationObserver.disconnect()}render(){const{children:e}=this.props,{height:t}=this.state;return r.a.createElement(o.a.Provider,{value:t},e)}}t.a=Object(s.e)(c)},iAhy:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("kmwA");function r({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:r}){return`${e||t||n?""+a.a.settings.CANONICAL_MAIN_URL:""}${r}`}},iSxJ:function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var a=n("q1tI"),r=n.n(a),o=n("1dBE"),i=n("Ye/N"),s=n("TiQD"),l=n("exV7"),c=n("v/Q4");const{Provider:u,Consumer:d,useHook:p}=Object(o.c)("reportBugModalContext");function h({children:e}){const[t,n]=Object(a.useState)(!1),o=Object(c.a)();return r.a.createElement(a.Fragment,null,r.a.createElement(u,{value:{handleShowReportBugModal:()=>{n(!0)}}},e),t&&o.isAuth&&r.a.createElement(s.b,{accessibilityModalLabel:i.a._("Report bug","header.accountsOptionsMenu.logout","Modal accessibility label for reporting a bug"),onDismiss:()=>{n(!1)}},r.a.createElement(l.a,{onClearModal:()=>n(!1),username:o.username})))}},jZhD:function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=(n("17x9"),n("pdBG"));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends a.Component{constructor(...e){super(...e),o(this,"searchCache",Object.create(null)),o(this,"lastSearchedQuery",null),o(this,"search",e=>{this.lastSearchedQuery=e,e in this.searchCache?this.props.onTypeaheadSuggestionsChange(this.searchCache[e],e):this.provider.search(e,({items:t})=>{this.searchCache[e]=t,e===this.lastSearchedQuery&&this.props.onTypeaheadSuggestionsChange(t,e)})})}componentDidMount(){const e=this.props.resourceOptions||{};this.provider=new r.a({resource_name:this.props.resourceName,...e});const{value:t}=this.props;null!=t&&this.props.allowSearchOnMount&&this.search(this.props.value)}componentDidUpdate(e){const{value:t}=this.props;null!=t&&t!==e.value&&this.search(t)}render(){return this.props.children||null}}o(i,"defaultProps",{resourceName:"TypeaheadResource"})},"jbM+":function(e,t,n){var a=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&a(e,t,0)>-1}},jlhf:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("5JIi"),s=n("Ye/N"),l=(n("17x9"),n("vvax"));var c=({browserName:e,browserVersion:t,onClose:n,onDismiss:a})=>{const o=t.match(/\d*\.\d*/),c=(null==o?void 0:o[0])||t,u="IE"===e&&"11.0"===c,d=u?s.a._("Not now","Dismiss button text","Dismiss button text"):null,p=c?Object(l.b)(s.a._("({{ browserName }} version {{ majorVersion }})","Browser name and version number","Browser name and version number"),{browserName:e,majorVersion:c}).join(""):`(${e})`,h=u?s.a._("Pinterest works much better on modern browsers.\nInternet Explorer is getting pretty old.\nYou may want to consider switching to something newer.","Suggestion to use modern browser for IE11 users.\nInternet Explorer is a Browser name so probably should not be translated?","Suggestion to use modern browser for IE11 users.\nInternet Explorer is a Browser name so probably should not be translated?"):Object(l.b)(s.a._("You’re using a browser we don’t support {{ browserInfo }}.\n  Try updating to the latest version or switching to a new browser.","Statement that the user’s browser or browser version is not supported","Statement that the user’s browser or browser version is not supported"),{browserInfo:p}).join("");let m,g;switch(e){case"Safari":m=s.a._("Get latest version of Safari","text on button - Safari is the browser name so do not translate","text on button - Safari is the browser name so do not translate"),g="https://support.apple.com/safari";break;case"Firefox":m=s.a._("Get latest version of Firefox","text on button - Firefox is the browser name so do not translate","text on button - Firefox is the browser name so do not translate"),g="http://www.firefox.com";break;case"Chrome":m=s.a._("Get latest version of Chrome","text on button - Chrome is the browser name so do not translate","text on button - Chrome is the browser name so do not translate"),g="http://www.google.com/chrome/browser";break;default:m=s.a._("Update your browser","text on button - Chrome is the browser name so do not translate","text on button - Chrome is the browser name so do not translate"),g="http://outdatedbrowser.com"}return r.a.createElement(i.a,{key:"browserNag",completeButtonText:m,completeUrl:g,dismissButtonText:d,message:h,onComplete:n,onDismiss:a})},u=n("c4Fo"),d=n("4dcN"),p=n("D2p8"),h=n("4w6G"),m=n("NrS9"),g=n("0Rm8"),b=n("n6mq");function f(e){const{backgroundColor:t="#111111",backgroundImage:n,completeButtonText:a,completeUrl:o,dismissButtonText:i,experienceId:l,message:c,onComplete:u,onDismiss:p,onRender:f,primaryColor:y="#FFFFFF",titleText:E,external:v}=e;f&&f();const S=({event:e})=>{10202===l&&m.a.instance().subscribe(),u&&u(e)},x=({event:e})=>{d.a.trackEvent("nag","click_close"),p&&p(e)},_=c&&!a,w=500735===l,C=a&&(!o||w)&&r.a.createElement(h.a,{buttonText:a,onClick:e=>S({event:e}),style:{buttonColor:y,buttonTextColor:"white"}}),T=a&&o&&r.a.createElement(h.a,{buttonText:a,onClick:e=>S({event:e}),key:"naglink",url:o,external:v,style:{buttonColor:y,buttonTextColor:"white"}}),k=i&&p&&r.a.createElement(h.a,{buttonText:i,onClick:e=>x({event:e}),style:{buttonColor:"white",buttonTextColor:"black",marginRight:"8px"}}),I=_&&!w&&p&&r.a.createElement(b.t,{accessibilityLabel:s.a._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:x,icon:"cancel"}),R=Object(g.b)();return r.a.createElement(b.P,{zIndex:new b.o(2),top:R},r.a.createElement(b.d,{dangerouslySetInlineStyle:{__style:{background:t}},width:"100%",height:200,position:"relative",alignItems:"center",justifyContent:"center",display:"flex"},n&&r.a.createElement(b.d,{height:"100%",width:"100%",position:"absolute"},r.a.createElement(b.d,{position:"relative",height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosition:"50%",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}})),r.a.createElement(b.d,{alignItems:"center",direction:"column",display:"flex",marginStart:-1,marginEnd:-1,position:"relative"},E&&r.a.createElement(b.d,{maxWidth:"560px",marginBottom:2,dangerouslySetInlineStyle:{__style:{color:y,fontSize:"28px",textAlign:"center"}}},E),r.a.createElement(b.d,{maxWidth:"560px",marginBottom:4,dangerouslySetInlineStyle:{__style:{color:y,fontSize:"16px",textAlign:"center"}}},c),r.a.createElement(b.d,{display:"flex",alignItems:"center",justifyContent:"end"},k,C||T,I))))}var y=n("TiQD");class E extends a.Component{constructor(...e){var t,n,a;super(...e),a={mounted:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;const e=s.a._('Oh no! Pinterest doesn\'t work unless you <a style="text-decoration: underline;\n      color: #fff" href="http://enable-javascript.com/" target="_blank">turn on JavaScript.</a>',"Nag to tell users Javascript is disabled and the site is broken without it","Nag to tell users Javascript is disabled and the site is broken without it");return r.a.createElement("noscript",null,r.a.createElement(i.a,{key:"noscriptNag",message:e}))}}var v=n("/HYR"),S=n("QLqj");const x=e=>({type:"UPDATE_LATEST_NAG",payload:{shouldShowLatestNag:e}});function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w="PinterestLatestNag";class C extends a.Component{constructor(...e){super(...e),_(this,"state",{showNag:!1}),_(this,"handleCloseNag",()=>{const{dismissLatestNag:e}=this.props;S.b.localStorage.setItem(w,+new Date),this.setState({showNag:!1}),e&&e()}),_(this,"handleShowNag",()=>{const{showLatestNag:e}=this.props;this.setState({showNag:!0}),e&&e()})}componentDidMount(){(function(e,t){const n=(new Date-new Date(e))/1e3/60/60/24;return Math.floor(n)>=t})(S.b.localStorage.getItem(w)||0,30)?this.handleShowNag():this.handleCloseNag()}componentDidUpdate(){p.c.updateObstructions()}render(){if(this.state.showNag){const e=s.a._("Hello Pinployee! Would you mind hopping over to Latest?\n      You'll see all our newest features and help find bugs!","Nag to send employees to latest instead of www","Nag to send employees to latest instead of www");return r.a.createElement(i.a,{key:"latestNag",message:e,onComplete:this.handleCloseNag,onDismiss:this.handleCloseNag,completeButtonText:s.a._("Okay!","text on button to send employees to latest.pinterest","text on button to send employees to latest.pinterest"),completeUrl:v.PINTEREST_LATEST_DOMAIN+this.props.visibleUrl,dismissButtonText:s.a._("Not now","text on button","text on button"),external:!0})}return null}}var T=Object(o.connect)(null,e=>({dismissLatestNag:()=>{e(x(!1))},showLatestNag:()=>{e(x(!0))}}))(C),k=n("kmwA");var I=({onDismiss:e,onSave:t})=>{const n=s.a._("\n    We recently removed a Pin you and others saved because it went against {{ policy_link }} on sexually explicit or\n    pornographic content. We don't allow images that are inappropriate for the general public anywhere on Pinterest,\n    not even on secret boards since they can so easily be made public with just the click of a button. Take some\n    time to go through your Pins and remove any others that may conflict with our policies. Thanks for helping keep\n    Pinterest a happy place for everyone!","What Pinterest allows users to pin to their boards","What Pinterest allows users to pin to their boards");return r.a.createElement(y.b,{accessibilityModalLabel:s.a._("View Pinterest's save policy","Label to show save policy on save policy violation notice modal","Label to show save policy on save policy violation notice modal"),onDismiss:e,heading:s.a._("What happened to your Pin?","Pinterest save policy header","Pinterest save policy header"),footer:r.a.createElement(b.d,{display:"flex",column:12,alignItems:"center",flex:"grow",justifyContent:"end"},r.a.createElement(b.e,{onClick:t,inline:!0,text:s.a._("Got it","text on button to confirm that you understand your Pin has been removed","text on button to confirm that you understand your Pin has been removed"),color:"red",size:"md"})),size:"md"},r.a.createElement(b.d,{padding:2},r.a.createElement(b.U,null,Object(l.b)(n,{policy_link:r.a.createElement("a",{key:"policy_link",href:k.a.settings.HELP_PIN_POLICIES_URL},"our policies")}))))},R=n("eOdZ");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends a.Component{constructor(...e){super(...e),A(this,"state",{isConfirmed:!1,showModal:!1}),A(this,"savePolicyConfirmation",()=>{R.a.create("ConfirmGuidelinesResource",{}).callUpdate().then(()=>{this.setState({isConfirmed:!0}),this.closeModal(),this.props.onClose&&this.props.onClose()},e=>{})}),A(this,"handleClick",e=>{e.preventDefault(),this.setState({showModal:!0})}),A(this,"closeModal",()=>this.setState({showModal:!1}))}render(){return this.state.isConfirmed?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{onComplete:this.handleClick,message:s.a._("Important: Looks like you saved something we don't allow on Pinterest. Please take a minute to review our Community Guidelines.","shown in a banner after user has saved something that violates our pin save policy","shown in a banner after user has saved something that violates our pin save policy"),completeButtonText:s.a._("Review","text on button leading users to review our pin save policy","text on button leading users to review our pin save policy")}),this.state.showModal&&r.a.createElement(I,{onDismiss:this.closeModal,onSave:this.savePolicyConfirmation}))}}var L=n("2qKt"),M=n("CvCA"),N=n("mBfy"),P=n("nGHF");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends a.Component{constructor(...e){super(...e),U(this,"state",{showNag:!0}),U(this,"handleClose",()=>{this.setState({showNag:!1}),this.props.onClose&&this.props.onClose()}),U(this,"handleClick",e=>{const{toastManagerContext:t}=this.props;e.preventDefault();R.a.create("UserResetPasswordResource",{username_or_email:N.default.get("username")}).callCreate({showError:!1}).then(e=>{this.handleClose(),t.showToast(({onHide:e})=>r.a.createElement(M.a,{duration:4e3,onHide:e,text:s.a._("Thanks! You should receive a password reset email soon.")}))})})}render(){const e=s.a._("Your account is in safe mode. To protect your Pins from suspicious activity, please\n          reset your password to secure your account.");return this.state.showNag?r.a.createElement(i.a,{onComplete:this.handleClick,completeButtonText:s.a._("Reset password","text on button that launches the reset password flow","text on button that launches the reset password flow"),message:e}):null}}var B=Object(P.c)(D),F=n("ANjH"),j=n("+PUW"),q=n("/5zs"),H=n("pLLR");function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G={browserNag:{component:c,closeable:!0},reputation:{component:O,closeable:!0},write_banned:{component:B,closeable:!0},write_banned_dmca:{component:i.a}},z=e=>{const{browserName:t,browserVersion:n,nag:a,removeNag:o}=e,i=G[a.type],s=i&&i.component;return s?r.a.createElement(s,{browserName:t,browserVersion:n,key:a.type,message:a.message,onDismiss:i.closeable?()=>o(a):null,type:a.type}):null};class W extends a.Component{constructor(e,t){super(e,t),Y(this,"removeNag",e=>{this.setState((t,n)=>({nags:t.nags.filter(t=>t!==e)}))}),Y(this,"renderBannerNag",({complete:e,dismiss:t,display_data:n,experience_id:a})=>{const{requestContext:o,openLoginModal:s}=this.props,{background_color_web:l,background_image:c,complete_button_text:u,dismiss_button_text:h,message:m,on_complete_redirect_url:g,primary_color_web:b,style:y,title_text:E,use_new_tab:v}=n,S=10203===a&&new q.c(o,"web_limited_login_nag").enabledWithNoActivation(),x={experienceId:a,key:"experienceNag",message:m,dismissButtonText:h,completeButtonText:u,completeUrl:S?"":g,onComplete:()=>{S&&s(),d.a.trackEvent("hero_helper_2","click_close"),e(),p.c.updateObstructions()},onDismiss:()=>{t(),p.c.updateObstructions()},onRender:()=>d.a.trackEvent("hero_helper_2","click"),external:v};return"LEGO_NAG"===y?r.a.createElement(f,Object.assign({},x,{backgroundColor:l,primaryColor:b,titleText:E,backgroundImage:c})):r.a.createElement(i.a,x)}),Y(this,"renderHeroNag",({complete:e,dismiss:t,display_data:n,experience_id:a})=>{d.a.trackEvent("hero_helper_13","click");return r.a.createElement(y.b,{accessibilityModalLabel:n.header,heading:n.header,onDismiss:t,role:"alertdialog",size:"md"},r.a.createElement(b.d,{paddingX:6,marginBottom:4},r.a.createElement(b.U,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.header_subtitle}})),r.a.createElement(b.d,{marginTop:4},r.a.createElement(b.e,{color:"red",onClick:()=>{e(),d.a.trackEvent("hero_helper_13","click_close")},text:n.complete_button_text}))))});const n=this.props.nags||[];!e.contentOnly&&e.browserUnsupported&&n.push({type:"browserNag"}),this.state={nags:n}}componentDidUpdate(){p.c.updateObstructions()}render(){const{experience:e,isEmployee:t,isInternalIp:n,requestContext:a,visibleUrl:o}=this.props,{nags:i}=this.state,s=!["pinterdev","latest","canary","analytics"].map(e=>a.origin.includes(e)).filter(e=>!0===e).length,l=n&&t&&s,c=!(!e||500711!==e.experience_id);return r.a.createElement("div",{className:"Nags"},r.a.createElement(E,null),!e&&l?r.a.createElement(T,{visibleUrl:o}):null,r.a.createElement(u.a,{placementId:30,type:c?13:2,transitionType:17},c?this.renderHeroNag:this.renderBannerNag),!e&&i[0]?r.a.createElement(z,{browserName:a.userAgent.browserName,browserVersion:a.userAgent.browserVersion,nag:i[0],removeNag:this.removeNag}):null)}}t.a=Object(F.compose)(H.e,Object(L.a)(30),Object(o.connect)(null,e=>({...Object(j.c)(e)})))(W)},l61J:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n("q1tI");function r(e){return e.startsWith("enabled")||e.startsWith("employee")}function o(e,{activate:t=!0,activateExperiment:n,group:o,userIsEligible:i=!0}){var s;s=()=>{t&&i&&n(e)},Object(a.useEffect)(s,[]);const l=Object(a.useCallback)(()=>{i&&n(e)},[n,i,e]);return{group:i?o:"",anyEnabled:i&&r(o),customActivate:i&&!t?l:()=>{}}}},m7mp:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("KNE1"),s=n("WnNx"),l=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__style:{left:"50%",marginLeft:-125}},d={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class m extends a.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",()=>{const{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),c(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),c(this,"loadImage",()=>{const e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),c(this,"imageSrc",()=>{const{lastRepin:{images:e={}}}=this.props;return e["236x"].url}),c(this,"shouldRenderAnimation",()=>{const{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return e&&n&&t})}componentDidUpdate(e,t){const{lastRepin:n={}}=e,{imageLoaded:a}=t,{lastRepin:r,startAnimation:o}=this.props,{imageLoaded:i}=this.state;r&&r.id!==n.id&&this.loadImage(),o&&i&&i!==a&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){const{children:e}=this.props;return this.shouldRenderAnimation()?r.a.createElement(l.d,{display:"flex",justifyContent:"center",flex:"grow"},r.a.createElement(i.a,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-100px) scale(0.0);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),r.a.createElement(l.d,{position:"relative"},r.a.createElement(l.d,{width:250,height:250,position:"absolute",top:!0,dangerouslySetInlineStyle:u},r.a.createElement(l.d,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:d}),r.a.createElement(l.d,{width:100,height:100,position:"absolute",left:!0,right:!0,top:!0,bottom:!0,margin:"auto",opacity:0,rounding:3,dangerouslySetInlineStyle:p},r.a.createElement(l.z,{rounding:2,height:"100%",width:"100%",wash:!0},r.a.createElement(l.u,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})))),r.a.createElement(l.d,{dangerouslySetInlineStyle:h},e))):e}}t.a=Object(o.connect)(({pins:e,ui:{header:{repinAnimation:t}}})=>({lastRepin:e[t.pinId],startAnimation:t.startAnimation}),e=>({animationEnded:()=>e(Object(s.a)())}))(m)},nRAE:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("kmwA"),s=n("n6mq");const l={xs:12,sm:16,md:20,lg:24};function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:c,size:u}){const d=r.a.createElement(s.d,{alignItems:"center",display:"flex"},r.a.createElement(s.s,{accessibilityLabel:o.a._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:l[u]}),c&&r.a.createElement(s.d,{marginStart:2},r.a.createElement(s.U,{color:"blue",inline:!0,weight:"bold"},o.a._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant"))));return r.a.createElement(a.Fragment,null,n&&!t&&r.a.createElement(s.Y,{link:r.a.createElement(s.y,{href:i.a.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank"},r.a.createElement(s.U,{color:"white",size:"sm",weight:"bold"},o.a._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines"))),text:o.a._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified")},d),n&&t&&d,e&&!n&&r.a.createElement(s.s,{accessibilityLabel:o.a._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:l[u]}))}},ogRn:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i({color:e,value:t}){return r.a.createElement(o.d,{alignItems:"center",color:e,dangerouslySetInlineStyle:{__style:{padding:`0 ${3===t.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,rounding:"pill"},r.a.createElement(o.U,{align:"center",color:"white",size:"sm",weight:"bold"},r.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}}},t)))}class s extends a.PureComponent{render(){const{count:e,icon:t}=this.props,n=e<100?""+e:"99+";return r.a.createElement(o.d,{position:"relative"},t,e>0&&r.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:{right:-6-2*n.length,top:-8}},position:"absolute"},r.a.createElement(i,{color:"red",key:e+"-badge",value:n})))}}},onpz:function(e,t,n){n.d(t,"a",(function(){return G}));var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("ogRn"),s=n("3RuK"),l=n("Ye/N"),c=n("n6mq");function u({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:a=!1}){const o={bell:l.a._("Notifications"),"speech-ellipsis":l.a._("Messages")},u=r.a.createElement(c.s,{accessibilityLabel:"",color:a?"darkGray":"gray",icon:t,size:24});return r.a.createElement(s.a,{accessibilityLabel:o[t],contextData:{event:101,component:8,element:1187},icon:r.a.createElement(i.a,{count:e,icon:u}),key:"NotificationsButton",onClick:n,text:o[t],type:"button"})}const d=function(){this.prefixCount=0,this.previousCount=0};let p;Object.assign(d.prototype,{setPrefixCount(e){this.previousCount=this.prefixCount,this.prefixCount=Math.max(e,0),this._updateTitle()},_updateTitle(){if(!window)return;let e;e=this.prefixCount?`(${this.prefixCount}) ${l.a._("Pinterest")}`:l.a._("Pinterest"),window.document.title=e}}),d.getInstance=function(){return p||(p=new d),p};var h=d,m=n("ANjH"),g=n("fhk9");n("TSYQ");const b=1,f=2;a.Component;var y=n("7yy+");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.a.Component{constructor(...e){super(...e),E(this,"setButtonRef",e=>{const{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),E(this,"clearBadges",()=>{const{onClearBadges:e}=this.props;e(f),this.updateBrowserTabTitleCount(0)}),E(this,"handleButtonClick",()=>{const{showPanel:e,closeConversationsDropdown:t,openConversationsDropdown:n}=this.props;e?t():n(),this.clearBadges(),this.onComplete&&this.onComplete()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){const{badgeCounts:e}=this.props,{conversationsUnseenCount:t,newsHubCount:n}=e;this.updateBrowserTabTitleCount(t+n)}updateBrowserTabTitleCount(e){h.getInstance().setPrefixCount(e)}render(){const{badgeCounts:e,showPanel:t}=this.props,{conversationsUnseenCount:n}=e;return r.a.createElement(c.d,{position:"relative",ref:this.setButtonRef},r.a.createElement(u,{badgeCount:n,onClick:this.handleButtonClick,icon:"speech-ellipsis",selected:t}))}}var S=Object(m.compose)(Object(o.connect)(({ui:e})=>({badgeCounts:e.notifications.badgeCounts,showPanel:e.notifications.showConversationsDropdown}),g.b),y.b)(v),x=n("eOdZ"),_=n("NdXn"),w=n("zLLH"),C=n("gC5q"),T=n("0SCs");const k=Object(C.a)(_.a);class I extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{badgeCounts:t,shouldPersistConversationBadge:n}=this.props;e===b?(x.a.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateBadgeCount({...t,newsHubCount:0})):(x.a.create("ConversationBadgeResource").callDelete({showError:!1}),this.props.updateBadgeCount({...t,conversationsUnseenCount:n&&t.conversationsUnseenCount||0}))},(n="handleClearBadges")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;const t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!(t||!n)}componentDidUpdate(){const{badgeResource:e,updateBadgeCount:t}=this.props;if(!e||!e.data)return;t(k(e.data))}render(){const{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}var R=Object(m.compose)(Object(o.connect)(e=>({badgeCounts:e.ui.notifications.badgeCounts}),g.c),Object(w.c)({name:"NewsHubBadgeResource",key:"badgeResource"},{allowStale:!1}))((function(e){const{anyEnabled:t}=Object(T.c)("web_unread_conversation_badging_gate");return r.a.createElement(I,Object.assign({},e,{shouldPersistConversationBadge:t}))})),A=n("+PUW");var O=Object(o.connect)(({viewer:e})=>({isAuth:e.isAuth,isLimitedLogin:e.isLimitedLogin}),e=>({openLoginModal:()=>e(A.b)}))((function({icon:e,children:t,openLoginModal:n,requireFullAuth:o,isAuth:i,isLimitedLogin:s}){const[l,d]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{d(!0)},[]),l?!i||o&&s?r.a.createElement(c.d,{position:"relative"},r.a.createElement(u,{icon:e,onClick:n})):r.a.createElement(R,null,t):r.a.createElement(c.d,{paddingX:1},r.a.createElement(c.d,{height:48,width:48,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(c.s,{color:"gray",icon:e,size:24,accessibilityLabel:""})))}));function L(){return r.a.createElement(O,{icon:"speech-ellipsis",requireFullAuth:!0},({onClearBadges:e})=>r.a.createElement(S,{onClearBadges:e}))}var M=n("rYoy"),N=n("RNo4"),P=n("sUia"),U=n("pLLR"),D=n("C0mq"),B=n("joD6");const F=()=>n.e(446).then(n.bind(null,"qR/r")),j=Object(a.lazy)(F),q=e=>h.getInstance().setPrefixCount(e);var H=Object(m.compose)(D.a,B.a)((function({onClearBadges:e,siteType:t,location:n,viewer:i}){const s=Object(a.useRef)(null),[l,d]=Object(a.useState)(!1),[p,h]=Object(a.useState)(!1),[m,g]=Object(a.useState)(!1),[f,y]=Object(a.useState)(4),{tab:E,utm_source:v,news_hub_id:S}=Object(N.k)(n.search),_=v||null,w=S||null,C=null!==w,{locale:T}=Object(U.d)(),[k,I]=Object(o.useSelector)(({ui:e})=>[e.notifications.badgeCounts?e.notifications.badgeCounts.conversationsUnseenCount:0,e.notifications.badgeCounts?e.notifications.badgeCounts.newsHubCount:0]);Object(a.useEffect)(()=>{q(k+I),n.pathname.startsWith("/notifications")&&"inbox"!==E&&d(!0);const e=Object(P.Q)(_);C&&!i.isLimitedLogin&&e&&x.a.create("UserStateResource",{state:"NEWSHUB_CLOSEUP_CAP_FLYOUT"}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data?e.resource_response.data:0;(t||0===t)&&(y(t),t<3&&(h(!0),g(!0)))})},[k,I]);const R=Object(P.Q)(_),A=()=>{h(!1),C&&!i.isLimitedLogin&&R&&f<4&&x.a.create("UserStateResource",{state:"NEWSHUB_CLOSEUP_CAP_FLYOUT",value:f+1}).callCreate(),d(!l),e(b),q(0)};return r.a.createElement(a.Fragment,null,R?r.a.createElement(c.d,null,r.a.createElement(c.d,{onMouseEnter:F,position:"relative",ref:s},r.a.createElement(u,{badgeCount:I,onClick:A,icon:"bell",selected:l})),p&&r.a.createElement(c.p,{anchor:s.current,idealDirection:"left",onDismiss:()=>h(!1),positionRelativeToAnchor:!0,size:"md",color:"blue",showCaret:!0},r.a.createElement(c.d,{padding:3,display:"flex",alignItems:"center",direction:"column",column:12,color:"blue"},r.a.createElement(c.U,{align:"center",weight:"normal",color:"white"},"You can find more notifications here")))):r.a.createElement(c.d,{onMouseEnter:F,position:"relative",ref:s},r.a.createElement(u,{badgeCount:I,onClick:A,icon:"bell",selected:l})),r.a.createElement("div",{className:"newsHubSidebarWrapper",style:l?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"}},r.a.createElement(M.a,null,r.a.createElement(j,{newsButton:s.current,handleDismissPanel:()=>{d(!1),g(!1)},locale:T,siteType:t,show:l,highlightScrollSidebar:m,utmNewsHubId:w}))))}));function Y(){return r.a.createElement(O,{icon:"bell"},({onClearBadges:e})=>r.a.createElement(H,{onClearBadges:e}))}function G(){return r.a.createElement(a.Fragment,null,r.a.createElement(Y,null),r.a.createElement(L,null))}},pIlY:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n("q1tI"),r=n.n(a),o=n("1dBE"),i=n("DzJC"),s=n.n(i);const{Provider:l,Consumer:c,useHook:u}=Object(o.c)("HeaderShadow");function d({children:e}){const[t,n]=Object(a.useState)(!1),[o,i]=Object(a.useState)(!1),[c,u]=Object(a.useState)(0),[d,p]=Object(a.useState)(null),h=s()(()=>{t&&(i(window.scrollY>0),u(window.scrollY))},50);return Object(a.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(a.useEffect)(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[t]),r.a.createElement(l,{value:{currentScrollPosition:c,isScrolled:o,setSubheaderShadow:p,subheaderShadow:d}},e)}},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n},pdBG:function(e,t,n){var a=n("AHhP"),r=n.n(a);const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},i=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};i.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},i.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},i.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},i.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},i.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var s=i,l=n("eOdZ"),c=n("mBfy");const u=function(e){e=e||{},this.tags=e.tags,this.enable_recent_queries=!!e.enable_recent_queries,this.minimum_term_character_length=e.minimum_term_character_length||0,this.bypass_lru_cache=e.bypass_lru_cache;const t={tags:e.tags,pin:e.pin_id},n=e.num_places;n?t.num_places=n:t.count="count"in e?e.count:5,e.exclude_non_followers&&(t.exclude_non_followers=!0),e.field_set_key&&(t.field_set_key=e.field_set_key),e.pin_scope&&(t.pin_scope=e.pin_scope),e.suggestion_type&&(t.suggestion_type=e.suggestion_type);let a="TypeaheadResource";e.resource_name&&(a=e.resource_name),this.searchResource=l.a.create(a,t),this.itemsCache=new s};Object.assign(u.prototype,r.a),Object.assign(u.prototype,{search(e,t){let n;if(!e&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&c.default.isLimitedLogin())return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&this.enable_recent_queries&&c.default&&c.default.isAuthenticated())n="recent_search";else{const n=this.bypass_lru_cache?{}:this.itemsCache.get(e);if(n){const a=n.items;if(a&&a.length){this.abortSearch();const r=n.hint;return void this.publishData(e,a,r,t)}}}e.length>=this.minimum_term_character_length?this.fetch(e,n,t):this.publishData(e,[],{},t)},getResource(){return this.searchResource},abortSearch(){this.getResource().abort()},publishData(e,t,n,a){const r={term:e,items:t,hint:n};this.trigger("data",r),a&&a(r)},setAutocompleteScope(e){this.getResource().set("autocompleteScope",e)},fetch(e,t,n){const a=this.getResource();if(a.isCalling()){const t=a.get("term");if(e===t)return;this.abortSearch()}""!==this.tags&&(a.set("term",e),a.set("tags",t||this.tags),a.resetBookmark(),a.callGet({showError:!1}).then(t=>{const a=t.resource_response.data,r=a.items,o=a.hint||{},i={hint:o,items:r};this.cacheData(e,i),this.publishData(e,r,o,n)},e=>{this.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm(e){this.itemsCache.remove(e)},cacheData(e,t){this.itemsCache.set(e,t)},prefetch(){if(this.warm)return;l.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0}});t.a=u},q23S:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("MKeS"),s=n("n6mq");const l=Object(i.a)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("FullPageSignup").then(n.bind(null,"pXxl")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"pXxl"}});function c(e){return r.a.createElement(l,Object.assign({},e,{fallback:r.a.createElement(s.d,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(s.N,{accessibilityLabel:o.a._("Loading signup form"),show:!0}))}))}},qYux:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("1dBE");const{Provider:i,Consumer:s,useHook:l}=Object(o.c)("ContentHeader");function c({children:e}){const[t,n]=Object(a.useState)(!1);return r.a.createElement(i,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n}},e)}},qvkv:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n("Ua9r"),r=n("kmwA"),o=n("U4JR");function i(e){Object(o.a)(101,{component:10039,element:e})}function s(e,t){return()=>{i(e),t&&t()}}function l({advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:o,baseUrl:i,adsUrl:s,isQuickPromote:l,isShoppingCatalogs:c}){if(t&&!e&&!l)return"/";let u=i;return(t||n||o)&&!c?(s||(s=i),e?(u=a.a.url_format(s,e.id),t||(u=r.a.settings.ADS_SITE_URL+u)):u=t?s:r.a.settings.ADS_SITE_URL+u):c?u=r.a.settings.ADS_SITE_URL+a.a.url_format(i,e?e.id:""):s||(u=r.a.settings.ADS_SITE_URL+i),u}},qxKp:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("uXiN"),i=n("n6mq"),s=n("3gA6");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),l(this,"state",{active:!1,focused:!1,hovered:this.props.isInitiallyHovered||!1}),l(this,"handleBlur",()=>this.setState({focused:!1})),l(this,"handleFocus",()=>this.setState({focused:!0})),l(this,"handleMouseDown",()=>this.setState({active:!0})),l(this,"handleMouseEnter",()=>{const{handleMouseEnter:e}=this.props;e&&e(),this.setState({hovered:!0})}),l(this,"handleMouseLeave",()=>{const{handleMouseLeave:e}=this.props;e&&e(),this.setState({active:!1,hovered:!1})}),l(this,"handleMouseUp",()=>this.setState({active:!1}))}render(){const{accessibilityLabel:e,experienceAnchor:t,external:n,children:a,onClick:l,rounding:c="pill",url:u}=this.props,{active:d,focused:p,hovered:h}=this.state,m="pill"===c?2:1,g="circle"===c?48:"";return r.a.createElement(i.d,{position:"relative"},r.a.createElement(i.d,{onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp},t?r.a.createElement(s.a,{accessibilityLabel:e,className:"dangerouslyDisableFocusStyle",focusOnBody:!0,onClick:l,to:u,external:n},r.a.createElement(o.a,{active:d,focused:p,hovered:h,rounding:c},r.a.createElement(i.d,{display:"flex",direction:"pill"===c?void 0:"column",alignItems:"center",justifyContent:"center",padding:m,height:g,width:g},a))):r.a.createElement(s.b,{accessibilityLabel:e,className:"dangerouslyDisableFocusStyle",focusOnBody:!0,onClick:l,to:u,external:n},r.a.createElement(o.a,{active:d,focused:p,hovered:h,rounding:c},r.a.createElement(i.d,{display:"flex",direction:"pill"===c?void 0:"column",alignItems:"center",justifyContent:"center",padding:m,height:g,width:g},a)))))}}},rpal:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("Ye/N"),s=n("shJ5"),l=n("TiQD"),c=n("ANjH"),u=n("vvax"),d=n("RNo4"),p=n("C0mq"),h=n("AJ39"),m=n("n6mq");const g={createLinkedBusinessAccount:h.e};t.a=Object(c.compose)(Object(o.connect)(({linkedAccounts:e,viewer:t})=>({loading:e.linkedBusinessCreationLoading,viewer:t}),g),p.a)((function({createLinkedBusinessAccount:e,disableOutsideClick:t,loading:n,location:o,nextUrl:c,onDismiss:p,onUsingExistingAccount:h,viewer:g}){const b=()=>{n||p()},f=()=>{h?h():p()},y={headingText:i.a._("Create a business account?","linkedBusinessAccountConfirmationModal.heading.bizAccount","Confirmation modal that appears to ask the user if they want to create a new linked business account"),headingAccessibilityLabel:i.a._("Create a business account?","linkedBusinessAccountConfirmationModal.headingAccessibilityLabel.bizAccount","Accessible label for confirmation modal that appears when a user clicks button to add linked business account"),iconAccessibilityLabel:i.a._("Do not create a business account","linkedBusinessAccountConfirmationModal.iconAccessibilityLabel.bizAccount","Accessible label for close action on modal that appears when a user clicks button to add linked business account"),bodyText:i.a._("A business account helps you run ads, see analytics and share more ideas on Pinterest.","linkedBusinessAccountConfirmationModal.bodyText.bizAccount","Value statement for creating a new linked business account"),pinnerAccountTemplate:i.a._("Not a business? {{link}}","linkedBusinessAccountConfirmationModal.usePinnerAccountTemplate.bizAccount","Text for a link asking the user if they are not a business and dont want to create a new profile"),pinnerAccountLinkText:i.a._("Use your existing account","linkedBusinessAccountConfirmationModal.usePinnerAccountLinkText.bizAccount",'Bold text that is embeded with "Not a business?" to highlight the cancel action creating a new profile')},{headingText:E,headingAccessibilityLabel:v,bodyText:S,pinnerAccountTemplate:x,pinnerAccountLinkText:_}=y;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{accessibilityModalLabel:v,heading:E,footer:r.a.createElement(a.Fragment,null,r.a.createElement(m.d,{marginTop:6},n&&r.a.createElement(s.a,null),r.a.createElement(m.d,{display:"flex",alignItems:"center",justifyContent:"center",marginTop:6},r.a.createElement(m.d,{minWidth:120},r.a.createElement(m.e,{text:i.a._("Cancel","LinkedBusinessAccountConfirmationModal.cancelButton.text","Label for the button to cancel creating new linkedin business account"),onClick:b,color:"gray",size:"lg"})),r.a.createElement(m.d,{minWidth:120,marginStart:2},r.a.createElement(m.e,{color:"red",text:i.a._("Get started","Submit button to create new linked business account","Submit button to create new linked business account"),onClick:()=>{const t=g.isAuth?g.firstName||g.lastName:"";if(g.isAuth&&t){const n={businessName:t,nextUrl:c,thirdPartyMarketingTrackingEnabled:g.third_party_marketing_tracking_enabled,thirdPartyApps:o.search&&"shopify"===Object(d.k)(o.search).utm_source?[0]:[]};e(n).then(()=>{b()})}},size:"lg"})))),r.a.createElement(m.d,{display:"flex",justifyContent:"center",marginTop:4},x?Object(u.b)(x,{link:r.a.createElement(m.d,{marginStart:1,key:"notABusiness"},r.a.createElement(m.T,{onTap:({event:e})=>{e.preventDefault(),f()}},r.a.createElement(m.y,{href:"#",inline:!0},_)))}):r.a.createElement(m.d,{marginStart:1,key:"notABusiness"},r.a.createElement(m.T,{onTap:({event:e})=>{e.preventDefault(),f()}},r.a.createElement(m.y,{inline:!0,href:"#"},_))))),onDismiss:()=>{t||p()},role:"alertdialog"},r.a.createElement(m.d,{paddingX:4,marginBottom:12},r.a.createElement(m.U,null,S))))}))},"s6a/":function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i({children:e,label:t}){return r.a.createElement(o.d,{marginTop:2,paddingY:2,role:"listitem"},r.a.createElement(o.d,{paddingX:2},r.a.createElement(o.U,{size:"sm"},t)),r.a.createElement(o.d,{marginTop:2,role:"list"},e))}},sUia:function(e,t,n){n.d(t,"D",(function(){return a})),n.d(t,"E",(function(){return r})),n.d(t,"y",(function(){return o})),n.d(t,"z",(function(){return i})),n.d(t,"x",(function(){return s})),n.d(t,"w",(function(){return l})),n.d(t,"O",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"G",(function(){return h})),n.d(t,"I",(function(){return m})),n.d(t,"t",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"v",(function(){return v})),n.d(t,"M",(function(){return S})),n.d(t,"N",(function(){return x})),n.d(t,"s",(function(){return _})),n.d(t,"J",(function(){return w})),n.d(t,"K",(function(){return C})),n.d(t,"C",(function(){return T})),n.d(t,"B",(function(){return k})),n.d(t,"u",(function(){return I})),n.d(t,"L",(function(){return R})),n.d(t,"H",(function(){return A})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return M})),n.d(t,"k",(function(){return N})),n.d(t,"m",(function(){return P})),n.d(t,"l",(function(){return U})),n.d(t,"p",(function(){return D})),n.d(t,"o",(function(){return B})),n.d(t,"n",(function(){return F})),n.d(t,"P",(function(){return j})),n.d(t,"A",(function(){return q})),n.d(t,"F",(function(){return H})),n.d(t,"q",(function(){return Y})),n.d(t,"r",(function(){return G})),n.d(t,"Q",(function(){return z}));const a={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},r=3,o=360,i=64,s=344,l=312,c=8,u=156,d=164,p=328,h=164,m=108.7,g=3,b=82,f=82,y=164,E=164,v=4,S=164,x=164,_=2,w=82,C=164,T=2,k=2,I=4,R=328,A="290x",O="170x",L={backgroundColor:"rgba(0, 0, 0, 0.4)"},M=4,N="1px",P=48,U=32,D=36,B="136x136",F=2,j=236,q=4,H=118,Y=236,G={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},z=e=>""+String(e)=="31"},tkfL:function(e,t,n){var a=n("3vRR");n.d(t,"a",(function(){return a.a}));var r=n("Pus6");n.d(t,"b",(function(){return r.a}))},tq0P:function(e,t,n){var a=n("wF/u");e.exports=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?a(e,t,void 0,n):!!r}},uJ2T:function(e,t,n){t.__esModule=!0,t.default=void 0;var a=function(e,t,n,a){if(t<(e=e||[]).length){if(void 0===a&&!n){var r=[].concat(e);return r.splice(t,0,!0),r[t]=void 0,r}if(null!=a){var o=[].concat(e);return o.splice(t,n,a),o}var i=[].concat(e);return i.splice(t,n),i}if(n)return e;var s=[].concat(e);return s[t]=a,s};t.default=a},uP8D:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("n6mq");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.Component{constructor(...e){super(...e),s(this,"state",{userText:""}),s(this,"onSubmit",()=>{this.props.onSubmit(this.state.userText)})}render(){let{prompt:e,placeholder:t}=this.props;const{disabled:n,nextPageToRedirect:a}=this.props,{userText:s}=this.state,l=a&&""!==a?o.a._("Skip","Button text to dismiss feedback modal dialog if page requires redirect","Button text to dismiss feedback modal dialog if page requires redirect"):o.a._("Back","Button text to dismiss feedback modal dialog","Button text to dismiss feedback modal dialog");return e=e||o.a._("What would you like to tell us?","Default feedback prompt for feedback modal dialog","Default feedback prompt for feedback modal dialog"),t=t||o.a._("Tell us about your experience, what you love, or what we could improve. Please don’t submit passwords or other sensitive info.","Default placeholder text for the feedback modal dialog","Default placeholder text for the feedback modal dialog"),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,{padding:4},r.a.createElement(i.d,{marginBottom:2},r.a.createElement(i.v,{htmlFor:"in-site-feedback-textarea"},r.a.createElement(i.U,null,e))),r.a.createElement(i.V,{id:"in-site-feedback-textarea",placeholder:t,rows:6,value:s,disabled:n,onChange:({value:e})=>this.setState({userText:e})})),r.a.createElement(i.n,null),r.a.createElement(i.d,{direction:"row",display:"flex",padding:4},r.a.createElement(i.d,{flex:"grow",marginEnd:2,"data-test-id":"back-button-container"},r.a.createElement(i.e,{disabled:n,onClick:this.props.onDismiss,text:l})),r.a.createElement(i.d,{flex:"grow",marginStart:2,"data-test-id":"submit-button-container"},r.a.createElement(i.e,{text:o.a._("Submit","Button text to submit feedback modal dialog","Button text to submit feedback modal dialog"),color:"red",disabled:n,onClick:this.onSubmit}))))}}t.a=l},uXiN:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i(e,t){return e||("transparent"===t?"rgba(0, 0, 0, 0.06)":"red"===t?"rgba(207, 0, 31, 1)":"darkGray"===t?"#333333":"rgb(226, 226, 226)")}function s(e){const{active:t=!1,borderRadius:n,children:a,focused:s=!1,hovered:l=!1,rounding:c,hoverBgColor:u,bgColor:d="transparent",size:p="lg"}=e,h=t?{backgroundColor:"transparent"===d?"rgba(0, 0, 0, 0.1)":"rgb(218, 218, 218)"}:null,m=!l||s||t?null:{backgroundColor:i(u,d)},g=s?{backgroundColor:i(u,d),boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:"0"}:null;let b;if("circle"===c)switch(p){case"xs":b=24;break;case"sm":b=32;break;case"md":b=40;break;case"lg":b=48;break;case"xl":b=56;break;default:b=48}const f=b,y={backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)",red:"#e60023",darkGray:"#111111"}[d],...m,...h,...g,...n?{borderRadius:n}:{}};return r.a.createElement(o.d,{rounding:c,dangerouslySetInlineStyle:{__style:y},height:b,width:f},a)}},x97A:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),o=n("WQdw"),i=n("Ye/N"),s=n("n6mq");function l({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){return r.a.createElement(s.d,{paddingX:4,paddingY:4,flex:"grow"},r.a.createElement(s.d,{marginBottom:3},r.a.createElement(s.U,null,i.a._("Oh no! You're no longer logged into","header.accountsOptionsMenu.failedAccount","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it"))),r.a.createElement(o.a,{onClick:()=>{},user:e}),r.a.createElement(s.d,{marginTop:4},r.a.createElement(s.e,{text:i.a._("Log in again","header.accountsOptionsMenu.failedAccountLoginButton","Text on button allowing user to log into an account after failing to switch to that account"),color:"red",onClick:t})),r.a.createElement(s.d,{marginTop:3},r.a.createElement(s.e,{text:i.a._("Remove account","header.accountsOptionsMenu.failedAccountRemoveButton","Text on button allowing user to remove an account from their account switcher after failing to switch to it"),onClick:()=>n(e.id)})))}},znL5:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("Cufx"),i=n("7pfs"),s=n("3gA6"),l=n("v/Q4"),c=n("n6mq"),u=n("iAhy");function d({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:a}){const d=Object(l.a)(),{fullName:p,imageMediumUrl:h,username:m}=d.isAuth?d:{};return r.a.createElement(i.a,null,({active:i,hovered:l,onBlur:d,onFocus:g,onMouseDown:b,onMouseUp:f,onMouseEnter:y,onMouseLeave:E})=>r.a.createElement(c.d,{color:l?"lightGray":void 0,height:48,onBlur:d,onFocus:g,onMouseDown:b,onMouseUp:f,onMouseEnter:y,onMouseLeave:E,rounding:"circle",width:48,"data-test-id":"header-profile"},r.a.createElement(s.b,{className:"GestaltTouchableFocus",focusOnBody:!0,style:{borderRadius:"50%",display:"block",height:"100%",width:"100%"},to:Object(u.a)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${m}/`})},r.a.createElement(c.d,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%"},r.a.createElement(c.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...i||a?{border:"2px solid #111111"}:{}}},display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30},r.a.createElement(o.a,{name:p,size:"xs",src:h}))))))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/216-d6b9d86b78f2586c3ac9.mjs.map