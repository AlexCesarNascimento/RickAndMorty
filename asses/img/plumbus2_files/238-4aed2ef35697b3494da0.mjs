(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[238],{"+wrf":function(e,t,a){var o=a("q1tI"),n=a.n(o),r=a("/MKj"),i=a("ViqK"),s=a("Ye/N"),l=a("joD6"),d=a("xdpg"),c=a("n6mq");class u extends n.a.Component{getSubtitleText(e,t,a){const o=this.props.invite.invited_by_user.full_name;return e?s.a._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):t?s.a._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):a?s.a._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(d.c)(s.a._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:o})}getDeclineDeleteText(e,t,a){return e?s.a._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!a?s.a._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):s.a._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]")}render(){const{onApprove:e,isDim:t,onDelete:a,actionsDisabled:o,viewer:r,invite:{access:l,status:d,invited_by_user:u,invited_user:m}}=this.props,h=m.id===r.id,b=u.id===r.id,g=m.id===u.id,p="accepted"===d,v=l.includes("approve"),f=l.includes("delete"),_=s.a._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),y=this.getDeclineDeleteText(h,g,p),E=f&&!v,C=f&&v,w=`/${m.username}/`;return n.a.createElement(c.d,null,n.a.createElement(i.a,{imageUrl:m.image_medium_url||"",name:m.full_name,title:m.full_name,subtitle:this.getSubtitleText(h,b,g),linkURL:w,isDim:void 0!==t?t:!p,accessory:E&&n.a.createElement(c.e,{inline:!0,disabled:o,onClick:a,text:y,size:"lg"})}),C&&n.a.createElement(c.d,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end"},n.a.createElement(c.d,{paddingX:1,flex:"grow",width:"50%"},n.a.createElement(c.e,{disabled:o,onClick:a,text:y,size:"lg"})),n.a.createElement(c.d,{paddingX:1,flex:"grow",width:"50%"},n.a.createElement(c.e,{color:"red",disabled:o,onClick:e,text:_,size:"lg"}))))}}var m=Object(l.a)(u),h=a("4dcN"),b=a("CvCA"),g=a("ANjH"),p=a("L2iP"),v=a("ZE2w"),f=a("TiQD"),_=a("vvax");function y(e){const{onCancel:t,onRemove:a,useGestaltModal:o}=e,r=s.a._("Are you sure you want to leave this group board and remove it from your profile?"),i=o?c.D:f.b;return n.a.createElement(i,{accessibilityModalLabel:s.a._("Leave board?"),heading:s.a._("Leave board?"),onDismiss:t,size:"sm",footer:n.a.createElement(c.d,{display:"flex",justifyContent:"end"},n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{inline:!0,onClick:t,text:s.a._("Cancel")})),n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{color:"red",inline:!0,onClick:a,text:s.a._("Leave")})))},n.a.createElement(c.d,{padding:5},n.a.createElement(c.U,null,r)))}class E extends o.Component{constructor(...e){var t,a,o;super(...e),o={shouldBlock:!1},(a="state")in(t=this)?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o}getBlockDescription(e,t){return"declineRequest"===e?t?Object(_.b)(s.a._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):s.a._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(_.b)(s.a._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):s.a._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:a,onCancel:r,onRemove:i,onRemoveAndBlock:l,useGestaltModal:d}=this.props,u="declineRequest"===e?Object(_.b)(s.a._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:a}).join(""):Object(_.b)(s.a._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:a}).join(""),m=s.a._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),h=this.getBlockDescription(e,t),b=this.state.shouldBlock?s.a._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):s.a._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),g=n.a.createElement(o.Fragment,null,n.a.createElement(c.d,{padding:5},n.a.createElement(c.U,null,m)),n.a.createElement(c.n,null),n.a.createElement(c.d,{padding:5,display:"flex"},n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.i,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})),n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.v,{htmlFor:"banUser"},n.a.createElement(c.U,{weight:"bold"},Object(_.b)(s.a._("Block {{ name }}"),{name:t||""})),n.a.createElement(c.U,{size:"md"},h))))),p=d?c.D:f.b;return n.a.createElement(p,{accessibilityModalLabel:u,heading:u,onDismiss:r,size:"sm",footer:n.a.createElement(c.d,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1},n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{inline:!0,onClick:r,text:s.a._("Cancel")})),n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{color:"red",inline:!0,onClick:this.state.shouldBlock?l:i,text:b})))},g)}}var C=a("nGHF");function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class x extends n.a.Component{constructor(...e){super(...e),w(this,"state",{currentModal:null,loading:!1}),w(this,"showRemoveSuccessToast",()=>{const{toastManagerContext:e}=this.props,t=s.a._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast(({onHide:e})=>n.a.createElement(b.a,{color:"darkGray",duration:3e3,onHide:e,text:t}))}),w(this,"onDelete",()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),w(this,"onApprove",()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),w(this,"deleteBoardInvite",(e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:a,onInviteDidUpdate:o}=this.props,n=this.isViewerInvitedUser,r=n?"collaborator_decline_invite":"collaborator_delete_invite";h.a.trackEvent(r,"click"),this.setState({currentModal:null,loading:!0}),t(n,e).then(()=>{h.a.trackEvent(r,"success"),o(),this.showRemoveSuccessToast(),n&&a()}).catch(()=>{h.a.trackEvent(r,"error")}).finally(()=>{this.setState({loading:!1})})}),w(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),w(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),w(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:a}=this.state;return"delete"===a?this.isViewerInvitedUser?n.a.createElement("div",{style:{position:"absolute",zIndex:p.h+1}},n.a.createElement(y,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})):n.a.createElement("div",{style:{position:"absolute",zIndex:p.h+1}},n.a.createElement(E,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})):null}render(){const{invite:e,isDim:t}=this.props,{loading:a}=this.state;return n.a.createElement(c.d,null,n.a.createElement(m,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:a}),this.renderCurrentModal())}}t.a=Object(g.compose)(Object(r.connect)(null,(e,t)=>{const{invite:a,invite:{invited_user:{id:o},board:{id:n}}}=t;return{approveBoardCollabInvite:()=>e(Object(v.a)(n,o)),deleteBoardCollabInvite:(t,o)=>e(Object(v.b)(a,t,o))}}),l.a,C.c)(x)},"+zkD":function(e,t,a){a.d(t,"a",(function(){return k}));var o=a("q1tI"),n=a.n(o),r=a("8cMa"),i=a("JW66"),s=a("Ye/N"),l=a("rrvb"),d=a("jdx6"),c=a("n6mq");function u({boards:e,fetchMore:t,selectedBoard:a,onSelect:o,onSearchQueryUpdate:u,searchQuery:m}){return n.a.createElement(l.a,{dropdownValue:a?a.name:s.a._("Pick a board"),fetchMore:t,onSearchQueryUpdate:u,onSelect:o,renderRow:({item:{name:e,privacy:t,is_collaborative:a},hovered:o})=>n.a.createElement(c.d,{color:o?"lightGray":"white",display:"flex",padding:2,rounding:2},n.a.createElement(c.d,{flex:"grow"},n.a.createElement(c.U,{weight:"bold"},Object(d.b)(m,e))),n.a.createElement(c.d,{display:"flex",flex:"none",direction:"row"},t===i.a.BoardPrivacy.SECRET&&n.a.createElement(r.a,{type:"secret"}),a&&n.a.createElement(r.a,{type:"group"}))),searchQuery:m,sections:[{items:e}]})}var m=a("e3GI"),h=a("0BOE"),b=a("qyR9");function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends n.a.PureComponent{constructor(...e){super(...e),g(this,"state",{query:""}),g(this,"handleQueryChange",e=>this.setState({query:e}))}render(){const{allBoardsResource:e,children:t}=this.props,{query:a}=this.state,o=!(e=>e.length<b.a)(a);if(!e.isLoaded||!e.data)return t({isLoaded:!1});const n=Array.isArray(e.data)?e.data:e.data.all_boards;return t({isLoaded:!0,results:o?Object(h.a)(n,a):n,fetchMore:void 0,isSearch:o,onQueryChange:this.handleQueryChange,query:a})}}var v=a("sEfC"),f=a.n(v);class _ extends n.a.PureComponent{constructor(...e){var t,a,o;super(...e),o={results:[]},(a="state")in(t=this)?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o}static getDerivedStateFromProps({results:e},{results:t}){return{results:e||t||[]}}render(){return this.props.children(this.state.results)}}var y=a("zLLH");var E=Object(y.c)({name:"SearchMyBoardsResource",key:"resource",options:({fieldSetKey:e,query:t})=>({field_set_key:e,query:t})},{dangerouslyDisableFetch:({clientResults:e})=>!!e})((function({children:e,clientResults:t,resource:{data:a}}){return n.a.createElement(_,{results:t||a},e)}));function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const w=e=>e.length<b.a;class x extends n.a.PureComponent{constructor(...e){super(...e),C(this,"state",{query:"",debouncedQuery:""}),C(this,"handleQueryChange",e=>{w(e)||this.props.allBoardsResource.isAtEnd?(this.debouncedSetQuery.cancel(),this.setState({query:e,debouncedQuery:e})):(this.setState({query:e}),this.debouncedSetQuery(e))}),C(this,"debouncedSetQuery",f()(e=>this.setState({debouncedQuery:e}),500,{leading:!0,trailing:!0}))}render(){const{children:e,fieldSetKey:t,allBoardsResource:a}=this.props,{query:o,debouncedQuery:r}=this.state;if(!a.isLoaded||!a.data)return e({isLoaded:!1});const i=Array.isArray(a.data)?a.data:a.data.all_boards,s=!w(r);let l,d;return s?a.isAtEnd&&(l=Object(h.a)(i,r)):(l=i,a.isAtEnd||a.isFetching||(d=a.fetchMore)),n.a.createElement(E,{clientResults:l,fieldSetKey:t,query:r},t=>e({isLoaded:!0,isSearch:s,query:o,onQueryChange:this.handleQueryChange,results:t,fetchMore:d}))}}var B=a("XCz/");function I({children:e,...t}){return n.a.createElement(B.a,{name:"web_paginated_boards"},({anyEnabled:a})=>{const o=a?x:p;return n.a.createElement(o,t,e)})}var S=a("w70y");function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const O="merge";class j extends n.a.Component{constructor(...e){super(...e),M(this,"state",{selectedTargetBoard:null}),M(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),M(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),M(this,"renderModalBody",()=>{const{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:a}=this.state,{data:o}=e;if(!o)return n.a.createElement(c.N,{accessibilityLabel:s.a._("Loading board list","spinner accessibility label","spinner accessibility label"),show:!0});const r=o.find(e=>e.id===t);return 0===o.filter(e=>e.id!==t).length?n.a.createElement(c.U,null,s.a._("There is no board to merge this board into.","helper text for selecting merge target board","helper text for selecting merge target board")):n.a.createElement(c.d,null,n.a.createElement(c.d,{paddingY:1},n.a.createElement(I,{fieldSetKey:O,allBoardsResource:e},e=>e.isLoaded?n.a.createElement(u,{boards:e.results.filter(e=>e.id!==t),fetchMore:e.fetchMore,onSearchQueryUpdate:e.onQueryChange,onSelect:this.handleChange,searchQuery:e.query,selectedBoard:a}):null)),a&&r&&n.a.createElement(c.d,{paddingY:2},n.a.createElement(m.a,{sourceBoard:r,targetBoard:a})))})}render(){const{boardsResource:{data:e},onCancel:t}=this.props,{selectedTargetBoard:a}=this.state;return n.a.createElement(c.d,{color:"white",rounding:2,width:440},n.a.createElement(c.d,{display:"flex",justifyContent:"center",paddingY:5,paddingX:3},n.a.createElement(c.r,{size:"md"},a?s.a._("Move Pins and delete board?","title for board merging modal","title for board merging modal"):s.a._("Move all Pins to...","title for board merging modal","title for board merging modal"))),n.a.createElement(c.n,null),n.a.createElement(c.d,{padding:3},this.renderModalBody()),n.a.createElement(c.n,null),n.a.createElement(c.d,{padding:3,display:"flex",justifyContent:"end"},n.a.createElement(c.d,{display:"flex",marginStart:-1,marginEnd:-1},n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{inline:!0,onClick:t,text:s.a._("Cancel")})),!!e&&n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{color:"red",disabled:!a,inline:!0,onClick:this.handleSubmit,text:s.a._("Move Pins and Delete Board","button for merging a board","button for merging a board")})))))}}function k(e){const t=Object(S.a)({name:"BoardsResource",options:{privacy_filter:"all",sort:"alphabetical",field_set_key:O,username:"me"},allowStale:!1});return n.a.createElement(j,Object.assign({},e,{boardsResource:t}))}},"/5qN":function(e,t,a){a.d(t,"a",(function(){return v}));var o=a("q1tI"),n=a.n(o),r=a("Ye/N"),i=a("rYoy"),s=a("CvCA"),l=a("nGHF"),d=a("n6mq");const c=Object(o.lazy)(()=>a.e("ReactCopyToClipboardLibrary").then(a.t.bind(null,"P5Jw",7)));function u({linkURL:e,onDidFocus:t,onDidClickCopyButton:a}){const{showOneToast:o}=Object(l.b)(),u=r.a._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return n.a.createElement(d.d,{display:"flex",alignItems:"center",paddingX:4},n.a.createElement(d.d,{flex:"grow",marginEnd:2},n.a.createElement(d.W,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})),n.a.createElement(i.a,{fallback:n.a.createElement(d.e,{inline:!0,text:u,disabled:!0})},n.a.createElement(c,{text:e,onCopy:(e,t)=>{t&&o(({onHide:e})=>n.a.createElement(s.a,{onHide:e,text:r.a._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),a()}},n.a.createElement(d.e,{inline:!0,text:u,size:"lg"}))))}var m=a("mvLR"),h=a("oVol"),b=a("U4JR"),g=a("udob");const p=e=>({invite_category:4,invite_channel:12,object_type:h.a.BOARD,object_id:e});function v({boardId:e}){const[t,a]=Object(o.useState)(!1),[r,i]=Object(o.useState)(null);Object(o.useEffect)(()=>{if(!r){const t=p(e),{cancel:a,promise:o}=Object(m.a)(g.a.createShareInviteData(t));return o.then(e=>i(e)),()=>{a()}}},[]);const s=r?r.invite_url:"...",l=()=>{null===r||t||(a(!0),g.a.logShareInvite(p(e),r))};return n.a.createElement(u,{linkURL:s,onDidClickCopyButton:()=>{Object(b.a)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),l()},onDidFocus:l})}},"2Y2E":function(e,t,a){a.d(t,"a",(function(){return i}));var o=a("q1tI"),n=a.n(o),r=a("OQKm");function i({board:e,children:t}){const[a,i]=Object(o.useState)(!1);return n.a.createElement(o.Fragment,null,t(()=>i(!0)),a&&n.a.createElement(r.a,{board:e,onDismiss:()=>i(!1)}))}},"3j7w":function(e,t,a){a.d(t,"a",(function(){return r}));var o=a("q1tI"),n=a.n(o);class r extends n.a.PureComponent{constructor(...e){var t,a,o;super(...e),o=()=>{const{isAtEnd:e,isFetching:t,fetchMore:a,scrollBuffer:o,scrollHeight:n,scrollTop:r}=this.props;e||t||r+o>n&&a()},(a="check")in(t=this)?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},EwHv:function(e,t,a){a.d(t,"a",(function(){return b}));var o=a("q1tI"),n=a.n(o),r=a("+wrf"),i=a("Ye/N"),s=a("3j7w"),l=a("n6mq");function d(e){const{fetchMore:t,invites:a,isAtEnd:o,isFetching:r,onBoardLeave:d,refreshData:c,scroll:u,renderInvite:m}=e;return n.a.createElement("div",null,u&&n.a.createElement(s.a,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:o,isFetching:r,fetchMore:t}),a.map((e,t)=>e&&e.invited_user&&e.invited_user.id?n.a.createElement(l.d,{key:t},m(e,d,c)):null),r&&!o&&n.a.createElement(l.N,{accessibilityLabel:i.a._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0}))}var c=a("ViqK"),u=a("mEMi"),m=a("w70y");class h extends n.a.Component{constructor(...e){var t,a,o;super(...e),o=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refreshData(),t.refreshData()},(a="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o}shouldComponentUpdate(e){const{invites:{data:t}}=e,{invites:{data:a}}=this.props;return!a||!!t&&a.length!==t.length}render(){const{board:e,invites:t,invitesPendingApproval:a,scrollInfo:o,onBoardLeave:s,onModalOpen:m,renderInvite:h}=this.props,{full_name:b,image_medium_url:g,username:p}=e.owner,v=i.a._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return n.a.createElement(n.a.Fragment,null,t.isLoaded||a.isLoaded?n.a.createElement(u.a,{fetchMore:t.fetchMore},({onScroll:i,setRef:u})=>n.a.createElement(l.d,{width:"100%",onScroll:i,ref:u},n.a.createElement(d,{boardId:e.id,fetchMore:a.fetchMore,invites:a.data||[],isAtEnd:a.isAtEnd,isFetching:a.isFetching,onBoardLeave:s,refreshData:this.handleInvitesDidUpdate,scroll:o,renderInvite:h}),(a.data||[]).length>0?n.a.createElement(l.d,{paddingY:3},n.a.createElement(l.n,null)):null,n.a.createElement(l.d,{paddingY:1},n.a.createElement(c.a,{imageUrl:g,linkURL:`/${p}/`,name:b,subtitle:v,title:b}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?n.a.createElement(r.a,{invite:e,key:e.invited_user.id,onBoardLeave:s,onModalOpen:m,onInviteDidUpdate:t.refreshData}):null)))):n.a.createElement(l.N,{show:!0,accessibilityLabel:i.a._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")}))}}function b(e){const t=Object(m.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),a=Object(m.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return n.a.createElement(h,Object.assign({},e,{invites:t,invitesPendingApproval:a}))}},HRDe:function(e,t,a){var o=a("q1tI"),n=a.n(o),r=a("n6mq");t.a=function({children:e,itemWidth:t,maxColumns:a=12}){return n.a.createElement(r.d,{display:"flex",justifyContent:"center",wrap:!0},e,((e,t)=>Array.from(new Array(t)).map((t,a)=>n.a.createElement(r.d,{key:a,width:e})))(t,a))}},MNxV:function(e,t,a){a.d(t,"a",(function(){return s}));var o=a("q1tI"),n=a.n(o),r=a("XRfM"),i=a("pLLR");const s=r.b.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:a})=>n.a.createElement(i.b,null,o=>r.b.formatDate(o.locale,a,e,t))},O3d3:function(e,t,a){a.d(t,"a",(function(){return o}));function o(e){return{facebook:{connected:e.connected_to_facebook||!1},google:{connected:e.connected_to_google||!1},youtube:{connected:e.connected_to_youtube||!1},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:e.connected_to_microsoft||!1},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:e.connected_to_etsy||!1},instagram:{connected:e.connected_to_instagram||!1},dropbox:{connected:e.connected_to_dropbox||!1}}}},OQKm:function(e,t,a){a.d(t,"a",(function(){return w}));var o=a("q1tI"),n=a.n(o),r=a("/5qN"),i=a("+wrf"),s=a("rxSY"),l=a("Ye/N");const d="INVITE_SETTING",c="REQUEST_TO_JOIN_SETTING";var u=a("n6mq");function m({boldHeading:e,setting:t,viewerIsOwner:a}){const o={0:{name:l.a._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l.a._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:l.a._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:a?l.a._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):l.a._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[d]:{name:l.a._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l.a._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[c]:{name:l.a._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l.a._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},r=e?u.r:u.U;return n.a.createElement(n.a.Fragment,null,n.a.createElement(r,{color:"darkGray",size:e?"sm":"lg"},o[t].name),n.a.createElement(u.d,{paddingY:1},n.a.createElement(u.U,{color:"gray",size:"lg"},o[t].description)))}var h=a("EwHv"),b=a("TiQD"),g=a("v/Q4"),p=a("y19s");function v({board:e,currentPermissionLevel:t,navigateToPermissions:a,onDismiss:d}){const c=e.collaborator_count>0,[v,f]=Object(o.useState)(!c),_=Object(g.a)(),{history:y}=Object(p.b)(),E=_.isAuth&&e.owner.id===_.id,C=E||e.collaborator_invites_enabled,w=v&&!c||!v;return n.a.createElement(b.b,{accessibilityModalLabel:v?l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):l.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:C&&!v?n.a.createElement(u.T,{onTap:()=>f(!0),rounding:8},n.a.createElement(u.d,{display:"flex",alignItems:"center"},n.a.createElement(u.t,{accessibilityLabel:l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),n.a.createElement(u.d,{paddingX:3},n.a.createElement(u.U,{size:"lg",weight:"bold"},l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form"))))):null,heading:n.a.createElement(u.d,{padding:8},n.a.createElement(u.r,{align:"center",size:"md"},v?l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):l.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"))),onDismiss:d},n.a.createElement(u.d,{marginBottom:5},w&&n.a.createElement(u.d,{paddingX:6},n.a.createElement(u.d,{paddingY:3},n.a.createElement(u.U,{size:"sm"},E?l.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):l.a._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"))),n.a.createElement(u.d,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4},n.a.createElement(u.d,{width:"60%"},n.a.createElement(m,{boldHeading:!0,viewerIsOwner:E,setting:t})),E&&n.a.createElement(u.t,{accessibilityLabel:l.a._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:a}))),v?n.a.createElement(u.d,{paddingX:2},n.a.createElement(r.a,{boardId:e.id}),n.a.createElement(s.a,{boardId:e.id,boardOwner:e.owner})):n.a.createElement(o.Fragment,null,n.a.createElement(u.d,{paddingX:6,paddingY:5},n.a.createElement(u.U,{size:"sm"},l.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board"))),n.a.createElement(h.a,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=_.isAuth?"/"+_.username:"/";y.replace(e)},renderInvite:(e,t,a)=>{const o={invite:e,onBoardLeave:t,onInviteDidUpdate:a,useGestaltModal:!0,isDim:!1};return n.a.createElement(i.a,o)}}))))}var f=a("/MKj"),_=a("U4JR"),y=a("pLLR"),E=a("oN2T");function C({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:a},currentPermissionLevel:r,navigateToCollaborators:i,onDismiss:s}){const[h,g]=Object(o.useState)(r),[p,v]=Object(o.useState)(e),[C,w]=Object(o.useState)(t),[x,B]=Object(o.useState)(!1),I=Object(y.d)(),S=Object(f.useDispatch)();return n.a.createElement(b.b,{accessibilityModalLabel:l.a._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:n.a.createElement(u.d,{paddingY:8,position:"relative"},n.a.createElement(u.d,{position:"absolute",top:!0,left:!I.isRTL,right:I.isRTL,paddingY:8,paddingX:6},n.a.createElement(u.t,{accessibilityLabel:l.a._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:i})),n.a.createElement(u.r,{align:"center",size:"md"},l.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"))),footer:n.a.createElement(u.d,{display:"flex",justifyContent:"end"},n.a.createElement(u.e,{color:"red",disabled:x||h===r&&p===e&&C===t,inline:!0,onClick:()=>{B(!0);const o={id:a},n={view:5,viewParameter:3472};p!==e&&(o.collaborator_invites_enabled=p,Object(_.a)(p?106:107,{element:11896,...n})),h!==r&&(o.collaborator_permissions_setting=h,Object(_.a)(8841,{...n})),C!==t&&(o.collaborator_requests_enabled=C),S(Object(E.m)(o)).then(()=>s())},size:"lg",text:l.a._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})),onDismiss:s},n.a.createElement(u.d,{paddingX:12},n.a.createElement(u.d,{paddingY:3},n.a.createElement(u.U,{size:"sm"},l.a._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions"))),n.a.createElement(u.d,{alignItems:"center",display:"flex"},n.a.createElement(u.G,{checked:0===h,id:"ALL",onChange:()=>g(0),value:0}),n.a.createElement(u.d,{marginEnd:12,paddingX:2},n.a.createElement(m,{setting:0}))),n.a.createElement(u.d,{display:"flex",paddingY:6},n.a.createElement(u.G,{checked:1===h,id:"SAVE_ONLY",onChange:()=>g(1),value:1}),n.a.createElement(u.d,{marginEnd:12,paddingX:2},n.a.createElement(m,{setting:1}))),n.a.createElement(u.d,{paddingY:3},n.a.createElement(u.U,{size:"sm"},l.a._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting"))),n.a.createElement(u.d,{display:"flex",marginBottom:6},n.a.createElement(u.i,{checked:p,id:"inviteSetting",onChange:({checked:e})=>v(e)}),n.a.createElement(u.d,{marginEnd:12,paddingX:2},n.a.createElement(m,{setting:d}))),n.a.createElement(u.H,null,n.a.createElement(u.i,{checked:C,id:"inviteSetting",onChange:({checked:e})=>w(e)}),n.a.createElement(u.d,{marginEnd:12,paddingX:2},n.a.createElement(m,{setting:c})))))}function w({board:e,onDismiss:t}){const[a,r]=Object(o.useState)("collaboratorsView"),{collaborator_permissions_setting:i}=e;return"collaboratorsView"===a?n.a.createElement(v,{board:e,currentPermissionLevel:i,navigateToPermissions:()=>r("permissionsView"),onDismiss:t}):n.a.createElement(C,{board:e,currentPermissionLevel:i,navigateToCollaborators:()=>r("collaboratorsView"),onDismiss:t})}},OWXb:function(e,t,a){a.d(t,"a",(function(){return n}));var o=a("eOdZ");function n(e){return t=>function(e){return o.a.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(e=>new Promise((t,a)=>{const o=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;o?t(o):a(new Error("No blocking actions found in the response"))}))}(e).then(a=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:a}}),a))}},SASd:function(e,t,a){var o=a("q1tI"),n=a.n(o),r=a("9rZX"),i=a.n(r),s=a("TSYQ"),l=a.n(s),d=a("Ye/N"),c=a("D2p8"),u=a("LT60"),m=a("n6mq");function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}i.a.defaultStyles={};class b extends n.a.Component{constructor(...e){super(...e),h(this,"pauseImpressionsTracking",()=>{c.c.pause()}),h(this,"resumeImpressionsTracking",()=>{c.c.resume()}),h(this,"handleHide",()=>{this.resumeImpressionsTracking(),this.props.onHide&&this.props.onHide()}),h(this,"handleOpen",()=>{this.pauseImpressionsTracking()})}componentDidMount(){this.pauseImpressionsTracking()}componentWillUnmount(){this.resumeImpressionsTracking()}render(){const{allowClickAndDrag:e,className:t,loading:a,noButton:o,onHide:r,type:s,style:c={}}=this.props,h=l()(t,"dangerouslyDisableFocusStyle","Module","ReactModal__Content","inModal",{modalHasClose:!!r},{ConfirmDialog:"confirm"===s},{PushNotificationSettings:"notifications"===s}),b=a?n.a.createElement(m.N,{accessibilityLabel:d.a._("Loading content","Accessibility label for loading modal content","Accessibility label for loading modal content"),show:!0}):null,g=r&&!o?n.a.createElement("button",{className:"Button Module borderless cancelButton closeModal inModal show",onClick:this.handleHide,type:"button"},n.a.createElement(m.s,{icon:"cancel",accessibilityLabel:d.a._("Close modal"),size:20})):null;return n.a.createElement(u.a,{allowClickAndDrag:e},n.a.createElement(i.a,{ariaHideApp:!1,className:h,isOpen:!0,onAfterOpen:this.handleOpen,onRequestClose:this.handleHide,shouldCloseOnOverlayClick:!0,style:c},b,this.props.children,g))}}t.a=b},ViqK:function(e,t,a){a.d(t,"a",(function(){return l}));var o=a("q1tI"),n=a.n(o),r=a("Cufx"),i=a("3gA6"),s=a("n6mq");function l(e){const{imageUrl:t,name:a,title:o,subtitle:l,accessory:d,linkURL:c,isDim:u}=e,m={__style:{opacity:u?.5:1}};return n.a.createElement(n.a.Fragment,null,a&&o&&n.a.createElement(s.d,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4},n.a.createElement(s.d,{marginEnd:2,dangerouslySetInlineStyle:m},n.a.createElement(i.b,{to:c||""},n.a.createElement(r.a,{outline:!0,size:"md",name:a,src:t}))),n.a.createElement(s.d,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:m},n.a.createElement(i.b,{to:c||""},n.a.createElement(s.U,{color:"darkGray",size:"lg",truncate:!0,weight:"bold"},o)),n.a.createElement(s.U,{truncate:!0,size:"sm",color:"gray"},l)),d&&n.a.createElement(s.d,{marginStart:4},d)))}},e3GI:function(e,t,a){a.d(t,"a",(function(){return u}));var o=a("q1tI"),n=a.n(o),r=a("Ye/N"),i=a("oRao"),s=a("vvax"),l=a("n6mq");function d({boardName:e,collaboratorCount:t}){const a=n.a.createElement(l.U,{inline:!0,key:"board_name",weight:"bold"},e);return n.a.createElement(l.U,null,t?Object(s.b)(r.a._("When you delete {{ boardName }}, you'll lose {{ n_collaborators }} and all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:a,n_collaborators:n.a.createElement(l.U,{inline:!0,key:"collaborator_count",weight:"bold"},Object(s.b)(r.a.ngettext("{{ count }} collaborator","{{ count }} collaborators",t,"label for n board collaborator(s)","label for n board collaborator(s)"),{count:n.a.createElement(i.a,{value:t})}))}):Object(s.b)(r.a._("When you delete {{ boardName }}, you'll lose all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:a}))}function c({board:{name:e,is_collaborative:t}}){const a=t?r.a._("your {{ boardName }} group board"):r.a._("your {{ boardName }} board");return n.a.createElement(l.U,{inline:!0,key:"yourboard_"+e},Object(s.b)(a,{boardName:n.a.createElement(l.U,{inline:!0,key:"board_"+e,weight:"bold"},e)}))}function u({sourceBoard:e,targetBoard:t}){return n.a.createElement(l.d,null,n.a.createElement(l.d,{paddingY:2},n.a.createElement(l.U,null,Object(s.b)(r.a._("You're about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.","helper text for selecting merge target board","helper text for selecting merge target board"),{sourceBoardName:n.a.createElement(c,{key:"sourceBoard",board:e}),targetBoardName:n.a.createElement(c,{key:"targetBoard",board:t})}))),n.a.createElement(l.d,{paddingY:2},n.a.createElement(d,{boardName:e.name,collaboratorCount:e.collaborator_count})))}},jZhD:function(e,t,a){a.d(t,"a",(function(){return i}));var o=a("q1tI"),n=(a("17x9"),a("pdBG"));function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class i extends o.Component{constructor(...e){super(...e),r(this,"searchCache",Object.create(null)),r(this,"lastSearchedQuery",null),r(this,"search",e=>{this.lastSearchedQuery=e,e in this.searchCache?this.props.onTypeaheadSuggestionsChange(this.searchCache[e],e):this.provider.search(e,({items:t})=>{this.searchCache[e]=t,e===this.lastSearchedQuery&&this.props.onTypeaheadSuggestionsChange(t,e)})})}componentDidMount(){const e=this.props.resourceOptions||{};this.provider=new n.a({resource_name:this.props.resourceName,...e});const{value:t}=this.props;null!=t&&this.props.allowSearchOnMount&&this.search(this.props.value)}componentDidUpdate(e){const{value:t}=this.props;null!=t&&t!==e.value&&this.search(t)}render(){return this.props.children||null}}r(i,"defaultProps",{resourceName:"TypeaheadResource"})},lUWX:function(e,t,a){a.d(t,"a",(function(){return g}));var o=a("q1tI"),n=a.n(o),r=a("TSYQ"),i=a.n(r),s=a("Ye/N"),l=a("G35+"),d=a("+zF7"),c=a("n6mq");const{FACEBOOK:u,GPLUS:m,YAHOO:h}=l.a,b="40px";function g(e){const t={[u]:s.a._("Find friends from Facebook"),[m]:s.a._("Find friends from Google+"),[h]:s.a._("Find friends from Yahoo")},{network:a}=e;return n.a.createElement(c.T,{onTap:()=>function(e){d.a.instance().handleConnect(e,!0,{})}(a)},n.a.createElement(c.d,{display:"flex",alignItems:"center",paddingX:3,paddingY:2},n.a.createElement(c.d,{width:b,height:b,marginEnd:4},n.a.createElement("div",{className:"SocialConnectCell"},n.a.createElement("div",{className:i()("icon","socialConnect-"+a)},n.a.createElement("em",null)))),n.a.createElement(c.d,{display:"flex",flex:"grow",alignItems:"start",direction:"column"},n.a.createElement(c.U,{color:"darkGray",size:"md",weight:"bold"},t[a]))))}},mvLR:function(e,t,a){function o(e){let t=!1;return{promise:new Promise((a,o)=>{e.then(e=>t?o({isCanceled:!0}):a(e),e=>o(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}a.d(t,"a",(function(){return o}))},oVed:function(e,t,a){var o=a("q1tI"),n=a.n(o),r=a("/MKj"),i=a("2Y2E"),s=a("qdVQ"),l=a("Ye/N"),d=a("3gA6"),c=a("sWfT"),u=a("U4JR"),m=a("Wrea"),h=a("MNxV");function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends n.a.Component{constructor(...e){super(...e),b(this,"state",{coverImageUrl:this.props.board.has_custom_cover?this.props.board.image_cover_hd_url||this.props.board.image_cover_url:"",isEditModalOpen:!1}),b(this,"componentDidUpdate",e=>{if(e.board.id===this.props.board.id)return void(e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard());const t=this.props.board.image_cover_hd_url||this.props.board.image_cover_url,a=this.state.coverImageUrl;this.props.board.has_custom_cover?t!==a&&this.setState({coverImageUrl:t}):this.setState({coverImageUrl:""})}),b(this,"getSubtitleText",()=>{const{board:e,boardOrder:t,layout:a}=this.props,o="list"===a;return e.archived_by_me_at?o?n.a.createElement("span",null,l.a.getHumanizedTimesince(e.archived_by_me_at)):l.a._("Archived","profileBoardCard.footer.archived","Indicating that a board is archived"):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||o?l.a.getHumanizedTimesince(e.board_order_modified_at,{isAbbreviated:!0}):null:o?n.a.createElement("span",null,n.a.createElement(h.b,{dateFormatType:h.a.LONG,value:new Date(e.created_at)})):null}),b(this,"handleBoardCardClick",()=>{const{board:e}=this.props;Object(u.a)(101,{component:1,element:36,objectId:e.id,view:4})}),b(this,"handleCoverImageChange",e=>{this.setState({coverImageUrl:e})}),b(this,"handleEditClick",e=>{e.preventDefault(),e.stopPropagation();const{board:t}=this.props;this.setState({isEditModalOpen:!0}),Object(u.a)(101,{component:1,element:81,objectId:t.id,view:4})}),b(this,"handleEditClose",()=>{this.setState({isEditModalOpen:!1})})}render(){const{board:e,images:t,isReordering:a,isOwnProfile:r,layout:l,onBoardArchiveChange:u,onBoardDelete:m,onBoardPrivacyChange:h,onBoardLeave:b,onBoardUpdate:g,progress:p,slotIndex:v}=this.props,{coverImageUrl:f,isEditModalOpen:_}=this.state;if(!e)return null;const{image_cover_url:y,image_cover_hd_url:E,url:C}=e,w=r||e.access.includes("write"),x=this.getSubtitleText(),B=y||E||"";return n.a.createElement(i.a,{board:e},i=>n.a.createElement(o.Fragment,null,n.a.createElement(d.b,{onClick:this.handleBoardCardClick,to:C},n.a.createElement(c.a,{board:e,canEdit:w,coverImageUrl:f,images:t||e.images,isOwnProfile:r,isReordering:a,layout:l,onEditClick:this.handleEditClick,progress:p,slotIndex:v,subtitle:x,toastImageUrl:B})),_&&n.a.createElement(s.a,{boardId:e.id,coverImageHeight:200,coverImageWidth:200,onBoardArchiveChange:u,onBoardDelete:m,onBoardLeave:b,onBoardPrivacyChange:h,onBoardUpdate:g,onClose:this.handleEditClose,onCollaboratorInviteClick:()=>{this.handleEditClose(),i()},onCropChange:this.handleCoverImageChange})))}}b(g,"defaultProps",{isOwnProfile:!1,isReordering:!1});t.a=Object(r.connect)(({blockingActions:e,boards:t},{board:a})=>({images:(t.content[a.id]||{}).images,progress:((e.boardMap[a.id]||{}).wholeBoard||{}).progress}),(e,{board:t})=>({updateBoard:()=>e(Object(m.e)(t.id,"profile_grid_item"))}))(g)},qdVQ:function(e,t,a){a.d(t,"a",(function(){return M}));var o=a("q1tI"),n=a.n(o),r=a("/MKj"),i=a("0rqM"),s=a("+zkD"),l=a("1inl"),d=a("4dcN"),c=a("Ye/N"),u=a("SASd"),m=a("eOdZ"),h=a("CvCA"),b=a("vVEi"),g=a("ANjH"),p=a("vvax"),v=a("U4JR"),f=a("mLS1"),_=a("oN2T"),y=a("pLLR"),E=a("nGHF"),C=a("n6mq");function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class x extends o.Component{constructor(...e){super(...e),w(this,"state",{editMode:"main"}),w(this,"handleBoardLeave",()=>{const{board:e,onBoardLeave:t,onClose:a}=this.props;a(),t&&t(e.id)}),w(this,"handleArchive",()=>{const{archiveBoard:e,onClose:t}=this.props;e(),this.returnToMainEditMode(),t()}),w(this,"handleUnarchive",()=>{const{onClose:e,unarchiveBoard:t}=this.props;t(),this.returnToMainEditMode(),e()}),w(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),w(this,"handleShowArchiveModal",()=>this.setState({editMode:"confirmArchive"})),w(this,"handleShowUnarchiveModal",()=>this.setState({editMode:"confirmUnarchive"})),w(this,"handleShowMergeModal",()=>this.setState({editMode:"merge"})),w(this,"handleDelete",()=>{const{board:e,deleteBoard:t,onBoardDelete:a,onClose:o,toastManagerContext:r}=this.props;t().then(()=>{r.showToast(({onHide:e})=>n.a.createElement(h.a,{onHide:e,text:c.a._("Board deleted!","User deleted their board","User deleted their board")}))}),this.returnToMainEditMode(),o(),a&&a(e)}),w(this,"handleMerge",e=>{const{board:t,mergeToBoard:a,onBoardDelete:o,onClose:n}=this.props;Object(v.a)(7172,{objectId:t.id,merge_flow:"menu"}),a(e),n(),o&&o(t)}),w(this,"handleShowDeleteModal",()=>{d.a.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})}),w(this,"handleSubmit",e=>{const{viewer:t,board:a,updateBoard:o,onBoardPrivacyChange:n,onBoardUpdate:r,onClose:i}=this.props,s=this.props.board.id;if(t.id===a.owner.id){const t={id:s,...e};return o(t).then(()=>{e.event_date||e.event_start_date?Object(v.a)(8624,{component:13304,objectId:t.id}):""!==e.event_date&&""!==e.event_start_date||Object(v.a)(8625,{component:13304,objectId:t.id}),a.privacy!==e.privacy&&n?n():r&&r(s,t),i()})}{const{collab_board_email:t}=e;return m.a.create("BoardSettingsResource",{board_id:s,collab_board_email:t}).callUpdate({showError:!1}).then(e=>i()).catch(e=>{throw e.message})}})}render(){const{board:e,categories:t,viewer:a,onCropChange:r,onClose:l,onCollaboratorInviteClick:d,onToggleFlyout:m}=this.props,{editMode:h}=this.state,b=a.isAuth&&a.id===e.owner.id,g=!!!e.archived_by_me_at&&b;return n.a.createElement(o.Fragment,null,"main"===h&&n.a.createElement(f.a,{board:e,categories:t,currentUserIsOwner:b,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:b,isEditable:b,onClose:l,onCropChange:r,onArchiveButtonClick:this.handleShowArchiveModal,onDeleteButtonClick:this.handleShowDeleteModal,onMergeButtonClick:g?this.handleShowMergeModal:void 0,onCollaboratorInviteClick:d,onSubmit:this.handleSubmit,onToggleFlyout:m,onUnarchiveButtonClick:this.handleShowUnarchiveModal,submitText:c.a._("Done","BoardEdit.BoardEdit","Submit button text"),title:n.a.createElement(C.d,{paddingY:8},n.a.createElement(C.r,{align:"center",size:"md"},c.a._("Edit your board")))}),"merge"===h&&n.a.createElement(u.a,{className:"ConfirmDialog"},n.a.createElement(s.a,{onCancel:this.returnToMainEditMode,onSubmit:this.handleMerge,sourceBoardId:e.id})),"confirmDelete"===h&&n.a.createElement(i.a,{confirmButtonLabel:c.a._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:c.a._("Cancel"),message:c.a._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode}),"confirmArchive"===h&&n.a.createElement(i.a,{confirmButtonLabel:c.a._("Archive","button label on confirming board archive","button label on confirming board archive"),heading:c.a._("Archive this board?","modal heading for board archive confirmation","modal heading for board archive confirmation"),message:Object(p.b)(c.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardEdit","Confirmation message when archiving a board"),{boardName:n.a.createElement(C.U,{inline:!0,key:e.name,weight:"bold"},e.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleArchive}),"confirmUnarchive"===h&&n.a.createElement(i.a,{confirmButtonLabel:c.a._("Unarchive","button label on confirming board unarchive","button label on confirming board unarchive"),heading:c.a._("Unarchive this board?","modal heading for board unarchive confirmation","modal heading for board unarchive confirmation"),message:Object(p.b)(c.a._("If you unarchive {{ boardName }}, it will show up on your profile and you'll be able to save new Pins to it."),{boardName:n.a.createElement(C.U,{inline:!0,key:e.name,weight:"bold"},e.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleUnarchive}))}}var B=Object(g.compose)(E.c,b.d,y.e,Object(r.connect)(e=>({viewer:e.viewer}),(e,t)=>{const a=e=>()=>{const{board:a,onBoardArchiveChange:o,toastManagerContext:r}=t;o&&o(),r.showToast(({onHide:t})=>n.a.createElement(h.a,{imageUrl:a.image_cover_url,onHide:t,text:Object(p.b)(e?c.a._("Archived {{ boardName }}","Toast text on complete archiving board","Toast text on complete archiving board"):c.a._("Unarchived {{ boardName }}","Toast text on complete unarchiving board","Toast text on complete unarchiving board"),{boardName:a.name}).join("")}))};return{archiveBoard:()=>e(Object(_.a)(t.board.id)).then(a(!0)),deleteBoard:()=>e(Object(_.h)(t.board.id)),mergeToBoard:a=>e(Object(_.j)(t.board.id,a.id)).then(()=>{t.showBlockingActionToast({actionType:"merge",board:a})}).catch(e=>{l.a.showError(e.message||c.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))}),updateBoard:t=>e(Object(_.m)(t)),unarchiveBoard:()=>e(Object(_.l)(t.board.id)).then(a(!1))}}))(x),I=a("TiQD"),S=a("w70y");function M({boardId:e,coverImageHeight:t,coverImageWidth:a,onBoardArchiveChange:i,onBoardPrivacyChange:s,onBoardLeave:l,onBoardDelete:d,onBoardUpdate:u,onClose:m,onCollaboratorInviteClick:h,onCropChange:b}){const[g,p]=Object(o.useState)(!1),{data:v}=Object(S.a)({name:"CategoriesResource",allowStale:!1});Object(S.a)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},allowStale:!1});const f=Object(r.useSelector)(({boards:t})=>t.content[e]);if(!!(!f||!v))return n.a.createElement(I.b,{accessibilityModalLabel:c.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:m,size:"sm"},n.a.createElement(C.d,{padding:12},n.a.createElement(C.N,{accessibilityLabel:c.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})));return n.a.createElement(B,{board:f,categories:v,coverImageHeight:t,coverImageWidth:a,onBoardArchiveChange:i,onBoardPrivacyChange:s,onBoardLeave:l,onBoardDelete:d,onBoardUpdate:u,onClose:()=>{g||m()},onCollaboratorInviteClick:h,onCropChange:b,onToggleFlyout:()=>p(!g)})}},rrvb:function(e,t,a){var o=a("q1tI"),n=a.n(o),r=a("Ye/N"),i=a("9QW3"),s=a("NdQN"),l=a("IBrh"),d=a("gdcG"),c=a("n6mq");function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends n.a.Component{constructor(...e){super(...e),u(this,"state",{showFlyout:!1}),u(this,"setContainerRef",e=>{this.containerRef=e}),u(this,"handleCreate",()=>{this.hideFlyout();const{onCreate:e}=this.props;e&&e()}),u(this,"handleSelectItem",e=>{this.hideFlyout();const{onSelect:t,onCreate:a}=this.props;e?t(e):a&&a()}),u(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),u(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),u(this,"hideFlyout",()=>{const{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){const{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:a,onMouseLeave:o},isHovering:d,isStoryPin:u,onCreate:m,onSearchQueryUpdate:h,renderRow:b,searchQuery:g,sections:p,createBtnDisabled:v}=this.props,{showFlyout:f}=this.state;this.indexManager=new i.a(p.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);const _=!g.trim()||!!v;return n.a.createElement("div",{ref:this.setContainerRef,style:{...u?{flex:"grow"}:{}}},n.a.createElement(c.T,{fullWidth:!!u,onMouseEnter:a,onMouseLeave:o,onTap:this.handleDropdownTouch,rounding:2},n.a.createElement(c.d,{alignItems:"center",color:d?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:u?4:3,rounding:u?4:2},n.a.createElement(c.d,{display:"flex",flex:"grow"},n.a.createElement(c.U,{weight:"bold"},e)),n.a.createElement(c.s,{accessibilityLabel:"",color:"darkGray",icon:"arrow-down",size:14}))),f&&n.a.createElement(c.d,{position:"relative"},n.a.createElement(c.d,{borderSize:"sm",color:"white",dangerouslySetInlineStyle:{__style:{zIndex:1}},direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:u?4:2,width:"100%"},n.a.createElement(c.d,null,n.a.createElement(c.d,{display:"flex",marginStart:-1,marginEnd:-1,padding:2},n.a.createElement(c.d,{display:"flex",flex:"grow",paddingX:1},n.a.createElement(s.a,{hideIcon:!0,indexManager:this.indexManager,onChange:h,value:g})),m&&n.a.createElement(c.d,{paddingX:1},n.a.createElement(c.e,{disabled:_,inline:!0,onClick:this.handleCreate,text:r.a._("Create","board or section dropdown create button","board or section dropdown create button")})))),n.a.createElement(l.a,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:b,sections:p}))))}}t.a=Object(d.a)(m)},rxSY:function(e,t,a){a.d(t,"a",(function(){return M}));var o=a("q1tI"),n=a.n(o),r=a("Cufx"),i=a("Ye/N"),s=a("w70y"),l=a("n6mq");function d({boardId:e,invitedUserId:t,isInvited:a,onClick:r,buttonSize:d="sm"}){const c=Object(s.a)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});Object(o.useEffect)(()=>{c.refreshData()},[]);const u={text:i.a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return c.isFetching&&(u.text=i.a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(a||c.isLoaded&&c.data)&&(u.text=i.a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),n.a.createElement(l.e,{color:u.color,size:d,disabled:u.disabled,onClick:r,text:u.text})}var c=a("ViqK"),u=a("xZ6X"),m=a("7w6Q"),h=a("lUWX"),b=a("jZhD"),g=a("joD6"),p=a("TN0d"),v=a("xdpg"),f=a("U4JR"),_=a("O3d3"),y=a("ZE2w");function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const C=[];class w extends o.Component{constructor(...e){super(...e),E(this,"state",{networks:this.props.viewer.socialNetwork,typeaheadText:"",typeaheadSuggestions:[],invitedIds:{},invitedEmails:{}}),E(this,"handleTypeaheadInputChange",({value:e})=>{this.setState({typeaheadText:e}),Object(f.a)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})}),E(this,"handleTypeaheadSuggestionsChange",e=>{m.a.increment("web_contacts_search",1,{source:"board_invite"}),this.setState({typeaheadSuggestions:e})}),E(this,"subscriber",p.b.subscribe("currentUser","socialNetworkUpdated",(e,t,a)=>{this.setState({networks:Object(_.a)(a)})})),E(this,"handleOnEmailInviteClick",()=>{const{boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:a}=this.props,{invitedEmails:o}=this.state,n=this.state.typeaheadText;if(!Object(v.g)(n))return;const r={...o};r[n]=!0,this.setState({invitedEmails:r}),Object(y.c)(e,[n]).then(()=>{a(n,!0),this.setState({typeaheadText:""})}).catch(e=>{a(n,!1,e);const t={...o};t[n]=!1,this.setState({invitedEmails:t})}).finally(t)}),E(this,"logContactSuggestionSelection",(e,t)=>{const{typeaheadText:a}=this.state,o=a?1044:1039;Object(f.a)(101,{component:13029,element:o,entered_query:a,result_index:e+1,rs:t,objectId:this.props.boardId,view:5,viewParameter:3059})}),E(this,"handleUserSuggestionClick",(e,t)=>{const{boardId:a,onInvitesDidUpdate:o,onInviteDidComplete:n}=this.props,{invitedIds:r}=this.state,{id:i,full_name:s,debug_reason:l}=e;let d="";l&&(d=l.reason),this.logContactSuggestionSelection(t,d);const c={...r};c[i]=!0,this.setState({invitedIds:c}),Object(y.d)(a,[i]).then(()=>{n(s,!0)}).catch(e=>{n(s,!1,e);const t={...r};t[i]=!1,this.setState({invitedIds:t})}).finally(o)}),E(this,"isUserIdInvited",e=>{const{invitedIds:t}=this.state;return!!t[e]})}getStaticItems(){return[...this.getSocialItems(this.state.networks)]}getSocialItems(e){return Object.keys(e).filter(e=>C.includes(e)).filter(t=>!1===e[t].connected).map((e,t)=>n.a.createElement(h.a,{key:"socialConnect-"+e,network:e}))}getContactSubtitle(e){switch(e.type){case"user":case"user_share_suggestion":return e.username||i.a._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||i.a._("Email Contact","invited user has an email","invited user has an email")}return""}renderInviteButton(e,t,a){return n.a.createElement(l.e,{color:e?"gray":"red",disabled:!!e,size:a,onClick:t,text:e?i.a._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):i.a._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")})}render(){const{boardId:e,shareSuggestions:t}=this.props,{typeaheadText:a,typeaheadSuggestions:o}=this.state,s=this.getStaticItems();let m=t;return a&&(m=o),n.a.createElement(l.d,{minHeight:0,display:"flex",direction:"column"},n.a.createElement(l.d,{paddingY:4,flex:"none",display:"flex",alignItems:"center"},n.a.createElement(l.d,{flex:"grow"},n.a.createElement(b.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:a},n.a.createElement(l.d,{paddingX:4},n.a.createElement(l.J,{accessibilityLabel:i.a._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:this.handleTypeaheadInputChange,placeholder:i.a._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:a}))))),n.a.createElement(l.d,{overflow:"scrollY",maxHeight:414},m.map((t,a)=>{const o=t.username?`/${t.username}/`:null;return n.a.createElement(l.d,{key:a},n.a.createElement(c.a,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:this.getContactSubtitle(t),accessory:n.a.createElement(d,{boardId:e,invitedUserId:t.id,isInvited:this.isUserIdInvited(t.id),onClick:()=>this.handleUserSuggestionClick(t,a),buttonSize:"lg"}),linkURL:o}))}),a&&(Object(v.g)(a)?n.a.createElement(c.a,{name:a,title:a,accessory:this.renderInviteButton(!!this.state.invitedEmails[a],this.handleOnEmailInviteClick,"lg")}):n.a.createElement(u.a,{iconNode:n.a.createElement(r.a,{name:a,size:"md"}),title:a,subtitle:i.a._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),s))}}var x=Object(g.a)(w),B=a("CvCA"),I=a("vvax"),S=a("nGHF");function M({boardId:e,boardOwner:t}){const a=Object(S.b)(),{refreshData:r}=Object(s.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},allowStale:!1}),{refreshData:d}=Object(s.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},allowStale:!1}),{data:c,isLoaded:u}=Object(s.a)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},allowStale:!1});Object(o.useEffect)(()=>{Object(f.a)(7120,{objectId:e,view:5,viewParameter:3059})},[]),Object(o.useEffect)(()=>{if(u){const e=c&&c.length>0?7511:7512;Object(f.a)(e,{component:13305,element:10592,view:5,viewParameter:3059})}},[u]);const m=(e,t=!1)=>{a.showOneToast(({onHide:a})=>n.a.createElement(B.a,{color:t?"red":"darkGray",duration:3e3,onHide:a,text:e}))};return u?n.a.createElement(x,{boardId:e,boardOwner:t,onInvitesDidUpdate:()=>{r(),d()},onInviteDidComplete:(e,t,a)=>{t?(e=>{const t=i.a._("Invited {{userIdentifier}} to collaborate","Toast for successfully sending invitation of collaborating a board","Toast for successfully sending invitation of collaborating a board");m(Object(I.b)(t,{userIdentifier:e}).join(""))})(e):((e,t)=>{const a=i.a._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");m(t&&t.message?t.message:Object(I.b)(a,{userIdentifier:e}).join(""),!0)})(e,a)},shareSuggestions:c||[]}):n.a.createElement(l.d,{display:"flex",justifyContent:"center",paddingY:12,width:"100%"},n.a.createElement(l.N,{accessibilityLabel:i.a._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0}))}},sWfT:function(e,t,a){a.d(t,"a",(function(){return s}));var o=a("q1tI"),n=a.n(o),r=a("gYog"),i=a("XibM");function s({board:e,isOwnProfile:t,slotIndex:a,...o}){const s=t?3069:3070;return n.a.createElement(r.a,{componentType:209,impressionType:"Board",loggingId:e.id,slotIndex:a,viewParameter:s,viewType:4},n.a.createElement(i.a,Object.assign({board:e,isOwnProfile:t},o)))}},vVEi:function(e,t,a){a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return E})),a.d(t,"f",(function(){return C})),a.d(t,"d",(function(){return w}));var o=a("q1tI"),n=a.n(o),r=a("/MKj"),i=a("OWXb"),s=a("nGHF"),l=a("TSYQ"),d=a.n(l),c=a("Ye/N"),u=a("n6mq");function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(){return n.a.createElement(u.d,{display:"flex",justifyContent:"around",overflow:"hidden"},n.a.createElement("div",{className:"boardBlockingActionToastWhiteSpinner"},n.a.createElement(u.s,{accessibilityLabel:c.a._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})))}class b extends o.Component{constructor(...e){super(...e),m(this,"state",{hiding:!1,visible:!1}),m(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,200)}),m(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),m(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:a}}=this.props,o="completed"===t;switch(e){case"create_section":return o?c.a._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):c.a._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return a?o?c.a._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):c.a._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):o?c.a._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):c.a._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return a?o?c.a._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):c.a._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):o?c.a._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):c.a._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return a?o?c.a._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):c.a._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):o?c.a._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):c.a._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:a,hiding:o}=this.state;if(!this.firstLine)return null;const r="inProgress"===e?t.name+"...":t.name;return n.a.createElement("div",{className:d()("ToastBase",{visible:a},{hiding:o}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},n.a.createElement(u.X,{text:n.a.createElement(n.a.Fragment,null,n.a.createElement(u.U,{color:"white"},this.firstLine),n.a.createElement(u.U,{color:"white",weight:"bold"},r)),thumbnail:"completed"===e?void 0:n.a.createElement(h,null)}))}}const g=2e3,p=5e3;const v=["merge","move_pins","create_section"];function f({blockingActions:e,actionType:t,boardId:a,sectionId:o}){return e.find(e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||v.includes(e.action_type)&&e.is_origin||e.board_id!==a||(o?o!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress))}let _=0;const y={};function E({check:e,checkDelay:t,checkInterval:a,onComplete:o}){const n="timeout"+_;_+=1;const r=()=>{const t=Date.now();e().then(e=>{const i=Date.now()-t;e?(o(),delete y[n]):y[n]=setTimeout(r,Math.max(1e3,a-i))}).catch(()=>{delete y[n]})};y[n]=setTimeout(r,t)}const C=(e,t,a,o)=>({onHide:r})=>n.a.createElement(b,{actionType:t,actionStatus:e,duration:"inProgress"===e?g:2e3,location:{name:o?o.title:a.name,isSection:!!o},onHide:r});function w(e){function t(t){const a=Object(r.useDispatch)(),{showToast:o}=Object(s.b)();return n.a.createElement(e,Object.assign({},t,{showBlockingActionToast:({actionType:e,board:t,section:n})=>{o(C("inProgress",e,t,n)),E({check:()=>a(Object(i.a)(t.id)).then(a=>!f({blockingActions:a,actionType:e,boardId:t.id,sectionId:n&&n.id})),checkDelay:g,checkInterval:p,onComplete:()=>o(C("completed",e,t,n))})}}))}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},xZ6X:function(e,t,a){a.d(t,"a",(function(){return i}));var o=a("q1tI"),n=a.n(o),r=a("n6mq");function i(e){const{iconNode:t,title:a,subtitle:o,accessory:i}=e;return n.a.createElement(r.d,{display:"flex",alignItems:"center",paddingX:4,paddingY:2},n.a.createElement(r.d,{marginEnd:2},t),n.a.createElement(r.d,{display:"flex",flex:"grow",alignItems:"start",direction:"column"},n.a.createElement(r.U,{color:"darkGray",size:"lg",truncate:!0,weight:"bold"},a),n.a.createElement(r.U,{truncate:!0,size:"sm",color:"gray"},o)),i&&n.a.createElement(r.d,null,i))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/238-4aed2ef35697b3494da0.mjs.map