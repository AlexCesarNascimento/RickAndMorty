(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[69,58,59,"BoardMoreIdeasTabContentCommon"],{"+lzj":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var a=n("vzKb"),r=n("3/Bf");const i={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null},o=()=>{i.longTaskDurations=[]},s=()=>i,c=async()=>{const e=({name:e,value:t,isFinal:n})=>{n&&("CLS"===e?Object(r.e)(e,100*t):Object(r.e)(e,t))};Object(a.a)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>i.longTaskDurations.push(e.duration))},()=>o()),Object(a.a)({type:"first-input",buffered:!0},(e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(i.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()},()=>{i.firstInputDelay=null}),Object(a.a)({type:"largest-contentful-paint",buffered:!0},e=>{const t=e.getEntries(),n=t[t.length-1];n&&(i.largestContentfulPaint=n.renderTime||n.loadTime||null)}),Object(a.a)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(i.cumulativeLayoutShiftScore+=e.value)})});try{const{getCLS:t,getFID:a,getLCP:r}=await n.e(548).then(n.bind(null,"w6Sm"));a(e),r(e,!0),t(e,!0)}catch(t){}}},"/WHw":function(e,t,n){n.d(t,"a",(function(){return S}));var a=n("q1tI"),r=n.n(a),i=n("/MKj"),o=n("JW66"),s=n("Ye/N"),c=n("joD6"),l=n("oN2T"),d=n("5FNA"),u=n("VwDf"),m=n("Wer7"),p=n("U4JR"),h=n("vvax"),b=n("ANjH"),g=n("c50B");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t,n;return n=t=class extends a.Component{constructor(...e){super(...e),f(this,"state",{boardDates:[],createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(g.o)({message:s.a._("Don't forget to name your board!")}),Object(g.j)({max:o.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(h.b)(s.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:o.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?o.a.BoardPrivacy.PUBLIC:o.a.BoardPrivacy.PROTECTED,saving:!1}),f(this,"handleChangeName",(e,t)=>{const n=Object(g.r)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),f(this,"handleChangePrivacy",()=>{const e=this.state.privacy===o.a.BoardPrivacy.SECRET?o.a.BoardPrivacy.PUBLIC:o.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),f(this,"handleChangeDate",e=>{this.setState({boardDates:e})}),f(this,"handleCreate",()=>{const{boardDates:e,inputName:t,privacy:n}=this.state,{createBoard:a,invalidateResource:r,onCreate:i,isAdAccountOwner:o,advertiser_id:c}=this.props;let l,d;e&&e.length>0&&(e.length>1?(l=Object(u.b)(e[0]),d=Object(u.b)(e[1])):d=Object(u.b)(e[0]));const m={event_start_date:l,event_date:d,privacy:n,name:t,...!o&&c?{advertiser_id:c}:{}};this.setState({saving:!0,createBoardError:null}),a(m).then(e=>{this.setState({saving:!1}),i(e),m.event_date&&Object(p.a)(8623,{view:415,objectId:e.id})}).catch(e=>{let t=s.a._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:a}=e;t=a?`${n} ${a}`:n}else"string"==typeof e&&(t=e);this.setState({saving:!1,createBoardError:t})}),r(n)})}render(){const{createBoard:t,invalidateResource:n,...a}=this.props;return r.a.createElement(e,Object.assign({onBoardCreate:this.handleCreate,onChangeBoardDate:this.handleChangeDate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy},a,this.state))}},f(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function E(e){const{advertiser:t,viewer:n}=e,a=!t||n.isAuth&&t.owner_user_id===n.id,r=t&&t.id;return{isAdAccountOwner:a,...r?{advertiser_id:r}:{}}}function v(e,t){return{invalidateResource:n=>{e(Object(m.f)("BoardsResource",Object(d.a)(t.viewer.username,n===o.a.BoardPrivacy.SECRET)))},createBoard:n=>e(Object(l.g)(n,{isFBC:0===t.viewer.boardCount}))}}function S(e){return Object(b.compose)(c.a,Object(i.connect)(E,v),y)(e)}},"0BOE":function(e,t,n){n.d(t,"a",(function(){return i}));const a={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=a[e.charAt(n)]||e.charAt(n);return t},i=(e,t,n="name")=>{const a=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),a=e.split(" ");let i=0;for(let o=0;o<a.length;o+=1)(r(a[o]).includes(n[i])||a[o].includes(n[i]))&&(i+=1);return i===n.length})(e[n].toLowerCase(),a))}},"2WXK":function(e,t,n){var a=n("q1tI");let r=null,i=!1,o=0;const s=()=>{r&&clearTimeout(r),i=!0,r=setTimeout(()=>{i=!1},100)};t.a=()=>{const[e,t]=Object(a.useState)(!1),n=Object(a.useRef)(null);Object(a.useEffect)(()=>(0===o&&window.addEventListener("scroll",s),o+=1,()=>{n.current&&clearTimeout(n.current),o-=1,o||window.removeEventListener("scroll",s)}),[]);const r=e=>{n.current&&clearTimeout(n.current),n.current=e&&i?setTimeout(()=>r(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(a.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},"3R0Q":function(e,t,n){t.a=e=>{const t={};e.forEach(({label:e,timestamp:n})=>{t[e]=(t[e]||[]).concat([n])});const n={};return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,a)=>{n[a?`${e}_${a+1}`:e]=t})}),n}},"3z7j":function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("Wer7");function r(e,t){return n=>n(Object(a.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("qtKf"),r=n("Pqnw"),i=n("Wer7");const o=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:a})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:a,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>o.reduce((t,n)=>{const o=[Object(r.a)("profileBoards",Object(a.c)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(a=>{o.push(Object(i.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:a})))})}),t.concat(o)},[])},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return a}));const a={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"6A0I":function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("/MKj"),o=n("JW66"),s=n("Sihc"),c=n("Ye/N"),l=n("GBVV"),d=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.a.Component{constructor(e){super(e),u(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:a}=this.props;return this.setState({isSaving:!0}),t(Object(s.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:a})).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),u(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:a}=this.state;[o.a.KeyCode.ENTER,o.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&a.trim()&&this.onCreateSection()}),u(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),u(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:a}=this.state;!a||t.inputRef&&!n||a.focus()}render(){const{onClearModal:e,showTitle:t,positionRelative:n}=this.props,{createError:a,inputName:i,isSaving:o}=this.state,s=!!i.trim()&&!a;return r.a.createElement(d.d,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:n?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},t&&r.a.createElement(d.d,{marginTop:3,paddingX:6,paddingY:3},r.a.createElement(d.r,{size:"sm"},c.a._("Add section","Title in the add section modal","Title in the add section modal"))),r.a.createElement(d.d,{padding:3},r.a.createElement(d.d,{marginBottom:2},r.a.createElement(d.v,{htmlFor:"sectionEditName"},r.a.createElement(d.U,{size:"md",color:a?"red":"gray"},c.a._("Name","Board section name","Board section name")))),r.a.createElement(d.d,null,r.a.createElement(d.d,{ref:this.handleInputRef},r.a.createElement(d.W,{errorMessage:a||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:c.a._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})))),r.a.createElement(d.n,null),r.a.createElement(d.d,{display:"flex",flex:"grow"}),r.a.createElement(d.n,null),r.a.createElement(d.d,{padding:6},r.a.createElement(d.d,{display:"flex",justifyContent:"between"},r.a.createElement(d.e,{onClick:e,text:c.a._("Cancel","cancel section add","cancel section add"),inline:!0}),r.a.createElement(l.b,{disabled:!s||o,onClick:this.onCreateSection,submitting:o,text:c.a._("Add","add a new section","add a new section")}))))}}t.a=Object(i.connect)()(m)},"6G9P":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),i=(n("JW66"),n("Ye/N")),o=n("xdpg"),s=n("n6mq");const c=(e,t)=>{if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const a=n.exec(t);if(a&&a.length){e=a[0]+e}}return e},l=(e,t)=>t?Object(o.c)(i.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t.title,boardName:e}):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.U,{color:"white"},i.a._("Saved to")),r.a.createElement(s.U,{color:"white",weight:"bold"},e))},"82UD":function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("/MKj"),o=n("ajUs"),s=n("ou9u"),c=n("gYog"),l=n("hFNL"),d=n("3gA6"),u=n("yKES"),m=n("5uyJ"),p=n("n6mq");const h={overlay:{__style:{backgroundColor:"#000"}}};function b(e){const{pin:{id:t,images:n,title:a,videos:i,video_status_message:o}}=e,s=o||{},c=n&&n["236x"],l=i&&i.video_list[m.a.V_HLSV4],{duration:b}=l||{};return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.h,null,r.a.createElement(d.b,{to:"/pin/"+t},r.a.createElement(p.d,{overflow:"hidden",position:"relative",rounding:2},c&&r.a.createElement(p.u,{alt:a||"",color:"lightGray",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),!!b&&r.a.createElement(p.d,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},r.a.createElement(u.a,{duration:b})),r.a.createElement(p.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),r.a.createElement(p.d,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},r.a.createElement(p.r,{color:"white",overflow:"normal",size:"sm"},s.title),r.a.createElement(p.d,{marginTop:4},r.a.createElement(p.U,{color:"white",size:"md",overflow:"normal"},s.subtitle)))),r.a.createElement(p.d,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},r.a.createElement(p.d,{flex:"grow"},a&&r.a.createElement(p.d,{paddingY:1},r.a.createElement(p.U,{inline:!0,size:"md",weight:"bold"},a)))))))}var g=n("Y8Sn"),f=n("vpxy"),y=n("0nTG");t.a=Object(i.connect)((function({pins:e},{pin:t,pinId:n}){return{reduxPin:e[n]||t}}),()=>({}))((function({reduxPin:e,trackingParameters:t,...n}){const d=Object(i.useSelector)(({location:e})=>e),u=Object(o.a)(e,d),m=Object(s.a)(e),p=!!(m&&m.url&&m.height&&m.width)||void 0,h=m&&e.videos?e.videos.id:void 0,[E,v]=Object(a.useState)(!1),S=Object(a.useCallback)(()=>v(!0),[]),w=Object(a.useCallback)(()=>v(!1),[]),{componentType:_,contextLogData:O,impressionAuxFields:I,slotIndex:x,viewData:C,viewParameter:T,viewType:j}=t;return r.a.createElement(c.a,{componentType:_,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(l.b)(window)}:{},...O,...Object(y.f)(e,O)},impressionAuxFields:{...I||{},isNativeVideoAndWatchable:p,videoIdStr:h,clientTrackingParams:u||(e.tracking_params||"")+"-0",imageURL:e.images&&e.images["236x"].url,richTypes:Object(y.e)(e)},impressionType:"Pin",isPaused:!E,loggingId:e.id,slotIndex:x,viewData:C,viewParameter:T,viewType:j},Object(g.g)(e)?r.a.createElement(b,{pin:e}):r.a.createElement(f.a,Object.assign({},n,{debugImpressionState:E?"started":"paused",onError:w,onLoad:S,pin:e,trackingParameters:{componentType:_,contextLogData:O,slotIndex:x,viewParameter:T,viewType:j}})))}))},"8cMa":function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("Ye/N"),o=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return r.a.createElement(o.d,{marginStart:1},r.a.createElement(o.d,{marginStart:2},"sections"===e||"sectionsInline"===e?r.a.createElement(o.s,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):r.a.createElement(o.s,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})))}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return o}));const a={row:0,section:0},r={row:-1,section:-1},i=()=>{};class o{constructor(e){this.index=Object.assign({},a),this.sections=e,this.updateCallback=i,this.selectItem=i}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index=Object.assign({},a):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index=Object.assign({},a);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},r),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},"B/lV":function(e,t,n){const a=e=>{const t=e.replace(new RegExp("^"+(window.location.origin||"")),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},r=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(t+".com/"));t.a=(e,t)=>{const n=(({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}})(e),{name:i}=e;return{category:n,isDeferred:"script"===n&&a(i),isExternal:r(i),isVisuallyCompleteRequired:"image"===n&&t.includes(i),timing:e}}},B6Tf:function(e,t,n){n.d(t,"a",(function(){return le})),n.d(t,"c",(function(){return de})),n.d(t,"b",(function(){return me}));var a=n("q1tI"),r=n.n(a),i=n("b/K5"),o=n("/MKj"),s=n("JW66"),c=n("QoKk"),l=n("Ye/N"),d=n("GBVV"),u=n("/WHw"),m=n("jZhD"),p=n("xdpg"),h=n("Cufx"),b=n("n6mq");function g(e){const{body:t,img:n,onClick:a,selected:i,title:o,username:s,valid:c}=e,d=s||t;return r.a.createElement(b.d,{marginBottom:4},r.a.createElement(b.T,{onTap:a},r.a.createElement(b.d,{alignItems:"center",direction:"row",display:"flex",width:"100%"},n,r.a.createElement(b.d,{flex:"grow",marginEnd:2,marginStart:3},r.a.createElement(b.d,{marginBottom:1},r.a.createElement(b.U,{truncate:!0,weight:"bold"},o)),r.a.createElement(b.U,{size:"sm",truncate:!0},d)),r.a.createElement(b.d,{marginStart:2},(u=i,m=c,s?u?r.a.createElement(b.s,{accessibilityLabel:l.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):r.a.createElement(b.d,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):r.a.createElement(b.e,{color:"gray",disabled:!!u||Boolean(!m),inline:!0,size:"sm",text:u?l.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):l.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))))));var u,m}var f=n("zLLH"),y=n("ZE2w");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n){const{id:a}=e;return t===n.findIndex(e=>e.id===a)}class S extends a.Component{constructor(...e){super(...e),E(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),E(this,"isIdSelected",{}),E(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),E(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:a}=this.state,r=a.concat([e]),i="email"===n?y.c:y.d;this.props.onSelectedCollaboratorsChange({id:t,resource:i}),this.setState({selectedCollaborators:r})}),E(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const a="email"===n?y.c:y.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:a}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],a=(""===e?this.state.selectedCollaborators.concat(n).filter(v):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(p.g)(e)}).concat(n).filter(v)).map((e,t)=>function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const a=r.a.createElement(h.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return r.a.createElement(g,{img:a,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:a,valid:i}=e,o=r.a.createElement(b.d,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40},r.a.createElement(b.s,{accessibilityLabel:l.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})),s=Object(p.c)(l.a._("Email {{ email }}"),{email:a});let c,d;return t?(c=l.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),d=()=>{}):(c=i?l.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):l.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),d=()=>i?n(e):void 0),r.a.createElement(g,{body:c,img:o,onClick:d,selected:t,title:s,valid:i})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>r.a.createElement("li",{key:t},e));return r.a.createElement(b.d,{direction:"column",display:"flex",height:"100%"},r.a.createElement(b.d,{paddingX:3,paddingY:2},r.a.createElement(b.U,{size:"sm"},l.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create"))),r.a.createElement(b.d,{marginBottom:4,marginTop:2,paddingX:3,width:"100%"},r.a.createElement(b.d,{flex:"grow"},r.a.createElement(m.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e},r.a.createElement(b.J,{accessibilityLabel:l.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:l.a._("Search by name or email"),size:"lg",value:e})))),r.a.createElement(b.d,{overflow:"scrollY",paddingX:3},r.a.createElement("ul",null,a)))}}var w=Object(f.c)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource"},{allowStale:!1})(S);var _=Object(u.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:a,onCancel:i,onChangeBoardDate:o,onChangeBoardName:u,onChangeBoardPrivacy:m,onInvite:p,onToggleFlyout:h,privacy:g,preselectedCollaborators:f,saving:y,showTitle:E,isAdAccountOwner:v}){const S=0===n.length,_=g===s.a.BoardPrivacy.SECRET;return r.a.createElement(b.d,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},r.a.createElement("form",{onSubmit:e=>{e.preventDefault(),a()},style:{height:"100%"}},r.a.createElement(b.d,{direction:"column",display:"flex",height:"100%"},E&&r.a.createElement(b.d,{display:"flex",marginTop:3,paddingX:6,paddingY:3},r.a.createElement(b.r,{size:"sm"},l.a._("Create board"))),r.a.createElement(b.d,{padding:3},r.a.createElement(b.d,{marginBottom:2},r.a.createElement(b.v,{htmlFor:"boardEditName"},r.a.createElement(b.U,{size:"sm"},l.a._("Name")))),r.a.createElement(b.d,null,r.a.createElement(b.W,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>u(e),placeholder:l.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t}))),r.a.createElement(b.d,{padding:3},r.a.createElement(b.d,{marginBottom:2},r.a.createElement(b.v,{htmlFor:"boardEditDate"},r.a.createElement(b.U,{size:"sm"},l.a._("Add dates (optional—this can help you plan!)","pin-to-board.CreateBoardPane.CreateBoardPane","Label for date picker field on board create")))),r.a.createElement(b.d,null,r.a.createElement(c.a,{onChange:o,onToggleFlyout:h}))),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.d,{padding:3},r.a.createElement(b.d,{marginBottom:2},r.a.createElement(b.v,{htmlFor:"secret"},r.a.createElement(b.U,{size:"sm"},l.a._("Secret","secret board","secret board")))),r.a.createElement(b.d,null,r.a.createElement(b.Q,{id:"secret",onChange:m,switched:_}))),r.a.createElement(b.d,{display:"flex",flex:"grow",overflow:"hidden"},r.a.createElement(b.d,{width:"100%"},r.a.createElement(w,{onSelectedCollaboratorsChange:p,preselectedCollaborators:f})))),!v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.d,{padding:3},r.a.createElement(b.d,{marginBottom:2},r.a.createElement(b.v,{htmlFor:"protected"},r.a.createElement(b.U,{size:"sm"},l.a._("Protected board (not listed on user's profile)","protected board","protected board")))),r.a.createElement(b.d,null,r.a.createElement(b.Q,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})))),r.a.createElement(b.d,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px",marginLeft:"-288px"}},display:"flex",justifyContent:"between",paddingX:4,paddingY:2,position:"absolute",width:720},r.a.createElement(b.e,{inline:!0,onClick:i,text:l.a._("Cancel","cancel board create","cancel board create")}),r.a.createElement(b.d,{display:"flex",justifyContent:"end"},!!e&&r.a.createElement(b.d,{paddingX:2},r.a.createElement(b.U,{align:"center",color:"red",size:"md",weight:"bold"},e)),r.a.createElement(d.b,{disabled:!t.trim()||!S||!!e||y,submitting:y,text:l.a._("Create","create a new board","create a new board")}))))))})),O=n("6A0I"),I=n("0BOE"),x=n("qyR9");class C extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=x.a?[{items:Object(I.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(I.a)(n,e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:n}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:a,onSectionCreate:i,onSectionSelected:o,pinId:s}=this.props;return r.a.createElement(x.b,{isSelectMode:a,boardSavedTo:n,createButtonLabel:l.a._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:i,onSelected:o,pinId:s})}}var T=Object(f.c)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})})(C),j=n("Wer7"),B=n("U4JR"),R=n("ANjH");function k(e,t,n){return{...e?{pin_id:e}:{},...t?{username:t}:{},...n?{advertiser_id:n,filter:"protected"}:{},field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class A extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:a}=t,r=(e=>{const t=[],n=[];return e.forEach(e=>{e.name.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return r.length<=3?[{items:r}]:e.length>=x.a?[{items:Object(I.a)(r,e)}]:[a.length?{items:a,title:l.a._("Top choices")}:{items:[]},{items:r,title:l.a._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:a,isSelectMode:i,onBoardCreate:o,onBoardSelected:s,pinId:c}=this.props,l=n&&!!e&&e.all_boards.length<=3;return r.a.createElement(x.b,{isSelectMode:i,boardSavedTo:a,hasLoadError:!!t,hasLowBoardCount:l,isLoaded:n,getSections:this.getSections,onCreate:o,onSelected:s,pinId:c})}}var P=Object(R.compose)(Object(o.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}})),Object(f.c)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>k(e.pinId,e.username,e.advertiser_id)}))(A);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends r.a.Component{constructor(...e){super(...e),D(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),D(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),D(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),D(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),D(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),D(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:a,invalidatePinBetterSaveResource:r,invalidateResource:i}=this.props;if(i(),r(),n&&"board_section"===e.type){return a(n,e,t)}const o=e,{section_count:s=0}=o;!n&&s>0?this.setState({selectedSectionBoard:o},this.manageModalTitle):(this.sendInvites(e),a(o,void 0,t))}),D(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,a=e?10306:249;Object(B.a)(101,{component:n,element:a})}),D(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?l.a._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?l.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?l.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):l.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:a,pinId:i,preselectedCollaborators:o,setModalTitle:s,suggestedBoardTitle:c}=this.props,{newName:l,selectedSectionBoard:d,showCreate:u}=this.state,m=!!d,p=!s;return r.a.createElement(b.d,{display:"flex",position:"relative",width:"100%"},!u&&r.a.createElement(b.d,{direction:"column",display:"flex",marginTop:4,width:"100%"},d?r.a.createElement(T,{board:d,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(m),onSectionSelected:this.handleBoardSave}):r.a.createElement(P,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(m),onBoardSelected:this.handleBoardSave,pinId:i})),u&&!d&&r.a.createElement(_,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:a,pinId:i,prefilledName:l||c,preselectedCollaborators:o,showTitle:p}),u&&d&&r.a.createElement(O.a,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:p}))}}var L=Object(o.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(j.f)("BoardPickerBoardsResource",k(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(j.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))(N),M=n("TiQD"),F=n("v+PR"),H=n("Ev07"),U=n("G35+"),z=n("mBfy");var q=Object(R.compose)(Object(o.connect)(({viewer:e})=>({viewer:e}),()=>({})),Object(f.c)({name:"UserResource",key:"userSocialResource",options:e=>({user_id:e.viewer&&e.viewer.isAuth?e.viewer.id:"",field_set_key:"social_connect"})}))((function({onSocialConnect:e,userSocialResource:{data:t,isLoaded:n}}){const[i,o]=Object(a.useState)(!!(n&&t&&t.facebook_publish_stream_enabled)),[s,c]=Object(a.useState)(!!(n&&t&&t.twitter_publish_enabled));if(Object(a.useEffect)(()=>{n&&t&&(o(!!t.facebook_publish_stream_enabled),c(!!t.twitter_publish_enabled))},[t,n]),!t)return null;const{connected_to_facebook:d,twitter_url:u}=t,m=t=>{o(t),z.default.set("facebook_publish_stream_enabled",t),e(U.a.FACEBOOK,t)};return!(!d&&!u)&&r.a.createElement(b.d,{display:"flex",padding:2},d&&r.a.createElement(b.d,{display:"flex",alignItems:"center",marginStart:2},r.a.createElement(b.i,{checked:i,id:"share_facebook",onChange:()=>{i?m(!1):H.a.maybeRequestFbTimelinePermission({success:()=>m(!0),error:()=>m(!1)})},size:"sm"}),r.a.createElement(b.v,{htmlFor:"share_facebook"},r.a.createElement(b.d,{marginStart:2},r.a.createElement(b.U,null,l.a._("Post to Facebook"))))),u&&r.a.createElement(b.d,{display:"flex",alignItems:"center",marginStart:5},r.a.createElement(b.i,{checked:s,id:"share_twitter",onChange:()=>{const t=!s;c(t),e(U.a.TWITTER,t)},size:"sm"}),r.a.createElement(b.v,{htmlFor:"share_twitter"},r.a.createElement(b.d,{marginStart:2},r.a.createElement(b.U,null,l.a._("Post to Twitter"))))))})),W=n("Sihc");function V(){return r.a.createElement(b.d,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},r.a.createElement(b.N,{accessibilityLabel:l.a._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),r.a.createElement(b.d,{paddingY:2},r.a.createElement(b.r,null,l.a._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins"))),r.a.createElement(b.U,null,l.a._("We're grouping these into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")))}var Y=n("82UD");function G({index:e,pin:t,sectionName:n}){const i=t.id,o=Object(a.useContext)(ae),[s,c]=Object(a.useState)(!1),l=Object(a.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),o({type:s?"unselect":"select",payload:{sectionName:n,pinId:i}}),c(!s)},[i,s]);return r.a.createElement(b.T,{onTap:l,rounding:4},r.a.createElement(Y.a,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:s?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}}))}var K=n("w70y");var $=Object(a.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(a.useRef)(),i=Object(K.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},allowStale:!1});return r.a.createElement(a.Fragment,null,r.a.createElement(b.d,{display:"flex",justifyContent:"center",width:"100%"},r.a.createElement(b.N,{accessibilityLabel:l.a._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&i.isFetching})),i.data&&r.a.createElement(b.d,{paddingY:4,paddingX:8},r.a.createElement(b.r,{align:"left",size:"sm"},e.name)),r.a.createElement(b.d,{ref:n},i.data&&n&&n.current&&r.a.createElement(b.A,{columnWidth:152,comp:({data:t,itemIdx:n})=>r.a.createElement(G,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:i.data||[],loadItems:()=>{},scrollContainer:()=>n.current})))}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function Q({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:i}){return r.a.createElement(a.Fragment,null,r.a.createElement(b.d,{width:"100%"},r.a.createElement(b.d,{minHeight:"100%",marginBottom:12,width:"100%"},i.map((e,t)=>r.a.createElement(b.d,{marginBottom:4,key:e.name},r.a.createElement($,{sectionSuggestion:e,showSpinner:0===t})))),r.a.createElement(b.d,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720},r.a.createElement(b.e,{color:e?"red":"gray",inline:!0,size:"lg",text:e?l.a._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):l.a._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}}))))}function X({handleClose:e,handleSubmit:t,suggestions:n}){const[i,o]=Object(a.useState)({}),s=!!Object.keys(i).length;return r.a.createElement(b.d,null,r.a.createElement(b.d,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}}},r.a.createElement(b.d,{display:"flex",wrap:!0,height:360,paddingX:6},n.map(e=>r.a.createElement(b.d,{paddingX:1,height:160,key:e.name},r.a.createElement(b.T,{onTap:()=>{const t={...i};t[e.name]?delete t[e.name]:t[e.name]=e,o(t)},rounding:6},r.a.createElement(b.d,{rounding:7,dangerouslySetInlineStyle:{__style:{border:i[e.name]?"2px solid #111":"2px solid white",padding:"2px"}}},r.a.createElement(b.d,{height:160,width:152,position:"relative",rounding:6},r.a.createElement(b.z,{rounding:6,height:160,width:152},r.a.createElement(b.u,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})),r.a.createElement(b.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152},r.a.createElement(b.r,{align:"center",color:"white",size:"sm"},e.name))))))))),r.a.createElement(b.d,{display:"flex",width:"100%",justifyContent:"end",padding:5},r.a.createElement(b.e,{color:s?"red":"gray",inline:!0,size:"lg",text:s?l.a._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):l.a._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{s?t(Object.values(i)):e()}})))}var J=n("CvCA"),Z=n("6G9P"),ee=n("0SCs"),te=n("y19s"),ne=n("nGHF");const ae=Object(a.createContext)();function re(e,t){const{sectionName:n,pinId:a}=t.payload,r=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...r,a]};case"unselect":const t=r.indexOf(a);if(r.splice(t,1),!r.length){const t={...e};return delete t[n],t}return{...e,[n]:r};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function ie({board:e,handleClose:t,setModalTitle:n,suggestions:i}){const[s,c]=Object(a.useState)("sections"),[d,u]=Object(a.useState)([]),[m,p]=Object(a.useReducer)(re,{}),{showOneToast:h}=Object(ne.b)(),b=Object(o.useDispatch)(),{history:g}=Object(te.b)(),{group:f}=Object(ee.c)("web_board_section_templates"),y=Object(a.useRef)(!1);Object(a.useEffect)(()=>()=>{y.current&&clearTimeout(y.current)});const E=()=>{Object(B.a)(101,{component:20,view:52})},v=()=>{t(),h(({onHide:t})=>r.a.createElement(J.a,{duration:le,onHide:t,text:Object(Z.a)(e.name),href:e.url,imageUrl:e.image_cover_url,onClick:E}))};return{sections:r.a.createElement(X,{handleClose:v,handleSubmit:e=>{u(e),c("pins"),n&&n(l.a._("Great! Pick some ideas to start off your board.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board"))},suggestions:i}),pins:r.a.createElement(ae.Provider,{value:p},r.a.createElement(Q,{canSubmit:!!Object.keys(m).length,handleClose:v,handleSubmit:()=>{let t=0;c("saving"),n&&n(null);const a=d.reduce((e,t)=>(e[t.name]=null,e),{});Object.entries({...a,...m}).forEach(([n,a])=>{b(Object(W.a)({boardId:e.id,initialPinIds:a,name:n})).then(()=>{t+=1,t===d.length&&(y.current=setTimeout(()=>{"enabled_go_to_board"===f?g.push(e.url):v()},1500))})})},sectionSuggestions:d})),saving:r.a.createElement(V,null)}[s]}var oe=n("Yo6N"),se=n("pLLR");function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const le=4e3,de={LOADING:"loading",SUCCESS:"success"};class ue extends a.PureComponent{constructor(...e){super(...e),ce(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),ce(this,"pinImageRef",Object(a.createRef)()),ce(this,"unmounted",!1),ce(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:a,sectionSuggestions:r,setModalTitle:i}=this.props;a(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),r&&r.length>0&&i&&i(l.a._("Here are some popular topics related to your board. Choose any you like.","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board")))}),ce(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),ce(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),ce(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),ce(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{boardSavedTo:e,boardWithSection:t,color:n,displaySuccessAnimation:o,handleNewBoardAnimationCompletion:s,handleSocialConnectSet:c,isInModal:d,newPin:u,pin:m,preselectedCollaborators:p,onBoardCreated:h,sectionSuggestions:g,sensitiveContentNotice:f,setModalTitle:y,showCreate:E,shouldRenderContent:v,suggestedBoardTitle:S,updateDescription:w}=this.props;if(!m||!m&&!m.resourceLoaded||!v)return null;const{isSavingPin:_,newBoard:O}=this.state;let I=null;u&&u.board&&(I=u.board.name);const x=f&&f.title||this.props.modalTitle,C=f?r.a.createElement(oe.a,{inModal:!0,notices:[f]}):r.a.createElement(b.d,{display:"flex",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%"},_&&O&&g&&g.length>0?r.a.createElement(ie,{board:O,handleClose:this.close,setModalTitle:y,suggestions:g}):r.a.createElement(a.Fragment,null,r.a.createElement(b.d,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%"},r.a.createElement(b.d,{direction:"column",display:"flex",justifyContent:"between",width:"40%"},r.a.createElement(b.d,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3},r.a.createElement(F.a,{color:n,pin:m,pinImageRef:this.pinImageRef,updateDescription:w})),r.a.createElement(q,{onSocialConnect:c})),r.a.createElement(b.d,{display:"flex",width:"60%"},r.a.createElement(L,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:h,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:m.id,preselectedCollaborators:p,setModalTitle:d?y:void 0,showCreate:E,suggestedBoardTitle:S}))),o&&r.a.createElement(i.a,{onDismiss:()=>{s(),this.dismissModal()},pin:m,pinImageRef:this.pinImageRef,selectedBoardName:I})));return d?r.a.createElement(M.b,{accessibilityModalLabel:x||l.a._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:x,onDismiss:this.close,size:"md"},C):C}}ce(ue,"defaultProps",{pwtAuxData:{}});const me=Object(se.e)(ue)},EHyI:function(e,t,n){n.d(t,"a",(function(){return o}));var a=()=>{var e;return!!(null===(e=window.performance)||void 0===e?void 0:e.timing)},r=n("XtwW"),i=n("gg0E");function o(e){return!("desktop"===e&&!a())&&(!!r.a&&Object(i.a)())}},Ev07:function(e,t,n){var a=n("1inl"),r=n("UTsl"),i=n("Ye/N"),o=n("mBfy");const s="publish_actions",c={checkFbTimelinePermission:function(e){r.default.ensureInit((function(t){t.api("/me/permissions",t=>{const n=t.data;let a=!1;if(n){a=!!n.find(e=>e.permission===s&&"granted"===e.status)}a?e.success&&e.success():e.error&&e.error()})}),o.default)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){r.default.ensureInit(n=>{if(!c.fbConnectedAccountMatchesLoggedInAccount(n,t))return a.a.showError(i.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());c.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){c.fbLogin(e)}})},o.default)},fbLogin:function(e){r.default.ensureInit(t=>{t.login(t=>{t.authResponse?c.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:s})},o.default)},getLocaleString:function(e){let t=e;switch(t=t.replace(/-/g,"_"),t){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US"}return t.startsWith("es")&&(t="es_LA"),t.startsWith("ar")&&(t="ar_AR"),t}};t.a=c},GBVV:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("n6mq");const o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return r.a.createElement(i.d,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8},r.a.createElement(i.d,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18}))}function c({disabled:e,name:t,onClick:n,size:a,submitting:o,text:c}){return r.a.createElement(i.d,{display:"flex",position:"relative"},o&&r.a.createElement(s,null),r.a.createElement(i.e,{color:"red",disabled:e||o,inline:!0,name:t,onClick:n,size:a,type:"submit",text:c}))}},IBrh:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("mEMi"),o=(n("9QW3"),n("n6mq"));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.a.Component{constructor(e){super(e),s(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),s(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),s(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),s(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),s(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),s(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:a}=this.state,{row:i,section:s}=a||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:u=(e=>!1)}=c,m=t===s,p=d||n;return p&&l.map((e,n)=>{const a=u(e),s={section:t,row:n},l=m&&n===i;return r.a.createElement(o.d,{"data-test-id":"board-selection",key:n,ref:!a&&l?this.setSelectedItemRef:null},a?p({item:e,hovered:l,sectionProps:c}):r.a.createElement(o.T,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(s),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2},p({item:e,hovered:l,sectionProps:c})))})}),s(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>r.a.createElement(o.d,{key:n},e&&e(t,n),this.renderItems(t,n)))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),a=n.top,r=n.bottom,i=t.getBoundingClientRect(),o=i.top;r>=i.bottom?e.scrollIntoView(!1):a<=o&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return r.a.createElement(i.a,{fetchMore:n},({setRef:n,onScroll:a})=>r.a.createElement(o.d,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:a,overflow:"auto",ref:e=>{this.containerRef=e,n(e)}},this.renderSections()))}}},LvPn:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("pody"),r=n("nEAA");const i=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function o(e){const{category:t,timing:n,isDeferred:o,isExternal:s,isVisuallyCompleteRequired:c}=e;return n.responseEnd&&("image"!==t||c)?{name:i(e),startTime:n.startTime,endTime:n.responseEnd,annotationMap:Object(a.a)(n),binaryAnnotationMap:{category:Object(r.d)(t),decodedBodySize:Object(r.b)(n.decodedBodySize||0),initiatorType:Object(r.d)(n.initiatorType),isDeferred:Object(r.a)(o),isExternal:Object(r.a)(s),name:Object(r.d)(n.name),nextHopProtocol:Object(r.d)(n.nextHopProtocol),transferSize:Object(r.b)(n.transferSize||0)}}:null}},MhBu:function(e,t,n){function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return a}))},NdQN:function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("JW66"),o=n("Ye/N"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.Component{constructor(...e){super(...e),c(this,"setInputRef",e=>{e&&(this._input=e)}),c(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case i.a.KeyCode.ENTER:case i.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case i.a.KeyCode.UP:e.preventDefault(),n.prev();break;case i.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return r.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},r.a.createElement(s.J,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:o.a._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t}))}}t.a=l},NjDU:function(e,t,n){function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function i(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function o(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}})},P6kd:function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("Ye/N"),o=n("oRao"),s=n("eOdZ"),c=n("vxan"),l=n("vvax"),d=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.a.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(s.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:a,idealDirection:s}=this.props,c=e.filter(e=>e.query),u=s||"down",m="flyout_"+c.length;return t&&c.length>0?r.a.createElement("div",{className:"HashtagFlyout"},r.a.createElement(d.p,{key:m,anchor:a,idealDirection:u,onDismiss:this.onDismiss,size:"sm"},r.a.createElement("div",{className:"HashtagRecommendations"},c.length>0?c.map((e,t)=>r.a.createElement("div",{className:"HashtagItem",key:e.query},r.a.createElement(d.T,{fullWidth:!1,onTap:t=>this.addHashtag(e.query)},r.a.createElement(d.d,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1},r.a.createElement(d.d,{flex:"grow"},r.a.createElement(d.U,{inline:!0,size:"md",weight:"bold"},e.query)),r.a.createElement(d.d,{flex:"none"},r.a.createElement(d.U,{inline:!0,size:"sm"},Object(l.b)(i.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:r.a.createElement(o.a,{value:Number(e.pin_count),key:"pinCount"})}))))))):null))):null}}t.a=Object(c.a)(m)},Pqnw:function(e,t,n){function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return a}))},QoKk:function(e,t,n){n.d(t,"a",(function(){return h}));var a=n("q1tI"),r=n.n(a),i=(n("w/op"),n("Ye/N")),o=n("rYoy"),s=n("n6mq");const c=["es-AR","es-BZ","es-BO","pt-BR","en-CA","es-CL","zh-CN","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","zh-HK","he","en-JM","ja","en-KE","zh-MO","es-MX","es-NI","es-PA","es-PE","en-PH","es-PR","en-ZA","ko","zh-TW","en-US","es-VE"];var l=n("pLLR");const d=Object(a.lazy)(()=>n.e("Calendar").then(n.t.bind(null,"sQeT",7))),u=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function m({onSelectedDate:e,selectedDates:t}){const n=Object(l.d)();return r.a.createElement(o.a,null,r.a.createElement(d,{calendarType:c.includes(n.locale)?"US":"ISO 8601",locale:n.locale||"",className:"DatePicker",enableHistoryView:!1,onClickDay:n=>{1===t.length&&t[0]<n?e([t[0],n]):e([n])},minDetail:"month",nextLabel:r.a.createElement(s.s,{accessibilityLabel:i.a._("Next month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to next calendar month"),icon:"arrow-forward"}),next2Label:null,prevLabel:r.a.createElement(s.s,{icon:"arrow-back",accessibilityLabel:i.a._("Previous month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to previous calendar month")}),prev2Label:null,tileClassName:({date:e})=>{const n=[],[a,r]=t;return a&&u(e,a)?(n.push("start"),r&&n.push("rangeStart")):r&&u(e,r)?n.push("rangeEnd"):2===t.length&&e>=a&&e<=r&&n.push("inRange"),n},tileDisabled:({date:e})=>e<=new Date,value:t.length?t:new Date,view:"month"}))}var p=n("TiQD");function h({dates:e,onChange:t,onToggleFlyout:n=(()=>{})}){const o=Object(a.useRef)(null),[c,d]=Object(a.useState)(!1),[u,h]=Object(a.useState)(e||[]),b=Object(l.d)(),[g,f]=u||[];let y=g&&g.toLocaleDateString(b.locale)||"";if(f){y+=" - "+u[1].toLocaleDateString(b.locale)}const E=()=>{h([]),t([])},v=()=>{n(),d(!c)};return r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:{position:"relative"},ref:o},r.a.createElement(s.W,{autoComplete:"off",id:"boardEditDate",onChange:()=>{},onFocus:v,onKeyDown:({event:e})=>{"Backspace"===e.key&&E()},placeholder:i.a._("When do you plan to finish this project?","BoardForm.BoardFormDateField.placeholder","placeholder for input field to enter board end and start dates"),size:"lg",value:y}),r.a.createElement(s.d,{dangerouslySetInlineStyle:{__style:u.length?{}:{pointerEvents:"none"}},position:"absolute",top:!0,right:!b.isRTL,left:b.isRTL,padding:u.length?2:4},u.length?r.a.createElement(s.t,{icon:"clear",iconColor:"darkGray",accessibilityLabel:i.a._("Clear date","BoardForm.BoardFormDateField.clearIcon","accessibility label on clear icon button"),onClick:()=>{E()},size:"sm"}):r.a.createElement(s.s,{color:"darkGray",icon:"calendar",accessibilityLabel:i.a._("Select date","BoardForm.BoardFormDateField.calendarIcon","accessibility label on calendar icon")}))),r.a.createElement(s.d,{padding:2},r.a.createElement(s.U,{color:"gray",size:"sm"},i.a._("Add a date to keep your recommendations relevant and get reminders about planning","BoardForm.BoardFormDateField.description","Description to explain purpose of adding a date to a board"))),c&&r.a.createElement(s.w,null,r.a.createElement(s.d,{position:"absolute",left:b.isRTL,top:!0,zIndex:p.a},r.a.createElement(s.p,{anchor:o.current,idealDirection:"down",onDismiss:v,size:356,positionRelativeToAnchor:!1},r.a.createElement(s.d,{padding:6,width:356},r.a.createElement(m,{onSelectedDate:e=>{h(e),t(e)},selectedDates:u}))))))}},Sihc:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("Pqnw"),r=n("uVIr"),i=n("VqlB"),o=n("eOdZ"),s=n("oN2T"),c=n("KFEb"),l=n("Wer7");function d(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:m=[]}){let p=0;"RECOMMENDATION"===n?p=1:"EDITED_RECOMMENDATION"===n&&(p=2);const h={board_id:e,initial_pins:u&&!u.all?u.pinIds:m,name:t,name_source:p};return t=>o.a.create("BoardSectionResource",h).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(d(e,n)),t(Object(r.a)({feedId:e,feedType:c.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(s.c)(e,"pin_count")),t(Object(l.f)("BoardSectionsRepinResource",{board_id:e}));const{all:o,pinIds:m}=u||{all:!1,pinIds:[]};return o?new Promise((a,r)=>t(Object(i.a)({inverseSelection:!0,selectedPinIds:m,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}})).then(()=>a(n)).catch(r)):(m.length>0&&t(Object(a.a)(c.a.BOARD_PINS,e)),n)})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var a=n("3z7j"),r=n("Pqnw"),i=n("uVIr"),o=n("MhBu"),s=n("eOdZ"),c=n("oN2T"),l=n("KFEb"),d=n("1inl"),u=n("Ye/N");function m(e){d.a.showError(function(e){switch(e.api_error_code){case 2171:case 2172:case 2173:return u.a._("Please wait until the previous board action finishes.");default:return e.message}}(e))}const p=e=>Object(r.a)(e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,e.sectionId||e.boardId);function h(e,t){const{source:n,target:r}=e;r.boardId!==n.boardId?(t(Object(c.c)(n.boardId,"pin_count")),t(Object(c.c)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t(Object(c.c)(r.boardId,"pin_count")),n.sectionId&&t(Object(a.a)(n.sectionId)),r.sectionId&&t(Object(a.a)(r.sectionId))}function b(e){return t=>{const{selectedPinIds:n,source:a,target:r}=e;t(Object(o.a)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(i.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),h(e,t)}}function g(e){return t=>function(e,t){const{inverseSelection:n,selectedPinIds:a,source:r,target:c}=e;if(r.boardId===c.boardId&&(r.sectionId||null)===(c.sectionId||null))return Promise.reject();if(n){const e={board_id:r.boardId,new_board_id:c.boardId,old_section_id:r.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:a};return s.a.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(p(r)),t(p(c))])).catch(m)}{const e=(e,n)=>{t(Object(o.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:a,itemType:"pin"})),t(Object(i.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:a,itemType:"pin"}))};e(r,c);const n=()=>e(c,r);if(c.boardId===r.boardId){if(c.sectionId){const e={section_id:c.sectionId,pins:a};return s.a.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),m(e)})}{const e={section_id:r.sectionId,pins:a};return s.a.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),m(e)})}}{const e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:a};return s.a.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),m(e)})}}}(e,t).then(()=>h(e,t))}},VwDf:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>e.toISOString(),r=({currentEventStartDate:e,currentEventEndDate:t,initialEventStartDate:n,initialEventEndDate:r})=>{let i,o;return e&&t?(i=a(e),o=a(t)):t&&(o=a(t)),r&&!t&&(o=""),n&&!e&&(i=""),r&&a(new Date(r))===t&&(o=null),n&&a(new Date(n))===t&&(i=null),{eventEndDate:o,eventStartDate:i}}},Wrea:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("Wer7");const r=(e,t)=>n=>n(Object(a.a)("BoardResource",{board_id:e,field_set_key:t})),i=e=>r(e,"pin_count"),o=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},Yo6N:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var a=n("q1tI"),r=n.n(a),i=n("3gA6"),o=n("n6mq");function s({action:e,alignCenter:t}){const{title:n,description:a,button:s}=e,c=n&&n.text,l=a&&a.text,d=s&&s.text||"",u=s&&s.link||"",m=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&d&&u.startsWith("http")?r.a.createElement(o.d,null,r.a.createElement(o.d,{marginBottom:1},r.a.createElement(o.U,{align:t?"center":"left",weight:"bold"},""!==d?d:"Visit")),r.a.createElement(o.d,{marginBottom:1},r.a.createElement(i.b,{className:"underlineLink",to:u},r.a.createElement("span",{style:{textDecoration:"underline"}},r.a.createElement(o.U,{align:t?"center":"left",truncate:!0},m))))):r.a.createElement(o.d,null,!!c&&r.a.createElement(o.d,{marginBottom:1},r.a.createElement(o.U,{align:t?"center":"left",weight:"bold"},c)),!!l&&r.a.createElement(o.d,{marginBottom:1},r.a.createElement(o.U,{align:t?"center":"left"},l)))}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:a,actions:i=[]}=t,d=a&&a.text||"",u=a&&a.text_tags||[],p=1===i.length,h=m(d,u);return r.a.createElement(o.d,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c}},!!n&&!e&&r.a.createElement(o.d,{marginBottom:2,display:"flex"},r.a.createElement(o.r,{size:"md"},n)),!!d&&r.a.createElement(o.d,{marginBottom:4},r.a.createElement("span",{style:{whiteSpace:"pre-wrap"}},r.a.createElement(o.U,{overflow:"normal",align:e?"center":"left"},h))),!!i.length&&r.a.createElement(o.d,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row"},i.map(t=>r.a.createElement(o.d,{column:e||p?12:6,paddingY:1,paddingX:2,key:JSON.stringify(t)},r.a.createElement(s,{action:t,alignCenter:e||p})))))}function u({notice:e}){const{actions:t=[],description:n,footer:a}=e,s=m(n&&n.text||"",n&&n.text_tags||[]),c={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return r.a.createElement(o.d,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3},r.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8},r.a.createElement(o.d,{height:"100%",width:"100%",padding:10},r.a.createElement("span",{style:c},s),r.a.createElement(o.d,{marginTop:6},t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var a,s;return n&&n.startsWith("tel")?r.a.createElement(o.d,null,r.a.createElement("span",{style:{fontWeight:"600",...c}},null===(a=e.title)||void 0===a?void 0:a.text),r.a.createElement("span",{style:c},null===(s=e.description)||void 0===s?void 0:s.text)):r.a.createElement(i.b,{to:n||""},r.a.createElement(o.d,{display:"inlineBlock"},r.a.createElement(o.d,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",width:117},r.a.createElement(o.U,{color:"white",weight:"bold"},e.button&&e.button.text))))})))),!!a&&r.a.createElement(o.d,{paddingY:2,width:540},r.a.createElement(o.y,{inline:!0,target:"blank",href:a.link,key:a.link},r.a.createElement(o.U,{align:"center",color:"gray",size:"sm"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.text}})))))}function m(e,t){const n=[];let a=0;for(let i=0;i<t.length;i+=1){const s=t[i];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),i=r.a.createElement(o.y,{inline:!0,target:"blank",href:s.link,key:t},r.a.createElement(o.U,{inline:!0,weight:"bold"},t));n.push(r.a.createElement("span",null,e.substring(a,s.offset))),n.push(i),a=s.offset+s.length}}return a>0&&n.push(r.a.createElement("span",null,e.substring(a))),0===n.length?[r.a.createElement("span",null,e)]:n}function p({inModal:e,notices:t}){return r.a.createElement(a.Fragment,null,t.map(t=>2===t.style?r.a.createElement(u,{notice:t}):r.a.createElement(d,{notice:t,inModal:e})))}},ZE2w:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("4dcN"),r=n("eOdZ");const i="collaborator_approve_invite";function o(e,t){return r.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return r.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>r.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{a.a.trackEvent(i,"success")}).catch(()=>a.a.trackEvent(i,"error"))}function l(e,t,n){return t=>{const{invited_user:a,status:i,board:{id:o}}=e;return r.a.create("accepted"===i?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:o,field_set_key:"boardEdit",invited_user_id:a.id}).callDelete({showError:!1})}}},"b/K5":function(e,t,n){n.d(t,"a",(function(){return f}));var a=n("q1tI"),r=n.n(a),i=n("n6mq");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),l=e=>e*(Math.PI/180);class d extends a.PureComponent{constructor(...e){super(...e),o(this,"animationTimer",null),o(this,"canvasRemovalTimer",null),o(this,"containerRef",r.a.createRef()),o(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,a=document.createElement("canvas");return a.style.position="absolute",a.style.left=0-(n-t)/2+"px",a.style.top=0-(n-e)/2+"px",a.style.pointerEvents="none",a.style.width=n+"px",a.style.height=n+"px",a.style.overflow="visible",a.width=n,a.height=n,a}),o(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const a=Array.from(Array(120)).map((t,n)=>({x:e.width/2,y:e.height/2,radius:Math.round(c(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(c(0,360).toFixed(1)),speed:Math.round(c(0,25)),friction:.9,opacity:Number(c(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,n,a)=>{window.requestAnimationFrame(()=>r(e,t,n,a)),t.clearRect(0,0,n,a),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(l(e.degree)),e.y+=e.speed*Math.sin(l(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};r(a,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},this.props.delay+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:a}=e;n&&a!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return r.a.createElement(i.d,{ref:this.containerRef,position:"relative"},this.props.children)}}o(d,"defaultProps",{delay:0});var u=d,m=n("Ye/N"),p=n("vvax");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),g=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class f extends a.PureComponent{constructor(...e){super(...e),h(this,"state",{isInitialized:!1}),h(this,"containerRef",Object(a.createRef)()),h(this,"pinDestinationRef",Object(a.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:a}=this.props;n&&a&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(a,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:o}=this.props,{description:s="",images:c}=t,{height:l=0,width:d=0,url:h=""}=c["236x"]||{},{isInitialized:f}=this.state,{mask:y,imageContainer:E}=((e,t,n,a)=>{let r=null,i=null,o={},s={};const c=n.current.getBoundingClientRect();if(a&&a.current){const e=t.current.getBoundingClientRect();s=a.current.getBoundingClientRect(),o={left:c.left-e.left,top:c.top-e.top};const n={x:s.x-c.x,y:s.y-c.y},l={x:(s.width-c.width)/2,y:(s.height-c.height)/2};r=`translate(${n.x}px, ${n.y}px)`,i=`translate(${l.x}px, ${l.y}px)`}return{mask:{position:"absolute",left:o.left,top:o.top,width:e?s.width:c.width,height:e?s.height:c.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?r:"none",transform:e?r:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:c.width,height:c.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i:"none",transform:e?i:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(f,this.containerRef,n,this.pinDestinationRef);return r.a.createElement(a.Fragment,null,r.a.createElement(i.d,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef},r.a.createElement(i.d,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:y}},r.a.createElement(i.d,{dangerouslySetInlineStyle:{__style:E}},r.a.createElement(i.u,{alt:s,src:h||"",naturalHeight:l||1,naturalWidth:d||1}))),r.a.createElement(i.d,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(v=f,{pointerEvents:"none",opacity:v?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})}},r.a.createElement(i.d,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:b(f)}},r.a.createElement(u,{delay:1250,startAnimation:f},r.a.createElement(i.z,{rounding:2,width:270,height:180},r.a.createElement(i.d,{display:"flex",height:"100%",width:"100%"},r.a.createElement(i.d,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),r.a.createElement(i.d,{display:"flex",width:80,direction:"column"},r.a.createElement(i.d,{color:"lightGray",flex:"grow",marginBottom:1}),r.a.createElement(i.d,{color:"lightGray",flex:"grow"}))))),r.a.createElement(i.d,{paddingX:2,dangerouslySetInlineStyle:{__style:g(f)}},r.a.createElement(i.r,{align:"center"},e?Object(p.b)(m.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=o?o:""}):Object(p.b)(m.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=o?o:""})))))));var v}}h(f,"defaultProps",{firstRepin:!1})},c50B:function(e,t,n){n.d(t,"o",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"q",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"s",(function(){return E})),n.d(t,"p",(function(){return v})),n.d(t,"k",(function(){return S})),n.d(t,"r",(function(){return w})),n.d(t,"t",(function(){return _}));const a=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((e,a)=>{const r=t[e];r&&(n[a]=r)}),n.join("")};function r(e){return function(t,n){const a=[];t&&/\S/.test(t)||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}const i=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function o(e){return function(t,n){const a=[];(t=t&&t.trim())&&!t.match(i)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function s(e){return function(t,n){const a=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function c(e){return function(t,n){const r=a(t.trim()),i=[];r&&""!==r&&r.length<2&&i.push(e.ageTooShortString);const o=Math.floor(parseInt(r,10));""===r||/^\d+$/.test(r)&&o>0&&o<300||i.push(e.invalidAgeString);const s={errors:i,warnings:[]};return n&&n(s),s}}function l(e){return function(t,n){const a=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),r=[],i=!1!==e.checkLength&&a.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!i||r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function d(e){return function(t,n){const r=/^\d+$/,i=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(r)&&i.push(e.message));const o={errors:i,warnings:[]};return n&&n(o),o}}function u(e){return function(t,n){const r=/^[\d\ -]+$/,i=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(r)&&i.push(e.message));const o={errors:i,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){const a=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function p(e){return function(t,n){const a=[];(e.should_trim||!1)&&(t=t&&t.trim());const r=t.length;e.min&&r<e.min?a.push(e.minErrorString):e.max&&r>e.max&&a.push(e.maxErrorString);const i={errors:a,warnings:[]};return n&&n(i),i}}function h(e){return function(t,n){const a=[];t!==(e&&e.targetValue)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){t&&(t=parseFloat(t));const a=[];t<=e.value&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){t&&(t=parseFloat(t));const a=[];t<e.value&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function f(e){return function(t,n){const a=[];/^[\040-\176]*$/.test(t)||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function y(e){return function(t,n){const a=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(a)&&(t=t&&t.trim(),r.push(e.message));const i={errors:r,warnings:[]};return n&&n(i),i}}function E(e){return function(t,n){t=t&&t.trim();const a=[],r=new Date(t);t&&!r.getTime()&&a.push(e.message);const i={errors:a,warnings:[]};return n&&n(i),i}}function v(e){return function(t,n){const a=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function S(e){return function(t,n){const a=[];e.pattern.test(t)||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function w(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function _(e,t){let n="";return t.some(t=>{const a=t(e);return a.errors.length>0&&(n=a.errors[0],!0)}),n}},fZG9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var a=n("bNC6"),r=n("HMdf"),i=n("+lzj"),o=n("SyXB"),s=n("nEAA");const c=(e,t)=>(e||[]).reduce((e,n)=>({...e,["experiment."+n]:Object(s.d)(t(n))}),{}),l=(e,t)=>"number"==typeof t?e(t):null,d=e=>e.reduce((e,t)=>e+t,0),u=(e,t)=>Object.keys(t).reduce((n,a)=>({...n,[`${e}${a}`]:t[a]}),{}),m=e=>{if(!e.length)return{};const t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:a})=>{const r=t||e;return{startTime:e,requestStart:r,responseStart:n||r,responseEnd:a}}),n=d(t.map(e=>e.requestStart-e.startTime)),a=d(t.map(e=>e.responseStart-e.requestStart)),r=d(t.map(e=>e.responseEnd-e.responseStart)),i=n+a+r,o=d(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:Object(s.b)((c=o,Number(Number(c/1024).toFixed(3)))),"duration.all":Object(s.b)(i),"duration.requestStartToResponseStart":Object(s.b)(a),"duration.responseStartToResponseEnd":Object(s.b)(r),"duration.startToRequestStart":Object(s.b)(n)};var c},p=e=>{const t=e.filter(e=>!!e.responseEnd);return{...e.length?{...m(t),"count.completed":Object(s.b)(t.length)}:{},"count.all":Object(s.b)(e.length)}},h=e=>{const t=e.reduce((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e),{}),n={script:t.script,script_deferred:e.filter(e=>e.isDeferred),external:e.filter(e=>e.isExternal),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter(e=>e.isVisuallyCompleteRequired)};return Object.keys(n).reduce((e,t)=>({...e,...u(`resource.${t}.`,p((n[t]||[]).map(e=>e.timing)))}),{})},b=(e,t)=>{const{devicePixelRatio:n,navigator:r,innerWidth:i,innerHeight:o}=window,{deviceMemory:c,hardwareConcurrency:l,platform:d,userAgent:u}=r,{appType:m,appVersion:p,browserName:h,browserVersion:b,deviceType:g,isBot:f,isSocialBot:y,locale:E,osName:v,stageName:S}=t,w="desktop"===g?m||5:m||6,_="surface"===e.type&&"initial_app_load"===e.navigationType?1:4;return{"app.type":Object(s.c)(w),"app.version":Object(s.d)(p),"browser.name":Object(s.d)(h),"browser.version":Object(s.d)(b),"cpu.speed":Object(s.c)(l),"device.memory":Object(s.c)(c),"device.type":Object(s.c)(0),"device.typeName":Object(s.d)(g),"device.version":Object(s.d)("unknown"),"pwt.cause":Object(s.c)(_),"pwt.result":Object(s.c)(1),"view.type":Object(s.b)(0),"viewport.height":Object(s.b)(o||0),"viewport.width":Object(s.b)(i||0),devicePixelRatio:Object(s.b)(n||0),isBot:Object(s.a)(f),isSocialBot:Object(s.a)(y),locale:Object(s.d)(E),osName:Object(s.d)(v),platform:Object(s.d)(d||null),profilerVersion:Object(s.d)("3"),pwtActionName:Object(s.c)(Object(a.a)(e)),stageName:Object(s.d)(S),userAgent:Object(s.d)(u)}},g=({metricId:e,pwtStaticContext:t,binaryAnnotations:n={},performanceResourceTimings:a=[]})=>{let i={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;i={"net.effectiveType":Object(s.d)((null==e?void 0:e.effectiveType)||null),"net.rtt":Object(s.b)(l(e=>10*Math.round(e/10),null==e?void 0:e.rtt)),"net.speed":Object(s.b)(Object(r.b)(a,!1)),"cpu.threads":Object(s.c)(t),"memory.size":Object(s.b)(n)}}return{...b(e,t),...n,...i}},f=(e,t,n,a)=>{var c;const{navigator:u}=window,{connection:m,serviceWorker:p}=u,{surface:h,navigationType:b,isAuthenticated:g}=e,{cumulativeLayoutShiftScore:f,longTaskDurations:y}=Object(i.b)();return{...y.length?{"longTask.count":Object(s.b)(y.length),"longTask.maxDuration":Object(s.b)(Math.max(...y)),"longTask.totalDuration":Object(s.b)(d(y))}:{},cumulativeLayoutShiftScore:Object(s.b)(100*f),"masonry.paginationMarkCount":Object(s.b)(Object(o.e)(o.a,t)),"metricId.isAuthenticated":Object(s.a)(g),"metricId.navigationType":Object(s.d)(b),"metricId.surface":Object(s.d)(h),"net.effectiveType":Object(s.d)((null==m?void 0:m.effectiveType)||null),"net.rtt":Object(s.b)(l(e=>10*Math.round(e/10),null==m?void 0:m.rtt)),"net.speed":Object(s.b)(Object(r.b)(n)),entryChunkAfterDoc:Object(s.a)(a),resourceBufferClearedCount:Object(s.c)(Object(o.e)("resourceBufferCleared",t)),scrollDuringLayout:Object(s.a)(Object(o.f)("scrollDuringLayout",t)),serviceWorker:Object(s.a)(p?!!p.controller:null),serviceWorkerState:Object(s.d)((null==p||null===(c=p.controller)||void 0===c?void 0:c.state)||null)}},y=({annotateExperiments:e,binaryAnnotations:t={},entries:n,entryChunkAfterDoc:a,metricId:r,performanceResources:i,pwtEndTime:o,pwtStaticContext:s})=>({...t,...h(i),...c(e,s.getExperimentGroup),...b(r,s),...f(r,o,n,a)})},"g/XF":function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("JW66"),o=n("zwad"),s=n("n6mq");function c({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,r.a.createElement(s.d,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}}},r.a.createElement(s.d,{maxHeight:200,padding:4,overflow:"hidden"},e&&r.a.createElement(s.d,{marginBottom:2},r.a.createElement(s.U,{color:"white",size:"sm"},o.a.parse(e).hostname||e)),r.a.createElement(s.d,{maxHeight:144},r.a.createElement(s.U,{color:"white",overflow:"normal",weight:"bold"},t))))}},gONw:function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("n6mq");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends a.Component{constructor(...e){super(...e),o(this,"state",{isHovering:!1}),o(this,"onHover",()=>{this.setState({isHovering:!0})}),o(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:a}=this.props;return a?r.a.createElement(i.d,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},r.a.createElement(i.d,null,r.a.createElement(i.z,{height:40,width:40,rounding:2},this.state.isHovering&&n?r.a.createElement(i.u,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):r.a.createElement(i.d,{color:"lightGray",height:40,width:40}))),r.a.createElement(i.d,{padding:2},r.a.createElement(i.r,{size:"sm"},e))):r.a.createElement(i.d,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},r.a.createElement(i.d,null,r.a.createElement(i.s,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})),r.a.createElement(i.d,{marginStart:3},r.a.createElement(i.U,{color:t?"darkGray":"gray",weight:"bold"},e)))}}var c=n("Ye/N"),l=n("w70y"),d=n("U4JR"),u=n("oTtT");t.a=({inBoardToCollectionsExp:e,inFlyoutExp:t,inFirstBoardCreateGestaltExp:n,pinId:o,image:m,minHeight:p,onBoardSelected:h})=>{const[b,g]=Object(a.useState)(-1),f=Object(u.b)(),{data:y=[],error:E,isLoaded:v}=Object(l.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:o}}),S=(w=y,Object(a.useMemo)(()=>w&&w.length?w.map(e=>e.title):[],[w]));var w;Object(a.useEffect)(()=>{v&&n&&f&&(E?f.error():f.stop())},[v]);const _=()=>{g(-1)},O=(e,n)=>{const a=b===n;return r.a.createElement("li",{key:n},r.a.createElement(i.T,{onMouseEnter:()=>(e=>{g(e)})(n),onMouseLeave:_,onTap:()=>(e=>{h(S[e],!1),Object(d.a)(101,{component:13025,element:23})})(n)},r.a.createElement(s,{selected:a,name:e,inFlyoutExp:t,image:m})))};return v?S&&S.length?t?r.a.createElement("div",null,r.a.createElement("ul",null,S.map(O))):n?r.a.createElement(i.d,null,r.a.createElement(i.d,{marginTop:5,marginStart:6,marginBottom:3},r.a.createElement(i.U,null,e?c.a._("Suggested collection names","collectionSuggestionList.title","text above suggested collection names list"):c.a._("Suggested board names","text above suggested board names list","text above suggested board names list"))),r.a.createElement("ul",null,S.map(O))):r.a.createElement(i.d,null,r.a.createElement(i.d,{marginTop:2,paddingX:5},r.a.createElement(i.U,null,c.a._("Suggested board names"))),r.a.createElement("ul",null,S.map(O))):null:r.a.createElement(i.d,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:p||""},r.a.createElement(i.N,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0}))}},gdcG:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),r=n.n(a),i=n("2WXK");function o(e){return function(t){const{isHovering:n,hoverHandlers:a}=Object(i.a)();return r.a.createElement(e,Object.assign({},t,{hoverHandlers:a,isHovering:n}))}}},j0Fm:function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("3R0Q"),o=n("B/lV"),s=n("vzKb"),c=n("FylZ"),l=n("mRg4"),d=n("LvPn"),u=n("XtwW"),m=n("LrH5"),p=n("fZG9"),h=n("xfna"),b=n("3/Bf");const g=Object(m.a)("PwtStopwatch"),f=(e,t)=>{if(u.a){if("start"===t.type&&!e.isTiming){const{name:e}=t;return Object(b.c)("TIMING."+e),{isTiming:!0,isSampled:t.isSampled,startTime:u.a.now(),metricId:{type:"stopwatch",name:e},pwtStaticContext:t.pwtStaticContext,annotations:[],binaryAnnotations:{},spans:[]}}if("annotate"===t.type&&e.isTiming)return{...e,annotations:e.annotations.concat([{label:t.label,timestamp:u.a.now()}])};if("binaryAnnotate"===t.type&&e.isTiming)return g(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type&&e.isTiming){const{value:n,type:a}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const r=e.binaryAnnotations[t.name].value||0;return g(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(r)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(r,n):r,type:a}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:a}}}}if("subspanStart"===t.type&&e.isTiming)return g(`starting subspan {${t.name}}`),{...e,spans:[...e.spans,{name:t.name,startTime:u.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]};if("subspanStop"===t.type&&e.isTiming){g(`stopping subspan {${t.name}}`);const n=e.spans.findIndex(e=>e.name===t.name);if(!(n>-1))return Object(b.b)("invalid_subspan_stop_name",{name:t.name}),e;e.spans[n].endTime=u.a.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:a,pwtStaticContext:r,annotations:s,binaryAnnotations:m,isSampled:h,spans:b}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),h){const e=t.stopTime||u.a.now(),h={type:"COMPLETE",traceId:Object(c.a)(),startTime:n,endTime:e,spans:b.length?b.map(t=>(t.endTime===1/0&&(t.endTime=e),t)):(t.customStopwatchBuffer||[]).map(e=>Object(d.a)(Object(o.a)(e,[]))).filter(Boolean),annotationMap:Object(i.a)(s),binaryAnnotationMap:Object(p.a)({metricId:a,pwtStaticContext:r,binaryAnnotations:m,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(l.a)({metricId:a,pwtStaticContext:r,result:h})}return{isTiming:!1}}if("error"===t.type){const{error:e,stopwatchPerformanceObserver:n}=t;return e&&Object(b.b)(e),n&&n.disconnect(),{isTiming:!1}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:a}=e,r=t.reason||"";return Object(l.a)({metricId:n,pwtStaticContext:a,result:{type:"ABORT",reason:r}}),{isTiming:!1}}}return e};var y=(e,t)=>{const n=Object(h.c)(),r=Object(a.useRef)([]),i=Object(a.useRef)(),[o,c]=Object(a.useReducer)(f,{isTiming:!1});return n?{isTiming:o.isTiming,start:()=>{if(window.PerformanceObserver){const e=1e3;r.current=[],i.current=Object(s.a)({entryTypes:["resource"]},t=>{r.current=r.current.concat(t.getEntries()),r.current.length>e&&(r.current=r.current.slice(-e))})}const a={type:"start",name:e,pwtStaticContext:n,isSampled:!t||Math.random()<t};return c(a)},stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:i.current,customStopwatchBuffer:r.current}),error:e=>{c({type:"error",stopwatchPerformanceObserver:i.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:i.current,customStopwatchBuffer:r.current,reason:e}),annotate:e=>c({type:"annotate",label:e}),binaryAnnotate:(e,t,n)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n}),binaryAnnotateOperation:(e,t,n)=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n}),subspanStart:(e,t={},n={})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n}),subspanStop:(e,t={},n={})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n})}:null},E=n("1dBE");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:i=!0})=>{const{Provider:o,useHook:s}=Object(E.b)("Stopwatch_"+e);return{Provider:function({children:t}){const s=y(e,n),c=Object(h.b)(),l=c?c.time:0,d=Object(a.useRef)(!1),u=e=>{d.current&&(d.current=!1,s&&s.abort(e))};return Object(a.useEffect)(()=>()=>{i&&u("unloadOrClientNavigation")},[l]),r.a.createElement(o,{value:{abort:u,addAnnotation:e=>{d.current&&s&&s.annotate(e)},addBinaryAnnotation:(e,t,n)=>{d.current&&s&&s.binaryAnnotate(e,t,n)},binaryAnnotationOperation:(e,t,n)=>{d.current&&s&&s.binaryAnnotateOperation(e,t,n)},subspanStart:(e,t,n)=>{d.current&&s&&s.subspanStart(e,t,n)},subspanStop:(e,t,n)=>{d.current&&s&&s.subspanStop(e,t,n)},error:e=>{d.current&&(d.current=!1,s&&s.error(e))},start:()=>{s&&d.current&&s.abort("duplicated_init_stopwatch_action"),d.current=!0,s&&s.start()},stop:()=>{d.current&&(d.current=!1,s&&s.stop())}}},t)},useHook:s}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return l}));var a=n("q1tI"),r=n.n(a),i=n("8cMa"),o=n("JW66"),s=n("Ye/N"),c=n("n6mq");function l(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,a,i)=>{if(n.length>0&&e&&e.length){const o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(r.a.createElement("em",{key:i,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},t.substring(o,o+e.length)),a)}return[a]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:a,isSelectMode:d,isWithinSectionPicker:u,saveState:m,searchQuery:p,selected:h}=e,b=a?null:n,g=a?n:null,f=g&&g.title||b&&b.name||"";let y="",E=!1,v="",S=0;b&&({image_cover_url:y,is_collaborative:E,privacy:v,section_count:S=0}=b);const w=l(p,f),_=v===o.a.BoardPrivacy.SECRET,O=!t&&(h||!!m),I=!u&&S>0,x=S>0?"boardWithSection":"boardWithoutSection",C=d?s.a._("Select","Board select button label","Board select button label"):s.a._("Save","Pin save button label","Pin save button label");return r.a.createElement(c.d,{alignItems:"center",color:O?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":x},b?r.a.createElement(c.d,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none"},y?r.a.createElement(c.u,{src:y,alt:f,fit:"cover",naturalWidth:1,naturalHeight:1}):r.a.createElement("span",null)):r.a.createElement(c.d,{paddingX:2}),r.a.createElement(c.d,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},r.a.createElement(c.U,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold"},w),(I||!O)&&r.a.createElement(c.d,{alignItems:"center",display:"flex"},_&&r.a.createElement(i.a,{type:"secret"}),E&&r.a.createElement(i.a,{type:"group"}),I&&r.a.createElement(i.a,{type:"sections"})),!I&&O&&!m&&r.a.createElement(c.d,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4},!d&&r.a.createElement(c.d,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},r.a.createElement(c.s,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),r.a.createElement(c.U,{color:"white",overflow:"normal",size:"md",weight:"bold"},C)),!I&&O&&"loading"===m&&r.a.createElement(c.d,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},r.a.createElement(c.N,{accessibilityLabel:s.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0}))))}},mEMi:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("DzJC"),o=n.n(i);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.a.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",o()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},a)=>e+t+(a?a(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mRg4:function(e,t,n){n.d(t,"a",(function(){return y}));let a=null;var r=(e,t)=>(a=a||{results:[],context:t},a.results.push(e),a),i=n("FZ8N"),o=n("LrH5"),s=n("bNC6"),c=n("3/Bf"),l=n("o9su"),d=n("FylZ");const u=(e,t)=>Object.keys(e).reduce((n,a)=>{const r=e[a];return r&&(n[a]={timestamp:t+r}),n},{}),m=({span:e,id:t,parentId:n,timeOrigin:a})=>{return{id:t,parent_id:n,result:1,name:e.name,timestamp:a+e.startTime,duration:e.endTime-e.startTime,annotations:u(e.annotationMap,a),binary_annotations:(r=e.binaryAnnotationMap,Object.keys(r).reduce((e,t)=>{const n=r[t];if(!n)return e;const{value:a,type:i}=n;return null==a?e:e.concat({name:t,value:a,annotation_type:i})},[]))};var r},p=(e,{startTime:t,endTime:n,annotationMap:a,binaryAnnotationMap:r})=>({name:"pwt/"+e,startTime:t,endTime:n,annotationMap:a,binaryAnnotationMap:r}),h=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,["server_"+t]:{timestamp:n}}),{}),b=(e,t)=>({...e,annotations:{...h(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),g=({traceId:e,actionName:t,result:n,timeOrigin:a,serverDataToJoin:r})=>{const i=(null==r?void 0:r.client_span_id)||Object(d.a)();let o=m({span:p(t,n),id:i,parentId:null,timeOrigin:a}),s=null;return r&&(o=b(o,r),s=((e,t,n)=>{const a=Object(l.a)();return(null==a?void 0:a.responseEnd)?b(m({span:{name:"html",startTime:0,endTime:(null==a?void 0:a.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{}},id:e.server_span_id||Object(d.a)(),parentId:t,timeOrigin:n}),e):null})(r,i,a)),{trace_id:e,spans:[o,...s?[s]:[],...n.spans.map(e=>m({span:e,id:Object(d.a)(),parentId:i,timeOrigin:a}))]}},f=Object(o.a)("reportResult");function y({metricId:e,pwtStaticContext:t,result:n}){const{ajax:a,serverData:o}=t,l=Object(s.b)(e),d=`${n.type}.${l}`;if(Object(c.c)(n.reason?d.concat("."+n.reason):d),"COMPLETE"!==n.type)return void f("Abort metric "+l,n);const u=(null===(m=window.performance)||void 0===m?void 0:m.now)?Date.now()-window.performance.now():"unknown";var m,p;if("unknown"===u)return f(`Unable to convert to absolute times for ${l} due to missing time origin`),void Object(c.c)("missingTimeOrigin."+l);if(i.c&&(window.PWT_LAB_DATA=r(n,t)),!i.c){const r="surface"===e.type&&"initial_app_load"===e.navigationType,s=n.traceId,c=g({traceId:s,actionName:l,result:n,timeOrigin:u,serverDataToJoin:r&&o||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(c),report_context:JSON.stringify((p=t,{debugTrace:i.a,locale:p.locale,stageName:p.stageName,userId:p.isAuthenticated?p.userId:null}))}}),f(`PinTrace ${l} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${s}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},mvLR:function(e,t,n){function a(e){let t=!1;return{promise:new Promise((n,a)=>{e.then(e=>t?a({isCanceled:!0}):n(e),e=>a(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return a}))},nEAA:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s}));const a=e=>"number"==typeof e?Math.round(e):e,r=e=>({type:"I16",value:a(e)}),i=e=>({type:"I32",value:a(e)}),o=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},o9su:function(e,t,n){var a=n("XtwW");t.a=()=>{const[e]=a.a?a.a.getEntriesByType("navigation"):[];return e}},oN2T:function(e,t,n){n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"m",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return _})),n.d(t,"l",(function(){return O})),n.d(t,"j",(function(){return I})),n.d(t,"k",(function(){return x})),n.d(t,"f",(function(){return C}));var a=n("4dcN"),r=n("Pqnw"),i=n("7w6Q"),o=n("eOdZ"),s=n("KFEb"),c=n("5FNA"),l=n("NjDU"),d=n("Wer7");const u="board_create",m="board_delete",p="board_edit";function h(e,t){return Object(d.a)("BoardResource",{board_id:e,field_set_key:t})}function b(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function g(){return(e,t)=>{const{viewer:n}=t();n.isAuth&&Object(c.b)(n.username).forEach(t=>{e(t)})}}function f(e,t){const n={...e};return r=>(r({type:"BOARD_CREATE",payload:{board:e}}),o.a.create("BoardResource",n).callCreate().then(e=>{a.a.trackEvent(u,"success");const i=e.resource_response.data;return i&&(r(g()),(null==t?void 0:t.isFBC)||r(b(n,i))),i}).catch(e=>{throw a.a.trackEvent(u,"error"),e}))}function y(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function E(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},r={board_id:e.id,name:e.name,description:e.description,category:e.category,event_date:e.event_date,event_start_date:e.event_start_date,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:r}}),o.a.create("BoardResource",r).callUpdate().then(n=>{a.a.trackEvent(p,"success");const i=n&&n.resource_response&&n.resource_response.data||e;t(y(r,i))}).catch(e=>{throw a.a.trackEvent(p,"error"),e})}}function v(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function S(e){return(t,n)=>{const r=n().boards.content[e],{pin_count:i}=r,{id:s}=r.owner;return t({type:"BOARD_DELETE",payload:{boardId:e}}),o.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{a.a.trackEvent(m,"error"),t(v(e)),t(Object(l.b)({userId:s,increment:-i}))}).catch(e=>{throw a.a.trackEvent(m,"error"),e})}}function w(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function _(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),o.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function O(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),o.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function I(e,t){return n=>o.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(v(e)),n(h(t,"pin_count")),n(Object(r.a)(s.a.BOARD_SECTIONS,t))]))}function x(e,t){return n=>o.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const a=e.resource_response.data||{},r=(a.model||{}).custom_properties||{},{campaign_id:o="unknown"}=r,s=a.display_data||{},c={isSocialSeasonalBoard:!!a.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return i.a.increment(`web.seasonal_board.${o}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function C(){return e=>e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}},oTtT:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n("FZ8N"),r=n("j0Fm");const{Provider:i,useHook:o}=Object(r.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:a.b?1:.1}),s=i,c=o},ou9u:function(e,t,n){function a(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return a}))},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0})},qyR9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var a=n("q1tI"),r=n.n(a),i=n("jdx6"),o=n("gONw"),s=n("Ye/N"),c=n("gdcG"),l=n("n6mq");var d=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:a,hasHoverState:i,hoverHandlers:o,name:c,onClick:d}=e,u=c||t||s.a._("Create board");return r.a.createElement(l.T,{onMouseEnter:o.onMouseOver,onMouseLeave:o.onMouseLeave,onTap:d},r.a.createElement(l.d,{alignItems:"center",color:i&&n?"lightGray":"white",display:"flex",flex:a?"shrink":"none",height:64,width:"100%"},r.a.createElement(l.d,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton"},r.a.createElement(l.s,{accessibilityLabel:s.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),c?r.a.createElement(l.d,{margin:1},r.a.createElement(l.U,{inline:!0,overflow:"normal"}," ",s.a._("Create: ")," ")):null,r.a.createElement(l.U,{align:"center",inline:!0,truncate:!0,weight:"bold"}," ",u," ")))})),u=n("9QW3"),m=n("NdQN"),p=n("IBrh"),h=n("oTtT");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=2;class f extends a.Component{constructor(...e){super(...e),b(this,"state",{searchQuery:""}),b(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),b(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),b(this,"renderSectionHeader",(e,t)=>e.title?r.a.createElement(l.d,null,t>0&&r.a.createElement(l.n,null),r.a.createElement(l.d,{paddingX:3,paddingY:1},r.a.createElement(l.U,{size:"md"},e.title))):null),b(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:a,isSelectMode:o,disabledRowId:s}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,d=a&&a.board===e.id?a&&a.state:null,u="board_section"===e.type;return r.a.createElement(i.a,{isSelectMode:o,disabled:e.id===s&&l,item:e,isSection:u,isWithinSectionPicker:l,saveState:d,searchQuery:c,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:a,isLoaded:i,onCreate:c,pinId:h}=this.props;if(i){const{searchQuery:i}=this.state,s=a(i);return this.indexManager=new u.a(s.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),r.a.createElement(l.d,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!n&&r.a.createElement(l.d,null,r.a.createElement(l.d,{paddingX:3,marginBottom:4,marginTop:1},r.a.createElement(m.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:i})),r.a.createElement(l.n,null)),r.a.createElement(p.a,{disabled:!!e,grow:!n&&!i,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:s}),r.a.createElement(l.n,null),c&&r.a.createElement(d,{buttonLabel:t,hasHoverState:!0,name:i,onClick:()=>c(i)}),n&&c&&h&&r.a.createElement(o.a,{onBoardSelected:c,pinId:h}))}return r.a.createElement(l.d,{paddingY:5},r.a.createElement(l.N,{accessibilityLabel:s.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}function y(e){const t=Object(h.b)();return r.a.createElement(f,Object.assign({},e,{boardPickerStopwatch:t}))}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return g}));var a=n("q1tI"),r=n.n(a),i=n("Ye/N"),o=n("zLLH"),s=n("vvax"),c=n("n6mq");var l=Object(o.c)({name:"PinSaveStatusResource",key:"saveStatusResource",options:({pin:e})=>({id:e.id})},{allowStale:!1})((function(e){const{saveStatusResource:{data:t}}=e;return t&&t.pinned_to_board?r.a.createElement(c.d,null,r.a.createElement(c.d,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185},r.a.createElement(c.U,{align:"center",color:"white",size:"md",weight:"bold"},Object(s.b)(i.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" "))),r.a.createElement(c.d,{display:"flex",justifyContent:"center",marginTop:-3},r.a.createElement(c.s,{accessibilityLabel:"",color:"red",icon:"heart",size:26}))):null})),d=n("P6kd"),u=n("g/XF"),m=n("U4JR");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,b=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class g extends a.Component{constructor(...e){super(...e),p(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),p(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(h,"g");let a="";if(t<e.length){let r=n.exec(e),i=n.lastIndex<t;for(;r&&i;)r=n.exec(e),i=n.lastIndex<t;const o=!!r&&h.test(e.slice(r.index,t));i=!!r&&r.index<t,r&&o&&i&&(a=r[0])}else{const t=b.exec(e);a=t?t[0]:""}this.updateDescription(e);const r=h.test(a),i=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:i,description:e,hashtagQuery:a,isHashtagFlyoutOpen:r,flyoutOpened:this.state.flyoutOpened||r})}),p(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),p(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),p(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),p(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),p(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(m.a)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,a=Number(n+this.state.hashtagQuery.length),r=this.state.description.slice(0,n)+e+" "+this.state.description.slice(a);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),p(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:a}=this.props,{description:i,editing:o,flyoutOpened:s,hashtagQuery:m,isHashtagFlyoutOpen:p}=this.state,{images:h,link:b}=n,g=h&&h["236x"],f=g&&g.url||n.image_base64;return r.a.createElement(c.d,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:s&&o?{transform:"translateY(-75px)"}:{}}},r.a.createElement(c.d,{display:"flex",direction:"column",alignItems:"center"},n&&n.id&&r.a.createElement(l,{pin:n}),r.a.createElement(c.d,{paddingY:t?9:0,width:240},r.a.createElement(c.d,{ref:a,maxHeight:s&&o?220:335,rounding:4,overflow:"hidden"},f?r.a.createElement(c.u,{alt:i,src:f,naturalHeight:g.height||1,naturalWidth:g.width||1}):!!b&&r.a.createElement(u.a,{color:e||"",description:i,url:b})))),this.anchor&&p?r.a.createElement(d.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:o,query:m}):null)}}},vxan:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),i=n("mvLR");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t,n;return n=t=class extends r.a.Component{constructor(...e){super(...e),o(this,"makeCancelablePromise",(e,t)=>{if(t){const e=this.cancelCallbackMap[t];e&&(e(),delete this.cancelCallbackMap[t])}const{cancel:n,promise:a}=Object(i.a)(e);return t?this.cancelCallbackMap[t]=n:this.cancelCallbacks.push(n),a}),o(this,"cancelCallbacks",[]),o(this,"cancelCallbackMap",{})}componentWillUnmount(){[...Object.keys(this.cancelCallbackMap).map(e=>this.cancelCallbackMap[e]),...this.cancelCallbacks].forEach(e=>e()),this.cancelCallbacks=[],this.cancelCallbackMap={}}render(){return r.a.createElement(e,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}},o(t,"displayName",`WithPromiseCancellation(${e.displayName||e.name||"Component"})`),n}},"w/op":function(e,t,n){},xfna:function(e,t,n){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b}));var a=n("q1tI"),r=n.n(a),i=n("EHyI"),o=n("gg0E"),s=n("SyXB"),c=n("3/Bf"),l=n("+lzj"),d=n("HMdf");const u=Object(a.createContext)(null),m=Object(a.createContext)(null);function p({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:p,staticContext:h}){const b=Object(a.useRef)(null),g=Object(a.useRef)(null),f=Object(a.useRef)(t),y=Object(a.useRef)(!0);if(Object(a.useEffect)(()=>{Object(d.f)({size:n||1e3}),Object(l.c)(),Object(c.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(c.c)("not_supported.window.performance."+e)}):Object(c.c)("not_supported.window.performance"),window.PerformanceObserver||Object(c.c)("not_supported.window.PerformanceObserer"),Object(o.a)()||Object(c.c)("not_supported.grid_profiler"),y.current=!1},[]),f.current!==t){f.current=t,g.current=(null===(E=window.performance)||void 0===E?void 0:E.now)?window.performance.now():null;const{current:e}=g;if(!y.current){Object(c.c)("routeStart",{tags:{action:p}}),Object(d.a)(),Object(l.a)(),Object(s.b)();const{customBufferSize:t,defaultBufferSize:n}=Object(d.e)();e&&(Object(c.c)("routeStart.customBufferSize",{count:t}),Object(c.c)("routeStart.defaultBufferSize",{count:n}),b.current={time:e,action:p})}}var E;const v=Object(i.a)(h.deviceType);return r.a.createElement(u.Provider,{value:v?h:null},r.a.createElement(m.Provider,{value:b.current},e))}const h=()=>Object(a.useContext)(m),b=()=>Object(a.useContext)(u)},yKES:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("Ye/N"),o=n("US8k"),s=n("n6mq");function c({duration:e}){return r.a.createElement(s.d,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill"},r.a.createElement(s.s,{accessibilityLabel:i.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),r.a.createElement(s.d,{marginStart:1},r.a.createElement(s.U,{color:"white",size:"sm",truncate:!0},Object(o.a)(e))))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/69-dce27a4a73597880b6fb.mjs.map