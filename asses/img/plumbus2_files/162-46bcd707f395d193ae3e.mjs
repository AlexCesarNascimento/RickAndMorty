(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[162],{"+tKw":function(e,t,n){n.d(t,"a",(function(){return m}));var a=n("q1tI"),i=n.n(a),o=n("Y+p1"),r=n.n(o),l=n("3gA6");const s="__HashtagFlag__",c=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,d=(e,t)=>`/search/pins/?q=${encodeURIComponent(e)}&rs=${t}`;const u={hashtags:function(e,t){const n=t.appendText||"",a=t.source||"hashtag_pinrep";let o=[];const r=[],u={};let m=0;const p=e=>(t,n)=>{if(t===s&&r.length){const t=r.shift();return m+=1,i.a.createElement(l.b,{to:d(t,a),key:`hashtag-${e}.${n}`},i.a.createElement("span",{className:"pinHashtag"},t))}return t};for(let i=0;i<e.length;i+=1){const t=e[i];if("string"==typeof t){const e=t.replace(c,e=>(r.push(e),u[e]=!0,s)).split(new RegExp("(__HashtagFlag__)")).map(p(i));o=[...o,...e]}else o.push(t)}const h=[];return n&&n.replace(c,(e,t)=>(!u[e]&&m<4&&(m+=1,h.push(i.a.createElement("span",{key:"appended"+t}," ",i.a.createElement(l.b,{to:d(e,a)},i.a.createElement("span",{className:"pinHashtag"},e)))),u[e]=!0),e)),o=[...o,...h],o}};class m extends i.a.Component{shouldComponentUpdate(e){return!r()(this.props,e)}render(){const{text:e,options:t}=this.props;if("string"==typeof e&&""===e.trim())return e;let n=[e];for(const a of Object.keys(u))if(a in t){n=(0,u[a])(n,t[a])}return i.a.createElement("span",null,n)}}},"/5zs":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n("QLaP"),i=n.n(a);class o{constructor(e,t){i()(e,"You must pass a requestContext to check an Experiment"),i()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_isSeoExperiment(){return this.experimentName.startsWith("seo_")}_getGroup(e){return this.requestContext.isBot?this._isSeoExperiment()&&this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":this._isSeoExperiment()?e?"":this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class r extends o{getGroup(e=!1){return this._getGroup(e)}}class l extends o{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}class s extends o{check(e){return this._getGroup(!0)===e}checkWithNoActivation(e){return this._getGroup(!1)===e}}},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("q1tI");const i=n("NwjN").a;function o({children:e}){return e(Object(a.useContext)(i))}function r(){return Object(a.useContext)(i)}},"0S8y":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return s}));var a=n("fAMq");function i(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const a=n.split(/ (.+)/);return""===a[0]&&a.shift(),a.length>0&&(t.first_name=a[0]||""),a.length>1&&(t.last_name=a[1]||""),t}function o({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(a.h)(-t,n),o=new Date;return!Object(a.g)(o,i)}function r({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,i=new Date,o=n?new Date(n):i,r=Object(a.c)(o,t);return Object(a.g)(r,i)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}function s(e){var t;return 502450===(null==e||null===(t=e[1000294])||void 0===t?void 0:t.experience_id)}},"0SCs":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n("l61J"),i=n("pLLR");function o(e,t=!0){const{experiments:n}=Object(i.d)(),{group:o,anyEnabled:r}=Object(a.a)(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:o,anyEnabled:r}}function r(e,t=!0){const{experiments:n}=Object(i.d)(),{group:o,anyEnabled:r}=Object(a.a)(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:o,anyEnabled:r}}function l(e,t=!0){const{experiments:n}=Object(i.d)();return Object(a.a)(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}},"1Fta":function(e,t,n){var a=n("kmwA"),i=n("pSsd");const o=e=>e.length>32?e.substring(0,32).trim()+"...":e;t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return a.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return a.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return a.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:a,feedbackType:i,makeNavigateLink:r,pinner:l,promoter:s,recommendationReason:c,sourceInterest:d})=>{switch(i){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:i,url:u}=c.board,m=r("navigation",u,i);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:m});case"topic":const{name:p,url_name:h}=d,g=r("topicUrl","/topics/"+h,p);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const f="/"+l.username,b=r("boardUrl",a.url,o(a.name)),y=r("pinnerUrl",f,o(l.full_name));return l.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:y}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:b});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:a}=s,i=r("promotedLink",a?"/"+a+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:i})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:a,is_downstream_promotion:i,recommendation_reason:o},pinner:r}){const l=t&&t.type;return a&&!i?"promoted":l||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:i,complaintReason:o,throughId:r,clientTrackingParams:l})=>{const s="promoted"===t;let c,d;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":d={query:e.query,pin_id:n};break;case"related":d={pin:n};break;case"newsHub":d={pinId:n,newsId:e.newsId};break;default:d={complaint_reason:o||0,pin_id:n,...a?{recommendation_reason_id:a}:{},feedback_type:i||1,promoted:s,...r?{through_id:r}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:d}},getUnfollowAction:({board:n,feedbackType:a,makeNavigateLink:o,pinner:r,sourceInterest:l})=>{if("topic"===a){if(l){const{id:n,name:a,url_name:r}=l,s=o("topicUrl","/topics/"+r,a,!0),c=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:s});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:i.a},title:"",subTitle:c}}}else if("followed"===a&&n&&r){const{id:a,name:i,url:l}=n||{},{explicitly_followed_by_me:s,full_name:c,username:d}=r,u="/"+d,m=o("boardUrl",l,i,!0),p=o("pinnerUrl",u,c,!0);let h=s?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:p,formattedBoard:m}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:m});return h=s?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:p}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:m}),{action:"unfollowBoard",actionOptions:{board_id:a},title:"",subTitle:h}}return null}})},"3Pf9":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));const a=348,i=7,o=4},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),o=n("4Utz"),r=n("n6mq");const l={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:a}=n||{},s=a&&a.length>=3?a.slice(0,3):[];return i.a.createElement(r.d,{display:"flex",dangerouslySetInlineStyle:{__style:l.chipContainer}},s.map(n=>{const a=n.images["750x"]||{},s=i.a.createElement(r.u,{alt:"",fit:"cover",naturalHeight:a.height,naturalWidth:a.width,src:a.url});return i.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:l.chip},"data-test-id":"collageChip",key:n.id},i.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:l.chipInner},position:"relative"},i.a.createElement(r.d,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0},i.a.createElement(r.z,{height:"100%",wash:!0,width:"100%"},t?i.a.createElement(o.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e},s):s))))}))}},"4+TC":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("TSYQ"),r=n.n(o),l=n("Ye/N"),s=n("3gA6"),c=n("n6mq");class d extends i.a.Component{constructor(...e){var t,n,a;super(...e),a={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,name:n,url:a}=this.props;let o,d;if(t&&!e)o=i.a.createElement(c.U,{color:"white"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},l.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")));else{const e=i.a.createElement(c.r,{color:"white",size:"sm",truncate:!0},n);o=a?i.a.createElement(s.b,{to:a},e):e}return t&&(d=e?"board":"saved"),i.a.createElement("div",{"data-test-id":"savedInfo",className:r()("SavedAnimation",d)},o)}}t.a=d},"4Utz":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),o=n("3gA6"),r=n("0nTG"),l=n("Y8Sn"),s=n("U4JR"),c=n("gD/Z");function d({additionalStyles:e={},children:t,collageChipId:n,componentType:a,contextLogData:d,elementType:u,pin:m,viewParameter:p,viewType:h}){const g=Object(c.b)(),{carousel_data:f,id:b}=m;let y,w=`/pin/${n||b}/`;if(f){const{carousel_slots:e=[],id:t,index:n}=f;w=`/pin/${b}/`,y={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}y={...y||{},...Object(r.f)(m,d)||{}};return i.a.createElement(o.b,{auxData:y,onClick:()=>{Object(s.a)(101,{...d,component:a||g.componentType,element:u,objectId:b,view:h||g.viewType,viewParameter:p||g.viewParameter,...Object(r.f)(m,d)||{}}),Object(l.d)()&&Object(s.a)(8948,{closeup_navigation_type:"click",view:h||g.viewType,viewParameter:p||g.viewParameter,component:a||g.componentType,element:u,objectId:b,...d,...Object(r.f)(m,d)||{}})},pinId:b,style:{cursor:"zoom-in",display:"block",...e},to:w},t)}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("dKiF");const r=Object(o.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:a,width:i})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:a,width:i})),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=i.a.createContext(l)},5871:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("Nle8"),l=n("E/VT"),s=n("R6wO"),c=n("1Fta"),d=n("Ye/N"),u=n("3gA6"),m=n("hFNL"),p=n("4cpq"),h=n("ANjH"),g=n("pSsd"),f=n("0bYG"),b=n("U4JR"),y=n("DJoW"),w=n("C0mq"),v=n("vvax"),_=n("n6mq"),E=n("eqXv");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={color:"white",textDecorationColor:"white"};class O extends i.a.Component{constructor(e){super(e),x(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:a,promoter:i,recommendationReason:o,sourceInterest:r}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:a,promoter:i,recommendationReason:o,sourceInterest:r})}),x(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:a}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",l="/"+n.username):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=a&&a.board&&a.board.url||e.url),o?i.a.createElement(_.d,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden"},i.a.createElement(_.T,{onTap:()=>this.props.history.push(l)},i.a.createElement(_.z,{height:40,wash:!0,width:40},i.a.createElement(_.u,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})))):null}),x(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:a}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:a})}),x(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?d.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),x(this,"generateUndoHideCallback",(e,t)=>()=>{const{dispatch:n,pinId:a,viewType:i,viewParameter:o}=this.props,r={...e,undo:!0};let l=t;"unfollowPinner"===t?l="followPinner":"unfollowBoard"===t?l="followBoard":"unfollowTopic"===t&&(l="followTopic"),Object(E.a)(l,r),n(Object(y.b)(a)),Object(b.a)(101,{component:0,element:11181,view:i,viewParameter:o})}),x(this,"feedbackHelpers",Object(c.a)({i18n:d.a,interpolateNamedTemplate:v.b})),x(this,"makeNavigateLink",(e,t,n,a)=>{const o={display:"inline",...a?T:{}};return i.a.createElement(u.b,{key:e,className:"underlineLink",onClick:this.props.onLinkClick,to:t},i.a.createElement(_.d,{dangerouslySetInlineStyle:{__style:o}},n))}),x(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:d.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:d.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),x(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:a,recommendationReason:i}=this.props,o="search"===n?973:982,{action:l,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:a,recommendationReasonId:i&&i.reason&&f.ReasonToChoose[i.reason],pinFeedbackType:"pfy"===n?4:10,throughId:i&&this.getThroughId(),clientTrackingParams:Object(r.a)(a)}),c=d.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:l,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:d.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:o}}),x(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:a}=this.props,{board:i,reason:o}=a,l=o&&f.ReasonToChoose[o],s=a&&this.getThroughId(),c="pfyBoard"===t,{action:u,actionOptions:m}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:l,pinFeedbackType:c?2:4,throughId:s,clientTrackingParams:Object(r.a)(n)}),p=i?this.makeNavigateLink("boardUrl",i.url,i.name,!0):"";return{action:u,actionOptions:m,feedbackText:{subTitle:c&&i?Object(v.b)(d.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:p}):d.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:c&&i?Object(v.b)(d.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:i.name}):d.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),x(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=this.makeNavigateLink("boardUrl",e.url,e.name,!0),n=Object(v.b)(d.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:e.name}),a=Object(v.b)(d.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:e.id},feedbackText:{title:"",subTitle:a},text:n,description:Object(v.b)(d.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:e.name}),elementType:10614}}),x(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:a}=e,i="/topics/"+a,o=this.makeNavigateLink("topicUrl",i,n,!0),r=Object(v.b)(d.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),l=Object(v.b)(d.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:g.a},feedbackText:{title:"",subTitle:l},text:r,description:Object(v.b)(d.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),x(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:a}=e,i="/"+n,o=this.makeNavigateLink("pinnerUrl",i,a,!0);return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(v.b)(d.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:o})},text:Object(v.b)(d.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:a}),description:d.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),x(this,"downloadPinOption",()=>({action:"downloadPin",text:d.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),x(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:a}=this.props,i="followed"===this.props.feedbackType,o=e.pathname.includes("following"),r=(i||"topic"===t)&&!o,l=this.hidePinOption(r),s=this.reportPinOption(),c="promoted"!==t&&!n;switch(t){case"followed":const e=o,n=!e&&this.getRecommendationDescription(),i=a.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[l,...r||e?[i]:[],..."promoted"!==t?[this.downloadPinOption()]:[],s]};case"promoted":const{ad_match_reason:u}=this.props,m=[l,{link:this.feedbackHelpers.getLearnMoreUrl(u),text:d.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},s];return{description:this.getRecommendationDescription(),options:m};case"topic":const p=this.unfollowTopicOption(),h=[l,...r&&p?[p]:[],...c?[this.downloadPinOption()]:[],s];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const g=[l,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...c?[this.downloadPinOption()]:[],s];return{description:this.getRecommendationDescription(),options:g};default:const f=[l,...c?[this.downloadPinOption()]:[],s];return{description:this.getRecommendationDescription(),options:f}}}),x(this,"handleSecondaryFeedbackItemClick",(e,t)=>{const{feedbackData:n,feedbackType:a,pinId:i,onHide:o,recommendationReason:r}=this.props,l=r&&r.reason&&f.ReasonToChoose[r.reason],s=r&&this.getThroughId(),{action:c,actionOptions:d}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:a,pinId:i,recommendationReasonId:l,throughId:s,complaintReason:e});this.handleClickLogging(t),Object(E.a)(c,d),o()}),x(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:d.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}),x(this,"renderSecondaryFeedbackItem",({text:e,reason:t,elementType:n})=>i.a.createElement(_.T,{fullWidth:!1,key:e,onTap:()=>this.handleSecondaryFeedbackItemClick(t,n)},i.a.createElement(s.a,{compact:!0,text:e}))),x(this,"renderSecondaryFeedback",()=>{const{feedbackType:e}=this.props,t="promoted"===e?[{text:d.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:d.a._("Seen Pin too many times","",""),reason:3,elementType:11172},{text:d.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898}]:[{text:d.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:d.a._("Not in a language I understand","",""),reason:15,elementType:11178},{text:d.a._("Seen Pin too many times","",""),reason:3,elementType:295},{text:d.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898},{text:d.a._("Other","",""),reason:8,elementType:11179}];return i.a.createElement(_.d,{overflow:"hidden",rounding:2,width:"100%"},i.a.createElement(_.d,{paddingX:4,paddingY:4},i.a.createElement(_.U,{color:"darkGray",size:"md"},d.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback","Title of follow up question after negative Pin feedback"))),i.a.createElement(_.n,null),i.a.createElement(_.d,{paddingY:2},t.map(this.renderSecondaryFeedbackItem)))});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(E.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,a){const{dispatch:i,onHide:o,pinId:r}=this.props;i(t&&n&&a?Object(y.e)(r,e,this.generateUndoHideCallback(n,a),this.getUndoText(a)):Object(y.a)(r,e)),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?o():(this.setState({showSecondary:!0}),i(Object(y.d)(r)))}getThroughId(){const{recommendationReason:e}=this.props;return e.reason_id?e.reason_id:e.board?e.board.id:e.pin?e.pin.id:e.interest?e.interest.id:""}getComponentType(){const{feedbackType:e}=this.props;switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}makeStrongText(e,t){return i.a.createElement("strong",{key:e},t)}handleClickLogging(e,t={}){const{viewParameter:n,viewType:a}=this.props;Object(b.a)(101,{...t,view:a,viewParameter:n,element:e,component:this.getComponentType()})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:a,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:c}=r,h=[],g=c.length;for(let f=0;f<g;f+=1){const r=c[f],g=E.b.includes(r.action),b=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,g,r.actionOptions,r.action);if("downloadPin"!==r.action)h.push(i.a.createElement(_.d,{key:f},r.link?i.a.createElement(p.a,{id:r.dataTestId||""},i.a.createElement(u.b,{external:!0,to:r.link},i.a.createElement(s.a,{compact:!0,text:r.text}))):i.a.createElement(_.T,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,b)},i.a.createElement(s.a,{compact:!0,text:r.text}))));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(m.b)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:c,pinCategory:u}=this.props;h.push(i.a.createElement(_.d,{key:f},i.a.createElement(l.a,{category:u,filename:r||c,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:a},e=>i.a.createElement(_.T,{fullWidth:!1,onTap:e},i.a.createElement(s.a,{compact:!0,text:d.a._("Download image","Button to download Pin image","Button to download Pin image")})))))}}return h}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{description:n}=e,a=this.getRecommendationDescriptionImage();return i.a.createElement(_.d,{overflow:"hidden",width:"100%"},t?this.renderSecondaryFeedback():i.a.createElement(_.d,null,n&&i.a.createElement(_.d,null,i.a.createElement(_.d,{alignItems:"center",display:"flex",padding:4},i.a.createElement(_.d,{maxHeight:56,overflow:"hidden"},i.a.createElement(_.U,{color:"darkGray",overflow:"normal",size:"md"},n)),a),i.a.createElement(_.n,null)),i.a.createElement(_.d,{marginBottom:3,marginTop:2},this.renderButtons())))}}t.a=Object(h.compose)(Object(o.connect)(),w.a)(O)},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return a}));const a={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"82UD":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ajUs"),l=n("ou9u"),s=n("gYog"),c=n("hFNL"),d=n("3gA6"),u=n("yKES"),m=n("5uyJ"),p=n("n6mq");const h={overlay:{__style:{backgroundColor:"#000"}}};function g(e){const{pin:{id:t,images:n,title:a,videos:o,video_status_message:r}}=e,l=r||{},s=n&&n["236x"],c=o&&o.video_list[m.a.V_HLSV4],{duration:g}=c||{};return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.h,null,i.a.createElement(d.b,{to:"/pin/"+t},i.a.createElement(p.d,{overflow:"hidden",position:"relative",rounding:2},s&&i.a.createElement(p.u,{alt:a||"",color:"lightGray",naturalHeight:s.height,naturalWidth:s.width,src:s.url}),!!g&&i.a.createElement(p.d,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},i.a.createElement(u.a,{duration:g})),i.a.createElement(p.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),i.a.createElement(p.d,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},i.a.createElement(p.r,{color:"white",overflow:"normal",size:"sm"},l.title),i.a.createElement(p.d,{marginTop:4},i.a.createElement(p.U,{color:"white",size:"md",overflow:"normal"},l.subtitle)))),i.a.createElement(p.d,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},i.a.createElement(p.d,{flex:"grow"},a&&i.a.createElement(p.d,{paddingY:1},i.a.createElement(p.U,{inline:!0,size:"md",weight:"bold"},a)))))))}var f=n("Y8Sn"),b=n("vpxy"),y=n("0nTG");t.a=Object(o.connect)((function({pins:e},{pin:t,pinId:n}){return{reduxPin:e[n]||t}}),()=>({}))((function({reduxPin:e,trackingParameters:t,...n}){const d=Object(o.useSelector)(({location:e})=>e),u=Object(r.a)(e,d),m=Object(l.a)(e),p=!!(m&&m.url&&m.height&&m.width)||void 0,h=m&&e.videos?e.videos.id:void 0,[w,v]=Object(a.useState)(!1),_=Object(a.useCallback)(()=>v(!0),[]),E=Object(a.useCallback)(()=>v(!1),[]),{componentType:x,contextLogData:T,impressionAuxFields:O,slotIndex:S,viewData:C,viewParameter:k,viewType:P}=t;return i.a.createElement(s.a,{componentType:x,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...T,...Object(y.f)(e,T)},impressionAuxFields:{...O||{},isNativeVideoAndWatchable:p,videoIdStr:h,clientTrackingParams:u||(e.tracking_params||"")+"-0",imageURL:e.images&&e.images["236x"].url,richTypes:Object(y.e)(e)},impressionType:"Pin",isPaused:!w,loggingId:e.id,slotIndex:S,viewData:C,viewParameter:k,viewType:P},Object(f.g)(e)?i.a.createElement(g,{pin:e}):i.a.createElement(b.a,Object.assign({},n,{debugImpressionState:w?"started":"paused",onError:E,onLoad:_,pin:e,trackingParameters:{componentType:x,contextLogData:T,slotIndex:S,viewParameter:k,viewType:P}})))}))},"8A+h":function(e,t,n){function a(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return a}))},"9WJf":function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("8A+h"),i=n("E58E"),o=n("zpPL");function r({action:e,board:t}){var n;const r=o.a.instance&&o.a.instance.getState()||{viewer:{}},{viewer:l}=r;return Object(a.a)(l,t)||Object(i.a)({board:t,viewer:l})&&!!(null===(n=t.collaborator_permissions)||void 0===n?void 0:n.includes(e))}},AyyZ:function(e,t,n){n.d(t,"a",(function(){return f}));var a=n("q1tI"),i=n.n(a),o=n("Cufx"),r=n("I7CA"),l=n("vcEN"),s=n("gYog"),c=n("3gA6"),d=n("n6mq");const u={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function m({productPin:e,isTopRow:t,disablePrice:n}){var a;if(!e)return null;const{title:o,description:r,images:l}=e||{},s=null===(a=e.rich_summary)||void 0===a?void 0:a.products,c=s&&s[0]||null,m=((null==c?void 0:c.offer_summary)||{}).price,p=l["474x"]||{};return i.a.createElement(d.z,{wash:!0,height:t?217:168,width:t?236:117},i.a.createElement(d.u,{alt:o||r,fit:"cover",naturalHeight:p.height,naturalWidth:p.width,src:p.url}),!!m&&!n&&i.a.createElement(d.d,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...u}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute"},m))}var p=n("tMjw"),h=n("U4JR");const g={container:{borderRadius:p.a,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function f({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:u}){const{action:p,id:f,objects:b,story_type:y,subtitle:w}=n,{text:v,url:_}=p,[E,x]=Object(a.useState)(!1),T=Object(a.useCallback)(()=>x(!0),[x]),O=Object(a.useCallback)(()=>x(!1),[x]),S=["related_domain_collage","related_products_collage"].includes(y)?1:0,C=b[0].domain;let k,P;const I={};I.story_type=y,["search_product_collage_story","shop_article_story"].includes(y)?(k=2,P=43,I.story_id=f,I.entered_query=t):"shop_brand_story"===y||"shop_brand_affinity_story"===y?(k=1,P=92,C&&(I.commerce_data=JSON.stringify({domain:C}))):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(y)?(k=72,P=3050):"related_domain_collage"===y?(k=72,P=3455):"related_products_collage"===y&&(k=1,P=3177);const j=w?5:3;let B,R;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(y)){const e=p.user;B=e&&(e.image_medium_url||e.image_large_url),R=e&&e.full_name}return i.a.createElement(s.a,{componentType:200,contextLogData:I||{},impressionType:"Story",loggingId:y,slotIndex:u,viewParameter:P,viewType:k},i.a.createElement(c.b,{to:e||_,onClick:()=>Object(h.a)(101,{element:372,component:200,view:k,viewParameter:P,story_type:y,...I||{}})},i.a.createElement(d.d,{overflow:"hidden",position:"relative",onMouseEnter:T,onMouseLeave:O,dangerouslySetInlineStyle:{__style:g.container}},i.a.createElement(d.d,{overflow:"hidden"},i.a.createElement(d.d,{dangerouslySetInlineStyle:{__style:g.content}},i.a.createElement(m,{productPin:b[S],isTopRow:!0,disablePrice:!(!R||!B)})),i.a.createElement(d.d,{display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:g.content}},i.a.createElement(m,{productPin:b[S+1]}),i.a.createElement(m,{productPin:b[S+2]}))),i.a.createElement(d.d,{color:"lightGray",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",paddingY:j},i.a.createElement(d.d,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2},w?i.a.createElement(d.d,{marginBottom:1},i.a.createElement(d.U,{align:"left",color:"gray"},w.format)):null,i.a.createElement(d.U,{align:"left",weight:"bold"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},v)))),R&&B&&i.a.createElement(d.d,{position:"absolute",left:!0,top:!0,margin:3},i.a.createElement(o.a,{name:R,size:"lg",src:B,outline:!0})),i.a.createElement(l.a,{visibility:E?"visible":"none"},i.a.createElement(r.a,{additionalStyles:g.visualOverlay})))))}},DBEV:function(e,t,n){var a=n("q1tI"),i=n.n(a);var o={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},l={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"},c=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.a.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",()=>this.setState({hovered:!0})),d(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t,accessibilityLabel:n}=this.props,a={height:e,width:e},d={border:0,display:"block",background:"transparent",cursor:"pointer",...s},u={...l,...o,...this.state.hovered?r:{}};return i.a.createElement("button",{"aria-label":n,type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e})},i.a.createElement("div",{style:{...a,...u}},i.a.createElement(c.d,{rounding:"circle"},i.a.createElement(c.s,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"}))))}}t.a=u},DJoW:function(e,t,n){function a(e,t,n,a){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:a}}}function i(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function o(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function r(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function l(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l}))},"E/VT":function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("28DW"),r=n("n6mq"),l=n("U4JR");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.a.Component{constructor(...e){super(...e),s(this,"state",{href:void 0}),s(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:a,pinId:i,viewParameter:r,viewType:s}=this.props,{href:c}=this.state;null==c&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(o.a)(`web.${a?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(l.a)(82,{objectId:i,view:s||3,viewParameter:r||139})}),s(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,a=null!=n&&n!==this.DOWNLOAD_ERROR;return i.a.createElement(i.a.Fragment,null,e(this.onEvent),a&&i.a.createElement(r.d,{display:"none"},i.a.createElement("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})))}}},E58E:function(e,t,n){function a({board:e,viewer:t}){const{collaborated_by_me:n}=e;return t.isAuth&&n}n.d(t,"a",(function(){return a}))},E8d4:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);class o extends a.Component{constructor(...e){var t,n,a;super(...e),a={errorIsCaught:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidCatch(){this.setState({errorIsCaught:!0})}render(){const{children:e}=this.props,{errorIsCaught:t}=this.state;return t?null:e}}function r({children:e,errorBoundaryName:t,fallback:n}){const r=n||null;return i.a.createElement(o,t?{name:t}:{},i.a.createElement(a.Suspense,{fallback:r},e))}},ELJR:function(e,t,n){n.d(t,"a",(function(){return p}));var a=n("q1tI"),i=n.n(a),o=n("KPZG"),r=n("xdpg");var l=n("gYog"),s=n("yjg8"),c=n("U4JR"),d=n("n6mq");const u=s.e;function m(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}function p({contextLogData:e,bubbles:t,id:n,referringSource:a,slotIndex:s,storyType:p,title:h,titleIcon:g,viewType:f,viewParameter:b}){const y=t.map(({type:e,id:t})=>e+":"+t).join("|");return i.a.createElement(l.a,{viewType:f,componentType:200,viewParameter:b,loggingId:n,contextLogData:{story_type:p,objectId:n,content_ids:y,...e},impressionType:"Story",slotIndex:s},i.a.createElement(d.d,null,h&&i.a.createElement(d.d,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center"},g&&i.a.createElement(d.d,{marginEnd:2},i.a.createElement(d.s,{accessibilityLabel:"",color:"darkGray",icon:m(g),size:24})),i.a.createElement(d.U,{size:"lg"},function({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return Object(r.f)(t,n)}(h))),t.map((e,t)=>i.a.createElement(d.d,{paddingY:1,key:"bubble-"+e.id,flex:"none"},i.a.createElement(o.a,{bubble:e,onClick:e=>{Object(c.a)(101,{objectId:e,view:f,viewParameter:b,component:200})},referringSource:a,height:103,width:u,storyId:n,viewType:f,viewParameter:b,slotIndex:t,contextLogData:{content_ids:y,story_type:p}})))))}},ENn1:function(e,t,n){var a=n("zpPL"),i=n("xjqW"),o=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:r,videos:l}=e,s=Object(o.e)(e),c=Object(o.f)(e);let d;if(Object(o.i)(l)&&l){const{video_list:e}=l,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{a.a.instance.dispatch(Object(i.b)({id:r,isProduct:s,isPromoted:c,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n("q1tI"),i=n.n(a),o=n("JW66"),r=n("BcL7"),l=n("ynlw"),s=n("Ye/N"),c=n("vvax"),d=n("VpfY"),u=n("n6mq");function m(e,t){var n,a;if(!t.isAuth)return!1;const i=Object(d.b)(e)||Object(d.d)(e),s=(null===(n=e.board)||void 0===n?void 0:n.privacy)===o.a.BoardPrivacy.PUBLIC&&!e.is_repin&&(null===(a=e.pinner)||void 0===a?void 0:a.id)===t.id,{isStoryPin:c}=Object(l.a)(e);return i||t.isPartner&&s||["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("web_ps4p"))&&c&&s}function p(e,t){return e?[{align:"start",displayText:s.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:s.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:s.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function h(e,t){const{isStoryPin:n,isVideo:a}=Object(l.a)(e),o=Object(d.b)(e),r=Object(d.d)(e)&&(n||!o)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,m=new Date(e.created_at),p=(new Date).getTime()-m.getTime(),h=Math.floor(p/36e5),g=r?r["24h_realtime"].is_realtime:null,f=r?r["24h_realtime"].timestamp:null;let b=null;r&&(b=n||a?r.all_time_realtime.timestamp:r["30d_realtime"].timestamp);const y=b!==f,w=e=>Object(c.b)(s.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),v={timeframe:"",lastUpdated:""};if(r)if(g){const e=r["24h_realtime"].impression>=(n||a?r.all_time_realtime.impression:r["30d_realtime"].impression);v.timeframe=e?s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||a?s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=s.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(y||h>48)if(n||a){const e=s.a.getHumanizedTimesince(r.all_time_realtime.timestamp);v.timeframe=s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),v.lastUpdated=w(e)}else{const e=s.a.getHumanizedTimesince(r["30d_realtime"].timestamp);v.timeframe=s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=w(e)}else{const e=s.a.getHumanizedTimesince(r["24h_realtime"].timestamp);v.timeframe=s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),v.lastUpdated=w(e)}else v.lastUpdated=s.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return i.a.createElement(u.d,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0},i.a.createElement(u.U,{align:"right",color:"gray",size:"sm"},v.lastUpdated),(n||["md","sm"].includes(t))&&!!r&&i.a.createElement(u.U,{color:"gray",inline:!0,size:"sm"}," ・"),i.a.createElement(u.U,{align:"right",color:"gray",size:"sm"},v.timeframe))}},Ep0g:function(e,t,n){n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],i=["US","GB","IE","NZ","AU","CA","FR","DE","AT","IT","ES","NL","BE","PT","CH","DK","SE","NO","FI"],o=["GB","IE","FR","DE","AT","IT","ES","NL","BE","PT","DK","SE","FI"],r=["US","CA"],l=e=>!!e&&o.includes(e.toUpperCase()),s=e=>!!e&&r.includes(e.toUpperCase()),c=e=>a.includes(e.toUpperCase()),d=e=>i.includes(e.toUpperCase()),u=e=>e.reduce((e,t)=>(e||0)+(t||0),0),m=(e,t,n)=>{const a={numDays:n};return t.forEach(t=>{if(e[t].length>=2*n){const i=u(e[t].slice(0,n)),o=u(e[t].slice(-n));a[t]={total:o,trend:i?(o-i)/i:0}}}),a},p=(e,t,n)=>{const a={numDays:n},i=e[n]||{},o=e[2*n]||{};return t.forEach(e=>{const t=i[e]||0,n=o[e]?o[e]-t:0;a[e]={total:t,trend:n?(t-n)/n:0}}),a}},ExRq:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("uVIr"),i=n("eOdZ"),o=n("qUSw"),r=n("i9se");const l={[r.a.BOARD_ACTIVITY]:"BoardActivityCommentResource",[r.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityNestedCommentResource"},s={[r.a.BOARD]:"boardId",[r.a.BOARD_ACTIVITY]:"activityId",[r.a.BOARD_ACTIVITY_COMMENT]:"activityId"};function c({contentMarkdown:e,imageSignatures:t,objectIds:n,parentId:c,parentType:d,text:u,tags:m,replyToCommentId:p}){return h=>{const g=l[d],f={[s[d]]:c,contentMarkdown:e,imageSignatures:t,objectIds:n,tags:m,text:u,replyToCommentId:p},b=r.b[d],y=d!==r.a.BOARD_ACTIVITY_COMMENT;return i.a.create(g,f).callCreate({showError:!0}).then(e=>{const t=e.resource_response.data;return h(function(e,t){return{type:"ACTIVITY_ITEM_CREATED",payload:{parentId:e,activityItem:t}}}(c,t)),h(Object(a.a)({feedId:c,feedType:b,itemIds:[t.id],itemType:t.type,prepend:y})),h(Object(o.b)(c)),e})}}},FF6m:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n.n(a);function o(e){const{name:t,resourceDependencies:n=(()=>[])}=e;return function(e){function a(t){return i.a.createElement(e,t)}return a.WrappedComponent=e,a.routeName=t,a.displayName="StaticRouteData",a.getResourceDependencies=n,a}}},Gx6I:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("eOdZ"),i=n("i9se");const o={[i.a.BOARD_ACTIVITY]:"BoardActivityReactionResource",[i.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityCommentReactionResource"};function r(e,t,n=1){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}function l(e,t,n){return o=>{const r=i.c[t],l={activityId:e,...n};return a.a.create(r,l).callUpdate().then(e=>{const t=e.resource_response.data;return o({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t})}}function s(e,t,n,i){return l=>{if(n===i)return;const s=o[t],c={activityId:e,reactionType:i},d=a.a.create(s,c);0===i?d.callDelete({showError:!1}):d.callUpdate({showError:!1}),0!==n&&l(r(e,!1,n)),0!==i&&l(r(e,!0,i))}}function c(e,t,n,i,l=0){return async s=>{const c=o[n];if(!i&&l>0){s(r(e,!1,l)),s(r(e,!0,t));const n={activityId:e,reactionType:l},i=a.a.create(c,n),o={activityId:e,reactionType:t},d=a.a.create(c,o);await i.callDelete({showError:!1}),d.callCreate({showError:!1})}else{const n={activityId:e,reactionType:t},o=a.a.create(c,n);i?o.callDelete({showError:!1}):o.callCreate({showError:!1}),s(r(e,!i,t))}}}},"HOY+":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("s+7V"),l=n("Ye/N"),s=n("jCsw"),c=n("qWlA"),d=n("CgR/"),u=n("U4JR"),m=n("n6mq");const p={__path:"M12,24c6.6274,0 12,-5.3726 12,-12c0,-6.62742 -5.3726,-12 -12,-12c-6.62742,0 -12,5.37258 -12,12c0,6.6274 5.37258,12 12,12zM8.9932,10.422c-0.3905,-0.39 -0.391,-1.023 -0.001,-1.414l3.002,-3.008l3.0125,3.0065c0.3905,0.3905 0.391,1.0235 0.001,1.4145c-0.39,0.3905 -1.023,0.3915 -1.414,0.001l-0.598,-0.5965v3.089c0,0.552 -0.448,1 -1,1c-0.5525,0 -1,-0.448 -1,-1v-3.0825l-0.588,0.589c-0.39,0.3905 -1.023,0.3915 -1.4145,0.001zM17.5,14.0001v3c0,0.552 -0.448,1 -1,1h-9c-0.552,0 -1,-0.448 -1,-1v-3c0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1v2h7v-2c0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1z"};var h=d.a.makeSendShareButton((function({handleSendShareFlyoutButtonClick:e,pinId:t,viewParameter:n,viewType:a}){return i.a.createElement(m.T,{onTap:({event:i})=>{i&&i.stopPropagation&&(i.preventDefault(),i.stopPropagation()),Object(u.a)(101,{element:98,objectId:t,view:a,viewParameter:n}),Object(c.a)(e)()},rounding:2},i.a.createElement(m.d,{display:"flex",justifyContent:"center",alignItems:"center",padding:2},i.a.createElement(m.d,{marginEnd:2},i.a.createElement(m.s,{accessibilityLabel:l.a._("Send","OrganicVideoEndCard.GridVideoShareButton.sendIcon","Button when pressed sends the video"),color:"white",dangerouslySetSvgPath:p,size:30})),i.a.createElement(m.U,{color:"white",truncate:!0,weight:"bold"},l.a._("Send","OrganicVideoEndCard.GridVideoShareButton.sendText","Clickable label when pressed opens share sheet after video is finished"))))}));const g={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"};function f({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:o,viewParameter:r,viewType:c,pinTitle:d,pin:u}){const{id:p,images:f}=u,b=Object(s.a)(f,"236x"),[y,w]=Object(a.useState)(!1);return i.a.createElement(m.u,{alt:d||l.a._("pin image","PinVideo.OrganicVideoEndCard.pinImage","image of a pin"),naturalHeight:t,naturalWidth:n,src:e},i.a.createElement(m.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,color:"transparentDarkGray"}),i.a.createElement(m.d,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+p},i.a.createElement(m.d,{marginBottom:6},i.a.createElement(h,{imageSrc:b,inModal:!1,isFlyoutOpen:y,onClick:()=>{},onToggleFlyout:()=>{w(!y)},onFlyoutDismiss:()=>{w(!1)},pinId:u.id,viewType:c,viewParameter:r,sendType:"pin",shownWithinMasonry:!0,showTransparentButton:!1})),i.a.createElement(m.T,{onTap:o,rounding:2},i.a.createElement(m.d,{display:"flex",justifyContent:"center",alignItems:"center",padding:2},i.a.createElement(m.d,{marginEnd:2},i.a.createElement(m.s,{accessibilityLabel:l.a._("Watch again","PinVideo.OrganicVideoEndCard.watchAgainIcon","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:g,size:30})),i.a.createElement(m.U,{color:"white",truncate:!0,weight:"bold"},l.a._("Watch again","PinVideo.OrganicVideoEndCard.watchAgainText","Button when pressed restarts the video"))))))}var b=n("qhFy");const y={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},w={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},v={overlay:{__style:{backgroundColor:"#000"}}};function _({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:a,pinTitle:o,pin:r}){const{id:s}=r;return i.a.createElement(m.u,{alt:o||l.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e},i.a.createElement(m.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:v.overlay}),i.a.createElement(m.d,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+s},i.a.createElement(m.T,{rounding:2},i.a.createElement(m.d,{display:"flex",justifyContent:"center",padding:2},i.a.createElement(m.s,{accessibilityLabel:l.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:w,size:25}),i.a.createElement(m.d,{margin:1}),i.a.createElement(m.U,{color:"white",truncate:!0,weight:"bold"},l.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")))),i.a.createElement(m.d,{margin:3}),i.a.createElement(m.T,{onTap:a,rounding:2},i.a.createElement(m.d,{display:"flex",justifyContent:"center",padding:2},i.a.createElement(m.s,{accessibilityLabel:l.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:y,size:25}),i.a.createElement(m.d,{margin:1}),i.a.createElement(m.U,{color:"white",truncate:!0,weight:"bold"},l.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"))))))}var E=n("51gp"),x=n("Y8Sn"),T=n("0SCs"),O=n("vZlu");const S=new Set(["ConversationView","TodayTabFeed"]);var C=Object(o.connect)(void 0,(e,t)=>({setCurrentVideo:t=>e(Object(O.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:o,lowResOnly:r,highResOnly:s,onLoad:c,onError:d,saved:u,onTimeChange:p,isExperimentalPinRep:h,pin:g,surface:y,playing:w,rootMargin:v,setCurrentVideo:O,viewType:C,viewParameter:k}){const{anyEnabled:P,customActivate:I,group:j}=Object(T.b)("web_growth_grid_share_after_video_view"),B="enabled"===j,R="enabled_with_two_plays"===j,D="enabled_with_three_plays"===j,[L,A]=Object(a.useState)(0),[M,U]=Object(a.useState)(!1),[V,H]=Object(a.useState)(!0),N=Object(x.f)(g),F=N&&!g.is_eligible_for_web_closeup,z=h&&(N?g.is_eligible_for_web_closeup:P)&&!S.has(y),G=D&&L<2||R&&L<1||F||!h||!N&&!P;let q=!w;e&&(q=V,t&&w&&V&&H(!1));const{url:W}=g.images["236x"]||{},{id:Y,is_promoted:X}=g,J=Object(a.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),A(0),O({pinId:Y,isPromoted:X,currentTime:0}),U(!1)},[X,Y,O,L]),K=Object(a.useCallback)(()=>{if("ConversationView"!==y&&h&&!X){const e=2===L&&D;(1===L&&R||e||B)&&U(z),I()}X&&U(z),A(e=>e+1)},[z,L]);if(!g.videos||!g.videos.video_list.V_HLSV4)return null;const{height:Z,thumbnail:$,width:Q,url:ee}=g.videos.video_list.V_HLSV4||{},te=g.videos.id,ne=[{type:"video/m3u8",src:ee}];if(M){if(N)return i.a.createElement(m.d,null,i.a.createElement(_,{backgroundImage:W,naturalHeight:Z,naturalWidth:Q,pin:g,onRestartVideo:J}));if(P)return i.a.createElement(f,{backgroundImage:W,naturalHeight:Z,naturalWidth:Q,pin:g,onRestartVideo:J,viewType:C,viewParameter:k})}return q?i.a.createElement(m.d,null,i.a.createElement(b.b,{lowResOnly:r,highResOnly:s,onLoad:c,onError:d,pin:g,saved:u})):i.a.createElement(m.d,null,i.a.createElement(E.a,{cropHeight:n,rootMargin:v,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:k,component:0,objectId:g.id,video_id:te,view:C},accessibilityMaximizeLabel:l.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:l.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:l.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:l.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:l.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:l.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:Q/Z,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:G,onTimeChange:p,playing:w,poster:W||$,src:ne,videoStartTime:o,volume:0,onEnded:K}))}));function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=Object(r.a)(C);class I extends i.a.Component{constructor(...e){super(...e),k(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:a}=t,i=Object(x.b)(a,n);return this.currentVideoCurrentTime||i||e}),k(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:a,pauseAutoplay:i,videosAutoplaying:o}=this.props,{id:r,is_promoted:l}=n,s=Object(x.j)(r,o),c=Object(x.a)(r,o);e?(l||c)&&a({pinId:r,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):!e&&s&&i({pinId:r,isPromoted:l,currentTime:t||this.currentVideoCurrentTime})}),k(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:a}=this.props,{id:i}=t;Object(x.j)(i,a)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:a,pauseAutoplay:i,pin:o,setCurrentVideo:r,videosAutoplaying:l}=this.props,{id:s,is_promoted:c}=o,d=Object(x.j)(s,l);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:s,isPromoted:c,currentTime:a||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:c,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:a}=this.props,{id:i,is_promoted:o}=n;Object(x.j)(i,a)&&t({pinId:i,isPromoted:o,currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:a,videosAutoplaying:o,viewParameter:r,viewType:l,highResOnly:s,lowResOnly:c,onError:d,onLoad:u,saved:m,inAdsDesktopVideoExperiment:p,isExperimentalPinRep:h,rootMargin:g}=this.props,{id:f}=n,b=Object(x.b)(f,o),y=Object(x.j)(f,o)&&t;return i.a.createElement(P,{cropHeight:e,rootMargin:g,currentTime:b,inAdsDesktopVideoExperiment:p,isAutoplay:t,viewParameter:r,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:a,playing:y,trackFullVisible:!1,highResOnly:s,lowResOnly:c,onError:d,onLoad:u,saved:m,isExperimentalPinRep:h})}}t.a=Object(o.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(O.a)(t)),setCurrentVideo:t=>e(Object(O.c)(t))}))(I)},J8Pj:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return l}));const a=350,i=316,o=370,r=2,l=235},KNE1:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);n("QLaP"),n("17x9");class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:n,...a}=e,r=String(t||"")||n||"";return!!r?i.a.createElement("style",Object.assign({},a,{dangerouslySetInnerHTML:{__html:String(o.factory(r))}})):null}},KPZG:function(e,t,n){n.d(t,"b",(function(){return T}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("Cufx"),l=n("gYog"),s=n("3gA6"),c=n("DBEV"),d=n("Ye/N"),u=n("TiQD"),m=n("xjqW");var p=({id:e,viewParameter:t,viewType:n})=>Object(m.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),h=n("eOdZ"),g=n("CvCA"),f=n("nGHF"),b=n("n6mq");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.a.PureComponent{constructor(...e){var t;super(...e),t=this,y(this,"state",{showModal:!1,reportType:null}),y(this,"handleDismiss",()=>this.setState({showModal:!1})),y(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),y(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await h.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),y(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>i.a.createElement(g.a,{onHide:e,text:d.a._("Thanks for your report! This will be reviewed by our Trust and Safety Team","Toast after reporting a trending search suggestion","Toast after reporting a trending search suggestion")})),this.handleDismiss())}),y(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{accessibilityLabel:d.a._("Report","Accessibility label for report icon for trending search suggestion","Accessibility label for report icon for trending search suggestion"),onClick:this.showModal,backgroundHaloSize:24}),e&&i.a.createElement(u.b,{accessibilityModalLabel:d.a._("Report search term","accessible label for report trending suggestion modal","accessible label for report trending suggestion modal"),heading:d.a._("Report search term","Heading for report trending suggestion modal","Heading for report trending suggestion modal"),onDismiss:this.handleDismiss,size:"sm"},i.a.createElement(b.d,null,i.a.createElement(b.d,{padding:5},i.a.createElement(b.U,null,d.a._("When you flag this, our Trust and Safety team will review it. If it doesnt meet our Community Guidelines, it will be blocked.","What will happen when you report a trending suggestion","What will happen when you report a trending suggestion"))),i.a.createElement(b.d,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5},i.a.createElement(b.d,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},i.a.createElement(b.G,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report trending search text"}),i.a.createElement(b.d,{flex:"grow"},i.a.createElement(b.v,{htmlFor:"textType"},i.a.createElement(b.d,{paddingX:2},i.a.createElement(b.U,null,"Report trending search text"))))),i.a.createElement(b.d,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},i.a.createElement(b.G,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report trending search image"}),i.a.createElement(b.d,{flex:"grow"},i.a.createElement(b.v,{htmlFor:"imageType"},i.a.createElement(b.d,{paddingX:2},i.a.createElement(b.U,null,"Report trending search image")))))),i.a.createElement(b.n,null),i.a.createElement(b.d,{display:"flex",justifyContent:"end",padding:2},i.a.createElement(b.d,{margin:2},i.a.createElement(b.e,{onClick:this.handleDismiss,text:d.a._("Cancel","Text for cancel button when reporting trending search suggestion","Text for cancel button when reporting trending search suggestion")})),i.a.createElement(b.d,{margin:2},i.a.createElement(b.e,{color:"red",onClick:this.handleClick,text:d.a._("Report","Button label to report trending search suggestion","Button label to report trending search suggestion"),disabled:!this.state.reportType}))))))}}var v=Object(o.connect)(null,(e,t)=>({reportImage:n=>e(p({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(f.c)(w)),_=n("zwad"),E=n("xdpg");const x={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},T=({storyCategory:e,query:t,referringSource:n,bubbleId:a,storyId:i})=>{const o=[0,24,21,25,26].includes(e),r=_.a.getQueryStringFromObject({q:t,rs:n||void 0,b_id:a,source_id:i});return o?"/discover/article/"+a:"/search/pins/"+(r?"?"+r:"")};t.a=Object(o.connect)((function({viewer:e}){return{viewer:e}}),()=>({}))((function({bubble:e,height:t,storyId:n,width:o,onClick:c,referringSource:d,contextLogData:u,viewType:m,viewParameter:p,slotIndex:h,handleReport:g,showFlag:f,imgSignature:y,onMouseEnter:w,onMouseLeave:_,isHovered:O,viewer:S}){const[C,k]=Object(a.useState)(!1),{id:P,action:I,cover_images:j,dominant_colors:B,title:R,story_category:D,curator:L}=e,A=j[0]&&(j[0]["280x280"]||j[0]["236x"]),M=Object(E.i)(R&&R.format||"",R&&R.args||{}),U=B&&B.length?B[0]:"gray",V=(null==I?void 0:I.url)||T({storyCategory:D,query:M,referringSource:d,bubbleId:P,storyId:n});return i.a.createElement(l.a,{impressionAuxFields:{storyCategory:D,storyIdStr:n},impressionType:"Article",loggingId:P,viewType:m,viewParameter:p,slotIndex:h,contextLogData:{story_id:n,...u}},i.a.createElement(b.d,null,i.a.createElement("div",{onMouseEnter:()=>{w?w():k(!0)},onMouseLeave:()=>{_?_():k(!1)}},i.a.createElement(s.b,{to:V,onClick:()=>{c&&c(P)}},i.a.createElement(b.z,{rounding:4},i.a.createElement(b.d,{width:o||"100%",height:t,dangerouslySetInlineStyle:{__style:{backgroundColor:U}}},A&&i.a.createElement(b.u,{alt:M,color:U,fit:"cover",naturalHeight:A.height,naturalWidth:A.width,src:A.url})),i.a.createElement(b.d,{height:t,width:o||"100%",dangerouslySetInlineStyle:{__style:O||C?x.hoverOverlay:A&&x.bubbleOverlay},position:"absolute",top:!0,left:!0}),L&&26!==D&&i.a.createElement(b.d,{position:"absolute",top:!0,left:!0,padding:2},i.a.createElement(r.a,{outline:!0,size:"xs",src:L.image_small_url,name:L.full_name})),i.a.createElement(b.d,{display:"flex",height:t,width:o||"100%",position:"absolute",top:!0,padding:3,alignItems:26===D?"end":"center",justifyContent:"center"},i.a.createElement(b.d,{display:"flex",direction:"column"},t>200?i.a.createElement(b.r,{size:"md",align:"center",color:"white"},M):i.a.createElement(b.U,{align:"center",color:"white",weight:"bold"},M),L&&26===D&&i.a.createElement(b.d,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4},i.a.createElement(b.d,{marginEnd:2},i.a.createElement(r.a,{outline:!0,size:"xs",src:L.image_small_url,name:L.full_name})),i.a.createElement(b.U,{size:"sm",color:"white"},L.full_name)))),S.isAuth&&S.isEmployee&&f&&(O||C)?i.a.createElement(b.d,{position:"absolute",bottom:!0,right:!0,marginBottom:1},i.a.createElement(v,{handleReport:g,viewType:m,viewParameter:p,imgSignature:y||""})):null)))))}))},L2iP:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return m}));const a=64,i=80,o=22,r="HeaderContent",l="unauthEuCookieBar",s=4,c=24,d=671,u={marginBottom:s},m={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},N89m:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("ynlw"),i=n("0nTG");function o(e){const{isProduct:t}=Object(a.a)(e);return t&&Object(i.c)(e)||""}},NwjN:function(e,t,n){var a=n("q1tI");t.a=Object(a.createContext)(0)},RHD0:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n("RNo4"),i=n("Ep0g"),o=n("0S8y");n("fAMq");const r=(e,t)=>Object.keys(t).filter(n=>{const a=t[String(n)];return(a.pinner||{}).id===e.id&&!a.is_repin}).map(e=>t[e]),l=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),s=(e,t)=>!(!e||!e.isAuth)&&Object(i.d)(e.country),c=e=>e.isAuth&&!e.isPartner&&!Object(o.e)({user:e})&&!Object(o.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(a.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},RwJG:function(e,t,n){t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},T5j3:function(e,t,n){function a(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function i(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function o(e){const{videos:t,is_downstream_promotion:n,is_promoted:a,story_pin_data_id:i,board:o}=e;return!(a||n||(!t||!t.id)&&!i||(null==o?void 0:o.is_collaborative)&&o.collaborated_by_me)}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},TOi3:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("US8k"),l=n("oRao"),s=n("n6mq");function c({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(r.a)(e):i.a.createElement(l.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):i.a.createElement(s.Y,{idealDirection:"up",text:o.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet")},"—")}},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return b}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ENn1"),l=n("jCsw"),s=n("Ye/N"),c=n("5871"),d=n("Zxas"),u=n("kVqD"),m=n("YxyV"),p=n("DJoW"),h=n("Y8Sn"),g=n("gD/Z"),f=n("n6mq");function b({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:o,pin:p,pinTitle:b,setForcePrimary:y,transparentBackground:w}){const{slotIndex:v,viewParameter:_,viewType:E}=Object(g.b)(),[x,T]=Object(a.useState)(!1),[O,S]=Object(a.useState)(),{ad_match_reason:C,board:k,category:P,description:I,id:j="",images:B,is_promoted:R,pinner:D,promoter:L,recommendation_reason:A,source_interest:M,videos:U}=p;var V;const H=(V=R?60:50,function(e){return Object(d.a)((e||"").trim(),V)})(I),N=Object(l.a)(B,"236x"),F=Object(h.i)(U),z=Object(u.a)(101,{component:0,element:981,feedback_type:t,objectId:j}),G=()=>{y(!1),n(),T(!1)},q=1===v&&o;return i.a.createElement(a.Fragment,null,i.a.createElement(f.d,{"data-test-id":"feedback-button",ref:S},i.a.createElement(f.t,{accessibilityLabel:s.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:w?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{x?G():(y(!0),T(!0)),z()},size:"sm"})),x&&i.a.createElement(f.w,null,i.a.createElement(f.p,{anchor:O,idealDirection:"right",onDismiss:G,positionRelativeToAnchor:!1,size:"md"},i.a.createElement(c.a,{ad_match_reason:C,bestPinImgSrc:Object(m.d)(p),board:k,feedbackData:e,feedbackType:t,hideDownload:F,isHomefeedContextualMenuTooltip:q,onLinkClick:()=>{x&&G()},onHide:G,onDownloadHideFlyout:()=>{y(!1),T(!1)},pinCategory:P,pinDescription:H,pinId:j,pinImgSrc:N,pinner:D,pinTitle:b,promoter:L,recommendationReason:A,reportPin:Object(r.a)({pin:p,viewParameter:_,viewType:E}),sourceInterest:M,viewParameter:_,viewType:E}))))}t.default=Object(o.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(p.c)(t.id))}}}))(b)},U4JR:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("m2Wt"),i=n("h4v/"),o=n("ajUs"),r=n("zpPL");function l(e,t={}){const n=i.a.getInstance(),l=r.a.instance.getState(),{element:s,eventData:c,component:d,objectId:u,view:m,viewParameter:p,viewData:h,durationNs:g,pairId:f}=t;let b=t.clientTrackingParams;if(!b&&l.pins){const e=l.pins[u],t=l.location;e&&(b=Object(o.a)(e,t)||e.tracking_params+"~0")}!function(e,t={}){e.advertiser&&e.advertiser.id&&(t.advertiser_id=e.advertiser.id),e.adminUser&&e.viewer&&e.viewer.username&&(t.sterling_on_steroids_ldap=e.adminUser,t.viewed_user=e.viewer.username)}(l,t),delete t.element,delete t.eventData,delete t.component,delete t.objectId,delete t.view,delete t.viewParameter,delete t.viewData,delete t.durationNs,delete t.pairId,delete t.clientTrackingParams;const y=a.a.fromEventType(e);y.setElement(s),y.updateEventData(c),y.setComponent(d),u&&y.setObjectIdStr(u),y.setDurationNs(g),y.updateAuxData(t),y.setViewType(m),y.setViewParameter(p),y.setViewData(h),y.setPairId(f),y.setClientTrackingParams(b),n.addEvent(y)}},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/wow-3cb697ef.svg"},VJm5:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ZbwW"),l=n("Ye/N"),s=n("gYog"),c=n("qhFy"),d=n("n6mq"),u=n("yjg8");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{constructor(...e){super(...e),m(this,"state",{showBadge:!0}),m(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:a}=this.state,{carousel_slots:o,index:r}=e,l=a?.8:0;return!t&&n?i.a.createElement(d.d,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:l,transition:"opacity .3s"}}},i.a.createElement(d.U,{color:"white"},`${r+1}/${o.length}`)):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:a}=this.props;if(!n||!a)return;const{index:i}=n,{index:o}=a;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),i!==o&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:a=0,cropHeight:o,cropWidth:r,carouselData:m,highResOnly:p,lowResOnly:h,onError:g,onLoad:f,pinId:b,isEditMode:y,isDenseView:w}=this.props;if(!m)return null;const{carousel_slots:v=[],index:_}=m,E=void 0!==t?t:_,x=!e&&r,{images:T}=v[E];let O;O=e?a:x||(p?474:w?u.f:u.e);const S=T["236x"]||{},C=S.height||0,k=S.width||236,P=n||C/k*O;return i.a.createElement(d.d,{height:P,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.a},!y&&this.renderBadge(),i.a.createElement(s.a,{trackCarousel:!0,key:"carousel-impression-key-"+E,impressionType:"Pin",loggingId:b,slotIndex:_,viewParameter:72,viewType:1},i.a.createElement(d.d,{position:"absolute",height:P,width:O,overflow:"hidden"})),i.a.createElement(d.d,{width:O*v.length,dangerouslySetInlineStyle:{__style:{left:E*O*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative"},v.map((t,s)=>((e,t,n,a,o,r,s,c,u,m,p,h,g,f)=>{const{images:b,details:y=""}=e;let w,v=236,_=236,E="";c?(v=u||0,_=m||0,E=b&&(b["564x"]&&b["564x"].url||b["736x"]&&b["736x"].url||b["236x"]&&b["236x"].url)):a?(v=474,_=b&&Math.min(v/.8,v/(b["564x"].width/b["564x"].height)),E=b&&b["564x"].url):b&&b["736x"]?(_=b&&b["736x"]&&b["736x"].height,v=b&&b["736x"]&&b["736x"].width,E=b&&b["736x"]&&b["736x"].url):b&&b["236x"]&&(_=b&&b["236x"]&&b["236x"].height,v=b&&b["236x"]&&b["236x"].width,E=b&&b["236x"]&&b["236x"].url),g&&f&&(_=Math.min(g*f,_)),w=o?b["236x"].url+" 1x":a?b["564x"].url+" 1x":[b["474x"]&&b["474x"].url+" 2x",b["736x"]&&b["736x"].url+" 3x",b.orig&&b.orig.url+" 4x"].filter(Boolean).join(", ");const x=y||`${l.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return i.a.createElement(d.d,{key:`carousel-slot-${t}-${n}`,height:h?void 0:_,width:h?void 0:v},i.a.createElement(d.d,{height:h?p:void 0,width:h||void 0},i.a.createElement(d.u,{alt:x,fit:h?"cover":"none",naturalHeight:_,naturalWidth:v,onError:r,onLoad:s,src:E,srcSet:w})))})(t,b,s,p,h,g,f,e,a,n,o,r,P,O))))}}m(p,"defaultProps",{showCarouselBadge:!0});t.a=Object(o.connect)(({pins:e},{pinId:t})=>{const n=e[t];return{carouselData:Object(r.a)(n)}},()=>({}))(p)},VpfY:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return h}));var a=n("RHD0"),i=n("7jH2"),o=n("Y8Sn");function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function l(e){var t,n;return!Object(o.i)(e.videos)&&!Object(o.h)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n?void 0:n.is_realtime)}function d(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function u(e){const{native_creator:t,pinner:n,domain:a}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===a)&&!e.is_promoted||t}function m(e,t){const{is_native:n,native_pin_stats:a}=e,o=a||{},r=Object(i.p)({pin:e}),{video:c}=Object(i.x)(r)||{};return u(e)||d(e)||n&&c&&e&&e.link||Object.keys(o).length>0&&!l(e)&&!s(e)||e.promoter&&e.is_promoted&&!t}function p(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>Object(a.b)(e)&&t.is_quick_promotable_by_pinner},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("zwad"),r=n("n6mq");const l={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==o.a.getQueryStringParams().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:i.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:l.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5},i.a.createElement(r.d,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray"},i.a.createElement(r.U,{color:"white"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},t))))}},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/haha-e2800d2d.svg"},XPo3:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const a=424,i=800,o=508,r=424,l=278,s=640,c=508,d=1016,u=508},XSD5:function(e,t,n){function a(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return a}))},YxyV:function(e,t,n){n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return f}));var a=n("yjg8"),i=n("9Hsp"),o=n("wzxk");const r=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),s=e=>"ja"===e?23:19,c=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let a=27;"ja"===t&&(a=14);const i=l().maxNumTitleLines;n=Math.floor(e.length/a)+1,n>i&&(n=i)}return n})(e,t);return s(t)*n}return 0},d=e=>Object(o.c)(e),u=(e,t=!1)=>e&&e.length>0&&!t,m=(e,t,n,a)=>{let o=0;const{description:r,vaseAnnotations:s}=d(e),c=l();if(((e,t,n,a,i=!0)=>{if(!n)return null;if(i)return!u(t)&&t&&t.length>0;return!1})(0,s,e)&&(o+=c.seeMoreButtonHeight,o+=c.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(o+=c.productSiteTitle,o+=c.productSiteTitleTopMargin),u(s,a)&&(o+=c.vaseCarouselHeight),!a){const e=(e=>{let t=0;if(e){e=Object(i.a)(e);const n=35,a=l().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>a&&(t=a)}return t})(r);o+=c.descriptionVerticalMargin+c.descriptionLineHeight*e}return e.pinner&&e.board&&(o+=28),o},p=(e,t,n,a=!1,i,r)=>{const l=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(o.b)(e);return c(n,t)+10})(e,t):0,s=a?0:m(e,0,0,i);return l||s?s+l+10:0},h=(e,t="orig")=>{const n=["orig","736x","564x","474x","236x","170x"];let a=e.images[t];if(a)return a;{const i=n.indexOf(t);if(i>=0)for(let t=i+1;t<n.length;t+=1){const i=n[t];if(a=e.images[i],a)return a}}return e.images["236x"]};function g(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let a=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;a=t&&t[n]&&t[n].images||a}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!a){const e=a,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const f=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const r=h(e,"orig");if(r){const e=Math.floor(r.height*a.e/r.width);i=e>o?o:e}return i}},a5kZ:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("n6mq");function l({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:a}){return i.a.createElement(r.T,{onTap:()=>{n?t():a()},rounding:"pill",accessibilityLabel:o.a._("Filter","productsFilterButton","Button to filter products results")},i.a.createElement(r.d,{display:"flex",justifyContent:"center",alignContent:"center",color:"lightGray",rounding:"pill",minHeight:40},i.a.createElement(r.d,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:40,paddingX:4},i.a.createElement(r.d,{marginEnd:3},i.a.createElement(r.s,{accessibilityLabel:"",icon:"filter",color:"darkGray"})),i.a.createElement(r.U,{align:"center",color:"darkGray",weight:"bold"},e))))}},b9Z9:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("n6mq");function r({isHorizontalDesign:e}){return e?i.a.createElement(o.d,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},i.a.createElement(o.d,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),i.a.createElement(o.d,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.d,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),i.a.createElement(o.d,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.d,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})):i.a.createElement(o.d,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},i.a.createElement(o.d,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),i.a.createElement(o.d,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.d,{display:"flex",height:136,direction:"column",flex:"grow"},i.a.createElement(o.d,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),i.a.createElement(o.d,{color:"white",height:"2px",flex:"none"}),i.a.createElement(o.d,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})))}var l=n("Ye/N");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends a.PureComponent{constructor(...e){super(...e),s(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),s(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),s(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,a={transition:"opacity 500ms",opacity:n[t]?1:0};return i.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:a},color:"white",height:"100%",width:"100%"},!!e&&i.a.createElement(o.u,{naturalHeight:1,src:e,fit:"cover",alt:l.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)}))}),s(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,a=[...t];a[e]=!0,n&&this.setState({isLoaded:a})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?i.a.createElement(o.d,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0)):2===t.length?i.a.createElement(o.d,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0),i.a.createElement(o.d,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)):e?i.a.createElement(o.d,{height:"100%",width:"100%",display:"flex",direction:"row"},i.a.createElement(o.d,{height:"100%",width:"100%"},this.getImage(t[0],0)),i.a.createElement(o.d,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.d,{height:"100%",width:"100%"},this.getImage(t[1],1)),i.a.createElement(o.d,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.d,{height:"100%",width:"100%"},this.getImage(t[2],2))):i.a.createElement(o.d,{height:"100%",width:"100%",display:"flex",direction:"row"},i.a.createElement(o.d,{height:"100%",flex:"grow"},this.getImage(t[0],0)),i.a.createElement(o.d,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.d,{display:"flex",height:136,direction:"column",flex:"grow"},i.a.createElement(o.d,{width:"100%",flex:"grow"},this.getImage(t[1],1)),i.a.createElement(o.d,{color:"white",height:"2px",flex:"none"}),i.a.createElement(o.d,{width:"100%",flex:"grow"},this.getImage(t[2],2)))),i.a.createElement(o.d,{height:136,display:"flex",direction:"column"},i.a.createElement(o.d,{width:"100%",position:"relative",flex:"grow"},i.a.createElement(r,{isHorizontalDesign:e}),n,i.a.createElement(o.d,{dangerouslySetInlineStyle:c,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})))}}var u=n("Cufx"),m=n("3gA6"),p=n("U4JR");function h(e,t){Object(p.a)(101,{view:e,viewParameter:t,component:13406,element:11373})}var g=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:a,url:r,userFullName:l,viewParameter:s,viewType:c}=e,d=a?80:86;return i.a.createElement(o.d,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:a?-58:-64,marginLeft:a?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle"},i.a.createElement(o.d,{flex:"none",height:d,width:d},i.a.createElement(m.b,{onClick:h(c,s),to:r,stopPropagation:!0},i.a.createElement(u.a,{name:l,src:t,verified:n}))))},f=n("Zxas");function b({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:a,numLines:r}){const l=r*t,s=Object(f.a)(e,l);return n?i.a.createElement(o.U,{align:a?"left":"center",overflow:"normal",size:"md",weight:"bold"},s):i.a.createElement(o.U,{align:a?"left":"center",overflow:"normal",size:"md",weight:"normal",color:a?"darkGray":"gray"},s)}function y({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:a}){const r=e||t,l={placeholder:{__style:{transition:"opacity 200ms",opacity:r?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:r?1:0}}};return i.a.createElement(o.d,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column"},i.a.createElement(o.d,{height:18,width:"100%"},i.a.createElement(o.U,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold"},a)),i.a.createElement(o.d,{marginTop:2,overflow:"hidden",position:"relative",width:"100%"},i.a.createElement(o.d,{alignItems:"center",dangerouslySetInlineStyle:l.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},i.a.createElement(o.d,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),i.a.createElement(o.d,{height:6,flex:"none"}),i.a.createElement(o.d,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})),n&&!!t&&i.a.createElement(o.d,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",marginTop:-1},i.a.createElement(b,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})),n&&!!e&&i.a.createElement(o.d,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",marginTop:2},i.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})),!n&&!!r&&i.a.createElement(o.d,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%"},i.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:r}))))}var w=n("/MKj"),v=n("oRao"),_=n("vvax");function E({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:a,userFollowed:r}){return a?Object(_.b)(l.a._("{{ followCount }} {{ followText }}"),{followCount:i.a.createElement(o.d,{"data-test-id":"followCount",display:"inlineBlock",key:"followCount",marginEnd:1,opacity:r?void 0:.8},i.a.createElement(o.U,{color:r?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold"},i.a.createElement(v.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:i.a.createElement(o.d,{"data-test-id":"followText",display:"inlineBlock",key:"followText"},i.a.createElement(o.U,{weight:"bold",color:r?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}):i.a.createElement(o.d,{"data-test-id":"followText",key:"followText"},i.a.createElement(o.U,{weight:"bold",color:r?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}var x=n("CvCA"),T=n("nGHF"),O=n("ZVOf");var S=Object(w.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(O.a)(t)),unfollow:t=>e(Object(O.b)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:r,id:s,viewParameter:c,viewType:d,fullName:u,imageUrl:m,profileUrl:h}){const{showOneToast:g}=Object(T.b)(),f=a?l.a._("Following","User follow button","User follow button"):l.a._("Follow","User follow button","User follow button"),b=e=>Object(p.a)(e,{view:d,viewParameter:c,component:13406,element:11372});return i.a.createElement(o.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative"},i.a.createElement(o.T,{onTap:()=>{a?(Object(O.b)(s),b(46)):(r(s),b(45),g(({onHide:e})=>i.a.createElement(x.a,{onHide:e,text:i.a.createElement(i.a.Fragment,null,i.a.createElement(o.U,{color:"white"},l.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")),i.a.createElement(o.U,{color:"white",weight:"bold"},u)),href:h,imageUrl:m})))},rounding:"pill"},i.a.createElement(o.d,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill"},i.a.createElement(E,{followerCount:e,followText:f,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a}))))}));function C({avatarUrl:e,description:t,domainUrl:n,followerCount:a,id:r,isCreator:l,isHorizontalDesign:s,isVerified:c,userFullName:d,username:u,viewParameter:m,viewType:p}){const h=function(e){return"/"+e}(u);return i.a.createElement(o.d,{alignItems:s?"start":"center",display:"flex",direction:"column",paddingX:s?5:6,paddingY:s?3:4,marginTop:2,width:"100%"},i.a.createElement(g,{avatarUrl:e,isHorizontalDesign:s,isVerified:c,url:h,userFullName:d,viewType:p,viewParameter:m}),s&&i.a.createElement(o.d,{position:"relative",width:"100%"},i.a.createElement(o.d,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0},i.a.createElement(S,{fullName:d,followerCount:a,id:r,imageUrl:e,isHorizontalDesign:s,profileUrl:h,showFollowerCount:l})),i.a.createElement(o.d,{width:"100%",display:"flex",left:!0,marginTop:1},i.a.createElement(y,{description:t,domainUrl:n,isHorizontalDesign:s,userFullName:d}))),!s&&i.a.createElement(o.d,{width:"100%"},i.a.createElement(y,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:s}),i.a.createElement(o.d,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(S,{followerCount:a,fullName:d,id:r,imageUrl:e,isHorizontalDesign:s,profileUrl:h,showFollowerCount:l}))))}var k=n("TiQD");const P=24;function I({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const a=n?320:236,{left:r,top:l,width:s,height:c}=e.getBoundingClientRect(),d=r+window.pageXOffset,u=l+window.pageYOffset,m=d+s+a+12>window.innerWidth,p={left:m?d:d+s,top:u+c/2},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:m?-12-a:12,top:-a/2-44},g={top:-12,left:-12,fill:"white"},f=m?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return i.a.createElement(o.d,{position:"absolute",zIndex:k.a,dangerouslySetInlineStyle:{__style:p}},i.a.createElement(o.d,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:a,overflow:"hidden"},t),i.a.createElement(o.d,{position:"absolute",dangerouslySetInlineStyle:{__style:g}},i.a.createElement("svg",{width:P,height:P},i.a.createElement("path",{d:f}))))}var j=n("eOdZ"),B=n("LT60"),R=n("joD6"),D=n("ANjH"),L=n("/5zs"),A=n("pLLR");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends a.PureComponent{constructor(e){super(e),M(this,"anchorRef",i.a.createRef()),M(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(j.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),j.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),j.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),M(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),M(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),M(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:a}=this.props,{currentPinId:i,isLoaded:o,isMounted:r}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&i!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const l=new L.b(n,"web_avatar_hover_cards_v2");156!==a&&0!==a||e||!(l.check("enabled")||l.check("enabled2_vertical")||l.check("enabled2_horizontal"))?r&&this.setState({isVisible:!1}):(o||this.loadUser(),this.openTimeout=setTimeout(()=>{r&&this.setState({isVisible:!0})},300))}),M(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:a}=t,i={user:{}};return n&&(i.user=n),a&&(i.user={...i.user,...a}),i}render(){const{avatarSize:e,children:t,requestContext:n,username:a,viewer:r,viewParameter:l,viewType:s}=this.props,{isVisible:c,showcase:u,user:m,userPins:p}=this.state,{about:h,domain_url:g,follower_count:f,full_name:b,id:y,image_medium_url:w,show_creator_profile:v,verified_identity:_}=m||{},E=r.id===y,x=!!_&&_.verified,T=new L.b(n,"web_avatar_hover_cards_v2").checkWithNoActivation("enabled2_horizontal");return i.a.createElement(o.d,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard},i.a.createElement(o.d,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative"},i.a.createElement(o.d,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t),!E&&!!m&&!!a&&c&&i.a.createElement(o.d,null,i.a.createElement(B.a,null,i.a.createElement(o.w,null,i.a.createElement(I,{anchor:this.anchorRef.current,isHorizontalDesign:T},i.a.createElement(o.d,{color:"white",zIndex:k.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%"},i.a.createElement(o.d,{width:"100%"},i.a.createElement(d,{isHorizontalDesign:T,userPins:p,showcase:u}),i.a.createElement(C,{avatarUrl:w,description:h,domainUrl:g,followerCount:f,id:y,isCreator:v,isHorizontalDesign:T,isVerified:x,userFullName:b,username:a,viewParameter:l,viewType:s}))))))))}}t.a=Object(D.compose)(A.e,R.a)(U)},c0rk:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),o=n("L2iP"),r=n("n6mq"),l=n("qYux"),s=n("0Rm8"),c=n("pIlY");function d({children:e,className:t,forwardRef:n,position:d,shouldShowShadow:u=!1,style:m={},top:p}){const{setIsContentHeaderPresent:h}=Object(l.b)();Object(a.useEffect)(()=>(h(!0),function(){h(!1)}),[]);const{currentScrollPosition:g,isScrolled:f,setSubheaderShadow:b}=Object(c.c)();Object(a.useEffect)(()=>(u&&b("contentHeader"),()=>{u&&b(null)}),[u]);let y=!1;"pending"!==p&&(y=null!=p?g>=p:f);const w=Object(s.b)(),v="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,_=i.a.createElement("div",{className:t,ref:n,style:{...m,top:w,...y&&u?{...o.f,zIndex:499}:{},...d&&"sticky"!==d?{position:d}:{}}},e);return"sticky"===d?i.a.createElement(r.P,{top:v?0:w},_):_}},dKiF:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l}));const a=(e,t)=>e.length===t.length&&e.every((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every(n=>e[n]===t[n])}return e===t}(e,t[n])),i=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),o=(e,t=i)=>n=>{const a=[];return function(...i){const o=this,r=a.find(e=>e.context===o&&t(e.args,i));if(r)return r.result;const l={context:o,args:i,result:n.apply(this,i)};return a.push(l),e&&a.length>e&&a.shift(),l.result}},r=o(1),l=o()},eqXv:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n("eOdZ");const i=()=>{};const o={complaint:function(e,t){a.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){a.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){a.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){a.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){a.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){a.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){a.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){a.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){a.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){a.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){a.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,t,n=i){const a=o[e];return a?a(t,n):n()}},fc1g:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),i=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},g5OB:function(e,t,n){n.d(t,"a",(function(){return wt}));var a=n("q1tI"),i=n.n(a),o=n("jkxn"),r=n("rYoy"),l=n("gD/Z"),s=n("sztL"),c=n("zwad");function d(e,t){const{carousel_data:n,domain:a}=e;let i=a||"";return n&&n.id&&(i=function(e,t){const n=t||e&&e.index||0,a=e&&e.carousel_slots||[],i=a[n]&&a[n].link||"";return i&&c.a.parse(i).hostname||""}(n,t)),i.replace("www.","")}var u=n("Ye/N"),m=n("3gA6"),p=n("kVqD"),h=n("0nTG"),g=n("Y8Sn"),f=n("n6mq");const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function y({pin:e,sourceLinkStyle:t,surface:n,url:o}){const[r,c]=Object(a.useState)(!1),{id:y}=e,w=d(e),v=Object(h.f)(e)||{},{slotIndex:_}=Object(l.b)(),E=Object(p.a)(12,{grid_index:_,objectId:y,...Object(h.f)(e)||{}}),x=Object(p.a)(101,{element:162,objectId:y,...Object(h.f)(e)||{}}),T=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:_,objectId:y,...Object(h.f)(e)||{}}),O=()=>{E(),x(),Object(g.d)()&&T()};return"icon-only"===t?i.a.createElement(m.b,{auxData:v,external:!0,onClick:O,pinId:y,surface:n,to:o},i.a.createElement(f.t,{accessibilityLabel:u.a._("link","Website url link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",size:"sm"})):i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{...b.container,...r?b.containerHovered:{},..."truncated-text"===t?b.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative"},i.a.createElement(s.a,{hovered:r,pin:e,slotIndex:_,viewType:1},i.a.createElement(m.b,{className:"GestaltTouchableFocus",external:!0,onClick:O,pinId:y,surface:n,style:{borderRadius:18,display:"block"},to:o},i.a.createElement(f.d,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between"},i.a.createElement(f.d,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},i.a.createElement(f.s,{accessibilityLabel:u.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),i.a.createElement(f.d,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden"},i.a.createElement(f.U,{color:"darkGray",size:"md",weight:"bold",truncate:!0},w))))))}const w=Object(a.lazy)(()=>Promise.all([n.e(80),n.e(64),n.e(150),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),v=Object(a.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),_=Object(a.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var E=Object(a.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:a,onToggleFlyout:s,onToggleModal:c,pin:d,pinTitle:u,setForcePrimary:m,showEditButton:p,showOverflowMenu:h,showShareButton:g,sourceLinkStyle:b,surface:E}){var x;const{viewParameter:T,viewType:O}=Object(l.b)(),{carousel_data:S,id:C,tracked_link:k,link:P}=d,I=null!==(x=null!=k?k:P)&&void 0!==x?x:"",j=!!I&&Object(o.a)(i.a.createElement(y,{pin:d,sourceLinkStyle:b,surface:E,url:I})),B=g&&i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"send-share-link"},Object(o.a)(i.a.createElement(_,{pin:d,setForcePrimary:m})))),R=p&&i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"edit-button"},Object(o.a)(i.a.createElement(w,{carouselSlotCurrentIndex:S&&S.index,component:0,onToggleModal:s,pinId:C,style:{size:"sm"},view:O,viewParameter:T,useLegoStyles:!0}))));return"equally-spaced"===a?i.a.createElement(f.d,{display:"flex",justifyContent:"between",alignItems:"center",padding:3},i.a.createElement("div",{style:{flexBasis:32}},j),e?R:B,e?B:R):i.a.createElement(f.d,{alignItems:"center",display:"flex",padding:3},i.a.createElement(f.d,{flex:"shrink"},j),i.a.createElement(f.d,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto"},i.a.createElement(f.H,{gap:1,justifyContent:"end"},e?R:B,h&&i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"overflow-menu-button"},Object(o.a)(i.a.createElement(v,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:m})))),e?B:R)))})),x=n("/MKj"),T=n("XSD5"),O=n("ZbwW"),S=n("U4JR");function C({direction:e,swipeHandler:t}){const n={left:u.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:u.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return i.a.createElement(f.d,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e},i.a.createElement(f.T,{fullHeight:!0,fullWidth:!0,onTap:t},i.a.createElement(f.d,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e},i.a.createElement(f.s,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]}))))}var k=Object(x.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(T.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:a,viewType:r}=Object(l.b)(),s=Object(O.a)(e);if(!s)return null;const{id:c=""}=e,{carousel_slots:d,index:u,id:m}=s;function p(i){return()=>{const o="left"===i?u-1:u+1;t(c,o),((t,i)=>{Object(S.a)(108,{objectId:c,component:n,view:r,viewParameter:a,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(m),carouselSlotIndex:t,toCarouselSlotIndex:i}},...Object(h.f)(e)||{}})})(u,o)}}return i.a.createElement(f.d,{height:"100%",position:"relative",width:"100%"},u>0&&Object(o.a)(i.a.createElement(C,{direction:"left",swipeHandler:p("left")})),u<d.length-1&&Object(o.a)(i.a.createElement(C,{direction:"right",swipeHandler:p("right")})))}),P=n("h9/w"),I=n("Cufx");function j({avatarUrl:e,attributionNameLink:t,name:n="",accessibilityLabel:a}){const o=i.a.createElement(f.d,{height:"32px",width:"32px"},i.a.createElement(I.a,{name:n,src:e,accessibilityLabel:a}));return t?i.a.createElement(m.b,{className:"underlineLink",to:t},o):o}function B({attributionNameLink:e,name:t,regularWeight:n}){const a=i.a.createElement(f.U,{size:"md",truncate:!0,weight:n?"normal":"bold"},t);return i.a.createElement(f.d,null,e?i.a.createElement(m.b,{className:"underlineLink",to:e},a):a)}function R({link:e,title:t}){if(!t)return null;const n=i.a.createElement(f.U,{size:"md",truncate:!0},t);return i.a.createElement(f.d,null,e?i.a.createElement(m.b,{className:"underlineLink",to:e},n):n)}var D=n("b9Z9"),L=n("ynlw"),A=n("fc1g");var M=Object(x.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(A.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:a,pin:o,name:r,setMostRecentPin:s,url:c}){const{viewParameter:d,viewType:u}=Object(l.b)(),{id:h,pinner:g}=o,{isPromoted:b}=Object(L.a)(o),y=g||o.promoter,w=Object(p.a)(101,{element:b?283:27,objectId:h}),v=c&&!e,_=i.a.createElement(f.d,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}}},i.a.createElement(f.d,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},i.a.createElement(D.a,{avatarSize:32,isDarkPromoter:a,pinId:h,user:y,username:y&&y.username,viewParameter:d,viewType:u},i.a.createElement(j,{attributionNameLink:e,avatarUrl:n,name:r,accessibilityLabel:""}))),i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden"},i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}}},i.a.createElement(B,{attributionNameLink:e,name:r,regularWeight:!t})),i.a.createElement(R,{title:t})));return v?i.a.createElement(m.b,{className:"underlineLink",onClick:()=>{s(h),w()},to:c},_):_})),U=n("Gx6I"),V=n("GsvW");var H=Object(x.connect)((e,t)=>({replyActivityItem:t.replyActivityId?e.activityItems[t.replyActivityId]:null}),e=>({toggleLike:(t,n,a)=>e(Object(U.a)(t,1,n,a))}))((function({replyActivityId:e,replyActivityItem:t,toggleLike:n}){const{content:o,created_at:r,reaction_by_me:l,type:s,user:c}=t||{},{text:d}=o||{},[m,p]=Object(a.useState)(!1);return e&&t?i.a.createElement(f.d,{marginTop:2,display:"flex",direction:"row",width:"100%"},i.a.createElement(f.d,{marginEnd:2,dangerouslySetInlineStyle:{__style:{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#efefef"}}}),i.a.createElement(f.d,{display:"flex",direction:"column",width:"100%"},i.a.createElement(f.T,{onMouseEnter:({event:e})=>{p(!0)},onMouseLeave:({event:e})=>{p(!1)},onTap:({event:t})=>{n(e,s,!!l)}},i.a.createElement(f.d,{display:"flex",direction:"row"},i.a.createElement(f.d,{maxWidth:124},i.a.createElement(f.U,{size:"md",weight:"bold"},Object(V.e)(c))),i.a.createElement(f.d,{marginStart:1},i.a.createElement(f.U,{size:"md",color:"gray"},Object(V.f)(r)))),i.a.createElement(f.d,{display:"flex",direction:"row"},i.a.createElement(f.d,{width:"100%"},i.a.createElement(f.d,{marginEnd:5,width:"100%"},i.a.createElement(f.U,{size:"md"},d))),i.a.createElement(f.d,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12},!!l&&i.a.createElement(f.s,{icon:"heart",accessibilityLabel:u.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!l&&m&&i.a.createElement(f.s,{icon:"heart-outline",accessibilityLabel:u.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))))):null})),N=n("w70y"),F=n("vvax");function z({commentActivityId:e,parentActivity:t,showReplies:n}){const o=Object(x.useSelector)(({activityItems:t})=>e?t[e]:null),{comment_count:r,content:{text:l},created_at:s,reaction_by_me:c,type:d,user:p}=o||{},[h,g]=Object(a.useState)(!1),b=Object(N.a)({name:"BoardActivityCommentFeedResource",options:{page_size:1,activityId:o&&o.id,parentType:o&&o.type,redux_normalize_feed:!0},allowStale:!1}),y=Object(x.useDispatch)(),w=n&&r?r-1:0,v=!b.isLoaded,_=!!b.isLoaded&&!!b.data&&b.data.length>0&&b.data[0].id,E=i.a.createElement(f.U,{size:"sm",weight:"bold"},Object(F.b)(u.a.ngettext("{{ moreRepliesCount }} more comment","{{ moreRepliesCount }} more comments",w,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreRepliesCount:w}));return i.a.createElement(f.d,{display:"flex",direction:"row",marginTop:2,marginBottom:1},i.a.createElement(f.d,{minWidth:32,minHeight:32},i.a.createElement(I.a,{src:p.image_medium_url,name:p.username})),i.a.createElement(f.d,{display:"flex",direction:"column",marginStart:2,width:"100%"},i.a.createElement(f.T,{onMouseEnter:({event:e})=>{g(!0)},onMouseLeave:({event:e})=>{g(!1)},onTap:({event:t})=>{var n,a,i;e&&(n=e,a=d,i=!!c,y(Object(U.a)(n,1,a,i)))}},i.a.createElement(f.d,{display:"flex",direction:"row"},i.a.createElement(f.d,{maxWidth:130},i.a.createElement(f.U,{size:"md",weight:"bold"},Object(V.e)(p))),i.a.createElement(f.d,{marginStart:1},i.a.createElement(f.U,{size:"md",color:"gray"},Object(V.f)(s)))),i.a.createElement(f.d,{display:"flex",direction:"row"},i.a.createElement(f.d,{width:"100%",maxWidth:160},i.a.createElement(f.U,{size:"md"},l)),i.a.createElement(f.d,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12},!!c&&i.a.createElement(f.s,{icon:"heart",accessibilityLabel:u.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!c&&h&&i.a.createElement(f.s,{icon:"heart-outline",accessibilityLabel:u.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))),w>0&&i.a.createElement(f.d,{marginTop:2,marginBottom:1},t&&t.pin?i.a.createElement(m.b,{to:`/pin/${t.pin.id}/`},E):E),n&&(v?i.a.createElement(f.d,{paddingX:1,marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #efefef"}}},i.a.createElement(f.d,{color:"lightGray",width:"100%",height:48})):i.a.createElement(H,{replyActivityId:_||null}))))}var G=n("ExRq"),q=n("ANjH");const W={background:"transparent",border:"0",display:"inline-block",fontSize:"14px",lineHeight:"17px",maxHeight:"34px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},Y=0,X=1,J=2;function K(e,t){switch(t.type){case Y:return{...e,commentValue:t.commentValue||""};case X:return{...e,inputRowsValue:t.inputRowsValue||1};case J:return{...e,commentValue:"",commentAdded:!0,inputRowsValue:1};default:return e}}var Z=Object(x.connect)(({activityItems:e,groupBoardGridComments:t,viewer:n},{pin:{board_activity:a}})=>{const i=a&&a.id,o=i?e[i]:null;return{boardActivityComments:(i&&t[i]||[]).map(t=>e[t]),parentActivity:o,viewer:n}},e=>({createActivityItem:Object(q.bindActionCreators)(G.a,e)}))((function({boardActivityComments:e,createActivityItem:t,parentActivity:n,pin:o,viewer:r}){const[l,s]=Object(a.useReducer)(K,{commentValue:"",commentAdded:false,inputRowsValue:1,showMoreComment:!!n&&n.comment_count>3});if(!r.isAuth||!e||0===e.length)return null;const c=l.commentValue.trim().length>0,d={color:c?"black":"#767676",...W},p=e.length>0?e[0].id:null,h=e.length>1?e[1].id:null,g=e.length>2?e[2].id:null,b=e[0].comment_count>0,y=h&&e[1].comment_count>0&&!b,w=g&&!b&&!y,v=w?3:2,_=e.length<3?e.length:v,E=n?n.comment_count-_:0,x=i.a.createElement(f.U,{size:"sm",weight:"bold"},Object(F.b)(u.a.ngettext("{{ moreCommentsCount }} more comment","{{ moreCommentsCount }} more comments",E,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreCommentsCount:E})),T=i.a.createElement(f.d,{marginStart:2},i.a.createElement(f.U,{size:"md",weight:"bold"},u.a._("View your comment","Text after user added comments under group board pin grid","Text after user added comments under group board pin grid"))),O=i.a.createElement(f.d,{display:"flex",direction:"column",width:"100%"},l.showMoreComment&&!!E&&i.a.createElement(f.d,{marginTop:2,marginBottom:1},n&&n.pin?i.a.createElement(m.b,{to:`/pin/${n.pin.id}/`},x):x),w&&i.a.createElement(z,{commentActivityId:g,parentActivity:n}),h&&i.a.createElement(z,{commentActivityId:h,parentActivity:n,showReplies:!!y}),i.a.createElement(z,{commentActivityId:p,parentActivity:n,showReplies:b}));return i.a.createElement(f.d,{display:"flex",direction:"column"},e.length>0&&O,i.a.createElement(f.d,{alignItems:"center",display:"flex",direction:"row",marginTop:2},i.a.createElement(f.d,{height:32,minWidth:32},i.a.createElement(I.a,{src:r.imageMediumUrl,name:r.username})),l.commentAdded&&(n&&n.pin?i.a.createElement(m.b,{to:`/pin/${n.pin.id}/`},T):T),!l.commentAdded&&i.a.createElement(a.Fragment,null,i.a.createElement(f.d,{color:"lightGray",width:"100%",alignItems:"center",display:"flex",marginStart:2,marginEnd:2,paddingX:2,paddingY:1,rounding:4},i.a.createElement("textarea",{maxLength:2e3,name:"commentTextBox",placeholder:u.a._("Add comment","Placeholder for comment text field under pin rep","Placeholder for comment text field under pin rep"),style:d,rows:l.inputRowsValue,value:l.commentValue,onChange:e=>{if(s({type:Y,commentValue:String(e.target.value)}),e&&e.target){const t=e.target.rows;e.target.rows=1;const n=Math.floor(e.target.scrollHeight/17);n===t&&(e.target.rows=n),n>=2&&(e.target.rows=2,e.target.scrollTop=e.target.scrollHeight),s({type:X,inputRowsValue:n<2?n:2})}}})),c&&i.a.createElement(f.d,{width:32,height:32,rounding:"circle",color:"red"},i.a.createElement(f.t,{accessibilityLabel:u.a._("send","Accessibility label for send comment under pin rep","Accessibility label for send comment under pin rep"),bgColor:"transparent",icon:"send",iconColor:"white",size:"sm",onClick:()=>{if(!n)return;const e=JSON.stringify([]);t({imageSignatures:"",objectIds:[],parentId:n.id,parentType:n.type,text:l.commentValue,tags:e}),s({type:J})}})))))})),$=n("rSLd");var Q=n("oRao"),ee=n("T5j3"),te=n("obIb"),ne=n.n(te),ae=n("X/CP"),ie=n.n(ae),oe=n("x/xQ"),re=n.n(oe),le=n("jOPH"),se=n.n(le),ce=n("U5D8"),de=n.n(ce);const ue={goodIdea:ne.a,love:re.a,thanks:se.a,wow:de.a,haha:ie.a},me={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var pe=function({pinId:e,reactionCounts:t}){const n=t?Object(ee.a)(t):null,a=t?Object(ee.b)(t):0,o=!!n&&n.length>0&&n.map((e,t)=>{const n=ue[me[e]];return i.a.createElement(f.d,{key:t,dangerouslySetInlineStyle:{__style:{marginRight:2}}},i.a.createElement(f.d,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}}))});return!!o&&i.a.createElement(m.b,{to:`/pin/${e}/`},i.a.createElement(f.d,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3},i.a.createElement(f.d,{display:"flex",direction:"row"},o),i.a.createElement(f.d,{paddingX:1},i.a.createElement(f.U,{size:"md"},i.a.createElement(Q.a,{value:a,shortform:!0,shortformMaximumFractionDigits:1})))))},he=n("4Utz"),ge=n("q7Wf");function fe({feedbackType:e,pin:t}){const{pinner:n,source_interest:a}=t,{full_name:o,username:r}=n||{},{name:l}=a||{},s="topic"===e,c=!s&&"followed"===e,d=`/${r}/`,p=Object(ge.g)(l),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,g=s?h:d,b={topic:u.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:u.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:u.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:u.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!b)return null;if(c||s){const e=0===b.indexOf("{"),t=s?l:o,n=e?b.slice(b.indexOf("}")+1):b.slice(0,b.indexOf("{"));return e?i.a.createElement(f.d,null,i.a.createElement(m.b,{to:g},i.a.createElement(f.U,{weight:"bold",inline:!0,size:"md",truncate:!0},t)),i.a.createElement(f.U,{inline:!0,size:"md"},n)):i.a.createElement(f.d,null,i.a.createElement(f.U,{inline:!0,size:"md"},n),i.a.createElement(m.b,{to:g},i.a.createElement(f.U,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0},t)))}return i.a.createElement(f.d,null,i.a.createElement(he.a,{pin:t},i.a.createElement(f.U,{color:"darkGray",overflow:"normal",size:"md",weight:"bold"},b)))}var be=n("Te6n"),ye=n("EPem"),we=n("TOi3");function ve({pin:e}){const{isStoryPin:t,isVideo:n}=Object(L.a)(e),a=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:a}=t||{},{isStoryPin:i}=Object(L.a)(e);return!n||!i&&a?a:n}(e),o=Object(ye.a)(n,t),r=n||t?null==a?void 0:a.all_time_realtime:null==a?void 0:a["30d_realtime"];return i.a.createElement(f.d,{display:"flex"},o.map(({align:e,displayText:t,field:n,iconType:a,iconSize:o=12,valueFormat:l})=>i.a.createElement(f.d,{alignItems:"center",column:4,display:"flex",justifyContent:e,key:n},i.a.createElement(f.d,{display:"inlineBlock",marginEnd:1},i.a.createElement(f.s,{accessibilityLabel:t,color:"darkGray",icon:a,size:o})),i.a.createElement(f.U,{inline:!0,size:"md"},i.a.createElement(we.a,{value:null==r?void 0:r[n],valueFormat:l})))))}var _e=n("h4v/");function Ee(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var xe=n("4cpq");function Te({children:e,componentType:t,contextLogData:n,elementType:a,pin:o,surface:r,viewParameter:s,viewType:c}){const d=Object(l.b)(),{carousel_data:u,id:p,link:h,tracked_link:b}=o;let y,w=b||h,v="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(w=e[n].link),y={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},v+="-carousel"}return i.a.createElement(f.d,{"data-test-id":"otpp"},i.a.createElement(xe.a,{id:v},i.a.createElement(m.b,{auxData:y,external:!0,onClick:()=>{const e=_e.a.getInstance(),a=e.getViewFromContext();Object(S.a)(12,{...n,view:c||d.viewType,viewParameter:s||d.viewParameter,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:Ee(h||"")}),Object(g.d)()&&Object(S.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:c||d.viewType,viewParameter:s||d.viewParameter,...n,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:Ee(h||"")}),Object(S.a)(13,{closeup_navigation_type:"web_closeup",objectId:p,component:t||d.componentType,view:3,...d.contextLogData,...n}),e.addViewToContext(a)},pinId:p,style:{cursor:"pointer",display:"block"},surface:r,to:w||""},e)))}var Oe=n("gC5q"),Se=n("0SCs");function Ce(e){const{pin:t,surface:n}=e,{isOneTap:a,isVideo:o,isPromoted:r}=Object(L.a)(t),{anyEnabled:l,customActivate:s}=Object(Se.b)("web_no_tap_tap");!a&&o&&r&&s();const c=a||o&&r&&l?Te:he.a;return i.a.createElement(c,Object.assign({surface:a?n:void 0},Object(Oe.b)(e,["surface"])))}function ke({currentPrice:e,originalPrice:t,pin:n,surface:a}){const o=t&&t!==e;return i.a.createElement(Ce,{pin:n,surface:a},i.a.createElement(f.d,{display:"flex",direction:"row"},e&&i.a.createElement(f.U,{color:o?"blue":"darkGray",size:"md",weight:"bold"},e),o&&i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1},i.a.createElement(f.U,{color:"gray",size:"md",weight:"bold"},t))))}var Pe=n("N89m"),Ie=n("Zxas");function je({pin:e,singleLineMaxLength:t,surface:n}){const a=Object(Pe.a)(e),o=Object(Ie.a)(a,t);return i.a.createElement(Ce,{pin:e,surface:n},i.a.createElement(f.d,{display:"flex",direction:"row"},i.a.createElement(f.U,{color:"darkGray",overflow:"normal",size:"md",weight:"normal"},o)))}function Be({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:a,surface:o}){const r=e*a,l=Object(Ie.a)(n,r);return i.a.createElement(Ce,{pin:t,surface:o},i.a.createElement(f.U,{color:"darkGray",overflow:"normal",size:"md",weight:"bold"},l))}var Re=n("+tKw");function De({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:a}){const{pinner:o}=e;if(!o)return null;const{full_name:r,image_small_url:l}=o,s=1.8*n,c=Object(Ie.a)(a,s);return i.a.createElement(Ce,{pin:e},i.a.createElement(f.d,{alignItems:"center",display:"flex"},!t&&i.a.createElement(f.d,{flex:"none",marginEnd:2},i.a.createElement(I.a,{name:r,size:"xs",src:l})),i.a.createElement(f.d,{"data-test-id":"PinRep-UserNote"},i.a.createElement(f.U,{overflow:"normal",size:"md"},i.a.createElement(Re.a,{text:c,options:{hashtags:{source:"hashtag_closeup"}}})))))}var Le=n("XLg/");const Ae=Object(a.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Me={container:{padding:"8px 6px 16px"},groupBoardContainer:{padding:"8px 6px 8px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Le.a}ms ease`},visible:{opacity:1}}};var Ue=Object(a.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:l,feedbackType:s,hoverTransitionState:c,isDarkPromoter:d,pin:m,board:p,pinTitle:h,productOriginalPrice:g,productCurrentPrice:b,setForcePrimary:y,showBoardActivityComments:w,showBoardActivityReply:v,showCarouselEllipsis:_,showGroupBoardAvatar:E,showOverflowMenu:x,showNativeReactions:T,showPinStats:O,showSource:S,showTextContent:C,singleLineMaxLength:k,surface:P,titleLines:I,useLegoPadding:B,userNote:R}){const{board_activity:D,id:A}=m,U=h||S,V=U||R,{anyEnabled:H,customActivate:N}=Object(Se.b)("web_today_article_claimed_content_attribution","TodayArticleFeed"===P),F=function(e,t,n=!1,a=(()=>{})){const{board:i,link_domain:o={},promoter:r,native_creator:l}=e,{isPromoted:s}=Object(L.a)(e),{official_user:c}=o||{},d=e.pinner||{};let m="",p="",h="",g="",f="";return s&&r?(m=r.image_medium_url||r.image_small_url,h=r.full_name,g=u.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),f=`/${r.username}/`):l?(m=l.image_medium_url||l.image_small_url,g=l.full_name,f=`/${l.username}/`):"show-for-claimed-content"===t?(a(),(null==c?void 0:c.is_primary_website_verified)&&n&&(m=c.image_medium_url||c.image_small_url,g=c.full_name,f=`/${c.username}/`)):(m=d.image_medium_url||d.image_small_url,p=`/${d.username}/`,g=d.full_name,f=i?i.url:""),{avatarUrl:m,attributionNameLink:p,attributionTitle:h,name:g,url:f}}(m,e,H,N),{avatarUrl:z,attributionNameLink:G,attributionTitle:q,name:W,url:Y}=F,X=i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:p&&p.is_collaborative&&B?Me.groupBoardContainer:Me.container}},_&&i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:U||E||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},i.a.createElement($.default,{pinId:A})),O&&i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%"},i.a.createElement(ve,{pin:m})),i.a.createElement(f.d,{display:"flex"},i.a.createElement(f.d,{flex:"grow"},C&&V&&i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:"none"!==e||E?{marginBottom:"6px"}:{}}},(g||b)&&i.a.createElement(f.d,{marginBottom:1},i.a.createElement(ke,{currentPrice:b,originalPrice:g,pin:m,surface:P})),i.a.createElement(Be,{numberOfLines:I,pin:m,pinTitle:h,singleLineMaxLength:k,surface:P}),S&&i.a.createElement(je,{pin:m,singleLineMaxLength:k,surface:P}),R&&i.a.createElement(f.d,{marginTop:U?1:0},i.a.createElement(De,{pin:m,showGroupBoardAvatar:E,singleLineMaxLength:k,userNote:R}))),i.a.createElement(f.d,{alignItems:"center",display:"flex"},i.a.createElement(f.d,{flex:"grow"},(()=>{switch(e){case"none":return null;case"image-only-credit":return i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:Me.imageOnlyAttribution["active"===c?"visible":"hidden"]}},i.a.createElement(fe,{pin:m,feedbackType:s}));default:return Object.values(F).some(e=>Boolean(e))?i.a.createElement(M,{attributionNameLink:G,attributionTitle:q,avatarUrl:z,isDarkPromoter:d,name:W,pin:m,url:Y}):null}})()),x&&i.a.createElement(f.d,{flex:"none"},i.a.createElement(be.default,{feedbackData:l,feedbackType:s,pin:m,pinTitle:h,setForcePrimary:y,transparentBackground:!0}))),T&&!!m.reaction_counts&&i.a.createElement(f.d,null,i.a.createElement(pe,{pinId:m.id,reactionCounts:m.reaction_counts})),E&&i.a.createElement(f.d,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1},i.a.createElement(j,{attributionNameLink:G,avatarUrl:z,name:W}),i.a.createElement(f.d,{marginStart:2,flex:"grow"},i.a.createElement(f.U,{size:"md"},W)),i.a.createElement(f.d,null,i.a.createElement(r.a,null,i.a.createElement(Ae,{pinId:m.id,board:p,activityId:D&&D.id||m.id,showReply:v,canShowComments:!w})))))),w&&i.a.createElement(Z,{pin:m})),J=i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:Me.productContainer}},i.a.createElement(f.d,{display:"flex"},i.a.createElement(f.d,{flex:"grow"},V&&i.a.createElement(a.Fragment,null,(g||b)&&i.a.createElement(f.d,{marginBottom:1},i.a.createElement(ke,{currentPrice:b,originalPrice:g,pin:m,surface:P})),i.a.createElement(f.d,{marginBottom:1},i.a.createElement(Be,{numberOfLines:I,pin:m,pinTitle:h,singleLineMaxLength:k,surface:P})),S&&i.a.createElement(je,{pin:m,singleLineMaxLength:k,surface:P}))))),K="shopping"===n?J:X;return t?i.a.createElement("div",{style:{pointerEvents:"none"}},K):Object(o.a)(K)})),Ve=n("4+TC"),He=n("XCz/"),Ne=n("0S8y"),Fe=n("Vzit");const ze=Object(a.lazy)(()=>Promise.all([n.e(80),n.e(64),n.e(150),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),Ge=Object(a.lazy)(()=>Promise.all([n.e(80),n.e(64),n.e(150),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),qe=Object(a.lazy)(()=>Promise.all([n.e(80),n.e(64),n.e(69),n.e(150),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),We=Object(a.lazy)(()=>Promise.all([n.e(80),n.e(64),n.e(69),n.e(97),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),Ye=Object(a.lazy)(()=>n.e("QuickSaveButtonCommon").then(n.bind(null,"iTUf"))),Xe=Object(a.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),Je=Object(a.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function Ke({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,onToggleFlyout:s,onToggleModal:c,pin:d,showEditButton:u,showLikeButton:m,supportsReactionBar:h}){const g=Object(x.useDispatch)(),[b,y]=Object(a.useState)(!1),{carousel_data:w,id:v,savedInfo:_}=d,E=Object(a.useRef)(!!_),T=Object(x.useSelector)(({experiences:e})=>Object(Ne.d)(e.eligibleExperiences)),{viewParameter:O,viewType:S}=Object(l.b)(),C=Object(p.a)(101,{element:0,objectId:v});let k=null;const P={onToggleModal:s,view:S,viewParameter:O,useLegoStyles:!0};if(!b)if(T&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t;g(Object(Fe.h)(1000294,502450));const a=()=>{g(Object(Fe.a)(1000294,502450,!0))};k=i.a.createElement(r.a,null,Object(o.a)(i.a.createElement(Ye,{forcePrimaryContent:n,onComplete:a,pin:d,renderPinSaveTooltip:e,viewParameter:O})))}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;k=i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"pin-save-button",maxWidth:"100%"},Object(o.a)(i.a.createElement(qe,{onClickCallback:C,onToggleModal:c,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!_&&Object(o.a)(i.a.createElement(Ve.a,{isNewlySaved:!E.current,name:_.title,url:_.url})),variant:"lego",viewParameter:O}))))}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:a,renderPinSaveTooltip:l}=t;k=i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"better-save"},Object(o.a)(i.a.createElement(We,{initialSelection:n,onSave:a,onToggleFlyout:s,onToggleModal:c,pin:e,renderPinSaveTooltip:l,renderSavedStatus:({savedInfo:e})=>e&&Object(o.a)(i.a.createElement(Ve.a,{isNewlySaved:!E.current,name:e.title,url:e.url})),useMasonryFlyout:!0,variant:"pin",viewParameter:O}))))}else"persistentOneClickSave"===t.type?k=i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"persistent-one-click-save"},Object(o.a)(i.a.createElement(Ge,Object.assign({},P,{saveOptions:t,pin:d}))))):"promote"===t.type&&(k=i.a.createElement(f.d,{display:"flex",justifyContent:"end"},i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"pin-promote-button"},Object(o.a)(i.a.createElement(Je,{pin:d}))))));let I=null;return u?I=i.a.createElement(r.a,null,Object(o.a)(i.a.createElement(f.d,{"data-test-id":"edit-button",display:"inlineBlock"},i.a.createElement(ze,Object.assign({},P,{carouselSlotCurrentIndex:w&&w.index,component:0,pinId:v,style:{size:"sm"}}))))):m&&(I=i.a.createElement(r.a,null,i.a.createElement(f.d,{"data-test-id":"like-button"},i.a.createElement(He.a,{name:"group_boards_reactions",activate:!1},({anyEnabled:t,customActivate:n})=>Object(o.a)(i.a.createElement(Xe,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>y(!0),onHideReactionsBar:()=>y(!1),supportsReactionBar:h,useLegoStyles:!0})))))),i.a.createElement(f.d,{display:"flex",margin:3},I&&i.a.createElement(f.d,{flex:"grow",marginEnd:"auto"},I),k&&i.a.createElement(f.d,{marginStart:"auto",flex:"grow"},k))}var Ze=n("7wXf"),$e=n("VJm5"),Qe=n("3qdF"),et=n("qhFy"),tt=n("HOY+");const nt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function at({isSelected:e}){return i.a.createElement(f.d,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?nt:{}},i.a.createElement(f.d,{position:"absolute",bottom:!0,right:!0,padding:3},i.a.createElement(f.d,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}}},i.a.createElement(f.s,{accessibilityLabel:u.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12}))))}function it({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isDenseView:r,isHovering:c,isSocialSeasonalBoard:d=!1,onError:u,onLoad:m,pin:p,pinImageCrop:h,resolution:g="default",rootMargin:b,selectionState:y,showCarousel:w,showPromotedVideos:v,surface:_}){const{contextLogData:E,slotIndex:x,viewParameter:T,viewType:O}=Object(l.b)(),{anyEnabled:S}=Object(Se.c)("web_flashlight_shop_tab"),{id:C="",aggregated_pin_data:k,image_signature:P}=p,{pin_tags_chips:I}=k||{},{isVideo:j,isPromoted:B,isGif:R}=Object(L.a)(p),{cropHeight:D,cropWidth:A}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let M=null;if(e||!j||!v&&B)if(w)M=i.a.createElement(f.d,{"data-test-id":"pinrep-carousel"},i.a.createElement($e.a,{cropHeight:D,cropWidth:A,onError:u,onLoad:m,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,pinId:C,showCarouselBadge:!1,isDenseView:r}));else{const e="backend"===h?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:a}=t;return{marginTop:(e>0?-1*e*n:0)+"px",marginBottom:(a<1?Math.round(-1*(1-a)*n):0)+"px"}}return{}}(p):{};M=i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55},i.a.createElement(et.b,{animateGif:R&&d,cropHeight:D,cropWidth:A,fallbackColor:n,imageFit:o,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,mediumResOnly:"medium-res"===g,onLoad:m,onError:u,pin:p}))}else M=i.a.createElement(f.d,{"data-test-id":"pinrep-video",height:D||void 0},i.a.createElement(tt.a,{cropHeight:D,rootMargin:b,inAdsDesktopVideoExperiment:j&&v,pin:p,surface:_,onLoad:m,viewType:O,viewParameter:T,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,onError:u,isExperimentalPinRep:!0}));const U=i.a.createElement(f.z,{wash:!0},i.a.createElement(s.a,{hovered:c,pin:p,slotIndex:x,viewType:1},M)),V=["selected-image-only","deselected-image-only"].includes(y),H="selected-image-only"===y;if(t)return i.a.createElement(a.Fragment,null,U,V&&i.a.createElement(at,{isSelected:H}),I&&i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},i.a.createElement(Qe.a,{pin:p,enableCloseupLink:!0})));const{commerce_data:N}=E||{},F=S||["RelatedProductsExploreTab","RelatedProductsFeed"].includes(_);return i.a.createElement(Ce,{contextLogData:{grid_index:x,image_signature:P,commerce_data:F?N:void 0},elementType:35,pin:p,surface:_},U,I&&i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},i.a.createElement(Qe.a,{pin:p,enableCloseupLink:!1})))}var ot=n("qWlA");var rt=n("CgR/").a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>i.a.createElement(f.e,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),Object(ot.a)(e)()},text:u.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:u.a._("Send","Accessible label to send a pin","Accessible label to send a pin")}));function lt(e){return e<160?"header-only":"none"}function st(e){const[t,n]=Object(a.useState)(e.current?lt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(a.useRef)();Object(a.useEffect)(()=>{const a=e.current;if(!a)return;const i=n.current;i&&i.width===a.offsetWidth&&i.height===a.offsetHeight||(n.current={width:a.offsetWidth||0,height:a.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const a=lt(e);a!==t&&n(a)}),t}var ct=n("W5T3"),dt=n("I7CA"),ut=n("eqXv"),mt=n("tMjw");const pt={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:mt.a,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},ht=["followed","related","search"],gt=["pfy","pfyBoard"];function ft({feedbackType:e,isHomefeedControlPanelExp:t,isHomefeedTunerVariantExp:n,pin:o}){const[r,l]=Object(a.useState)(!1),[s,c]=Object(a.useState)(!1);Object(a.useEffect)(()=>l(!0),[]);const d=()=>c(!0),{feedbackText:p,images:h,showFeedbackOverlay:g,undoAction:b,undoText:y}=o,w=h&&h["236x"].url,{image:v,subTitle:_,title:E,unfollow:x}=p,T=t&&!ht.includes(e),O=gt.includes(e),C=()=>{Object(S.a)(101,{view:1,viewParameter:92,element:11347})};return i.a.createElement(f.d,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:mt.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{borderRadius:mt.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},w&&i.a.createElement(dt.a,{additionalStyles:{...pt.background.base,...r?pt.background.blurred:{},backgroundImage:`url("${w}")`}}),i.a.createElement(dt.a,{additionalStyles:{...pt.backdrop.base,...pt.backdrop.blurred}})),i.a.createElement(f.d,{dangerouslySetInlineStyle:{__style:{...pt.feedbackOverlayContainer.base,...!g&&r?pt.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%"},i.a.createElement(f.d,{height:"100%"},i.a.createElement(f.d,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216},i.a.createElement(f.d,{marginBottom:2},i.a.createElement(f.r,{color:"white",size:"sm"},E)),i.a.createElement(f.d,{display:"flex",marginBottom:1},v&&i.a.createElement(f.d,{marginEnd:3},i.a.createElement(f.z,{width:v.width,height:v.height,rounding:2,wash:!0},i.a.createElement(f.u,{alt:_||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:v.url||""}))),i.a.createElement(f.U,{color:"white",overflow:"normal"},_)),n?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.d,null,i.a.createElement(f.T,{onTap:b},i.a.createElement(f.U,{color:"white",weight:"bold",overflow:"normal"},u.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")))),i.a.createElement(f.d,{marginTop:"auto"},!b&&!s&&x&&!O&&i.a.createElement(f.e,{color:"white",onClick:()=>Object(ut.a)(x.action,x.actionOptions,d),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),T&&i.a.createElement(m.b,{to:"/edit",onClick:C},i.a.createElement(f.e,{color:"white",text:u.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})))):i.a.createElement(i.a.Fragment,null,i.a.createElement(f.d,null,T&&i.a.createElement(m.b,{className:"underlineLink",to:"/edit",onClick:C,style:pt.navigateLinkStyle},i.a.createElement(f.U,{color:"white",weight:"bold",overflow:"normal"},u.a._(" Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")))),i.a.createElement(f.d,{marginTop:"auto"},!b&&!s&&x&&!O&&i.a.createElement(f.e,{color:"white",onClick:()=>Object(ut.a)(x.action,x.actionOptions,d),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),b&&i.a.createElement(f.e,{color:"white",onClick:b,text:y||u.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})))))))}function bt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function yt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const wt=228;t.b=Object(a.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:o=!1,footerProps:r,forcePrimaryContentVisibility:s,impressionsDebuggerProps:c,onError:d,onLoad:u,obscuredPinOverlayProps:m,pin:p,pinVisualProps:h,presentationProps:g,primaryContentProps:b,selectionState:y,secondaryContentProps:w,showAccessoryContent:v,showActionBar:_,showFooter:x,showImpressionsDebugger:T,showSignalDebugger:O,showObscuredPinOverlay:S,showPrimaryAndSecondaryContent:C,surface:I}){const{savedInfo:j}=p,{viewType:B}=Object(l.b)(),[R,D]=Object(a.useState)(!1),L=Object(Le.b)(R);let{isHovering:A,hoverTransitionState:M,handleMouseOver:U,handleMouseLeave:V}=function(){const[e,t]=Object(a.useState)(!1);return{isHovering:e,hoverTransitionState:Object(Le.b)(e,0,Le.a),handleMouseOver:Object(a.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(a.useCallback)(()=>t(!1),[t])}}();o&&(A=!1,M="inactive");const{anyEnabled:H}=Object(Se.c)("web_pin_rep_saved_state","classic"===b.derivedSaveButtonOptions.type),N=Object(Le.b)(!!j&&("classic"!==b.derivedSaveButtonOptions.type||H)),F=bt(N),z=bt(M),G=bt(M),q=bt(L),W=bt(N),Y={primaryContentVisibility:yt(G,q,W),secondaryContentVisibility:(X=yt(G,q,W),"none"===X?"visible":"visible"===X?"none":"hidden"),actionBarVisibility:yt(G,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var X;const J=e=>D(e),K=e=>D(e),Z=e=>{D(e),e||V()};let $=null;s&&(Y.primaryContentVisibility="visible"),"none"!==Y.primaryContentVisibility&&C&&($=i.a.createElement(Ke,Object.assign({pin:p,forcePrimaryContent:J,onToggleFlyout:K,onToggleModal:Z},b)));let Q=null;const ee=Object(a.useRef)(!0),te=ee.current;ee.current=!1;const ne=function(e,t){const{carousel_data:n}=e,{index:i}=n||{},[o,r]=Object(a.useState)(!n||t),l=Object(a.useRef)(i),s=Object(a.useRef)(null);if(n){const e=l.current;l.current=i,(i!==e||t)&&(s.current&&clearTimeout(s.current),r(!0),s.current=setTimeout(()=>{r(!1),s.current=null},4e3))}return Object(a.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),o}(p,te),ae=bt(Object(Le.b)(ne));Y.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Y.secondaryContentVisibility,ae),Q=(w.allowShoppingPriceIndicator||w.shoppingLabelColor||"none"!==Y.secondaryContentVisibility)&&C&&!n&&i.a.createElement(f.d,{margin:2},i.a.createElement(Ze.a,Object.assign({pin:p},w)));let ie=null;v&&(ie=i.a.createElement(k,{pin:p}),Y.accessoryContentVisibility=bt(M)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);const oe=_?i.a.createElement(E,Object.assign({onToggleFlyout:K,onToggleModal:Z,pin:p,setForcePrimary:D,surface:I},e)):null;let re=null;x&&(re=i.a.createElement(Ue,Object.assign({blockClickEvents:t,hoverTransitionState:"image-only-credit"===r.attributionType?M:null,pin:p,setForcePrimary:D,surface:I},r))),h.isSocialSeasonalBoard&&(re=i.a.createElement(f.d,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%"},i.a.createElement(f.d,{margin:"auto",width:wt},i.a.createElement(rt,{isFlyoutOpen:R,onFlyoutDismiss:()=>K(!R),onToggleFlyout:()=>K(!R),pinId:p.id,sendType:"pin",shownWithinMasonry:!0,viewType:B}))));const le=T&&i.a.createElement(ct.b,c),se=O&&p.debug_info_html&&i.a.createElement(f.d,{paddingY:1},i.a.createElement("pre",null,p.debug_info_html)),ce=i.a.createElement(P.a,{pin:p}),de=Object(a.useRef)();"header-only"===st(de)&&(Y.actionBarVisibility="none",Y.accessoryContentVisibility="none");const ue=S?i.a.createElement(ft,Object.assign({pin:p},m)):null;return i.a.createElement("div",{onMouseOver:U,onMouseLeave:V,"data-test-id":"pin","data-test-pin-id":p.id},i.a.createElement(mt.b,Object.assign({visualOverlayVisibility:z,savedOverlayVisibility:F,primaryContent:$,primaryContentVisibility:Y.primaryContentVisibility,secondaryContent:Q,secondaryContentVisibility:Y.secondaryContentVisibility,accessoryContent:ie,accessoryContentVisibility:Y.accessoryContentVisibility,actionBar:oe,actionBarVisibility:Y.actionBarVisibility,footer:re,selectionState:y,debugContent:le,signalDebuggerV2Content:ce,signalDebuggerV2ContentVisibility:Y.signalDebuggerV2ContentVisibility,signalDebuggerContent:se,obscuredPinOverlay:ue},g),i.a.createElement(f.d,{ref:de},i.a.createElement(it,Object.assign({blockClickEvents:t,isHovering:A,onError:d,onLoad:u,pin:p,surface:I,selectionState:y},h)))))}))},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("1dBE");const{Provider:i,Consumer:o,useHook:r}=Object(a.c)("trackingParametersContext")},"h9/w":function(e,t,n){n.d(t,"a",(function(){return b}));var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("CvCA"),l=n("n6mq");function s(e){const{onHide:t}=e,n=i.a.createElement(l.U,{color:"white"},o.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review"));return i.a.createElement(r.a,{onHide:t,text:n})}var c=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var m=function({anchor:e,onDismiss:t,pinId:n,signals:r}){const[m,p]=Object(a.useState)(0),h=Object(d.a)(),{showOneToast:g}=Object(u.b)();if(!h.isEmployee)return null;const f=r.map(({signal_message:e})=>({href:"#",text:e})),{background_color:b,icon_url:y,signal_id:w,signal_message:v}=r[m];return i.a.createElement(l.w,null,i.a.createElement(l.p,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg"},i.a.createElement(l.d,{padding:4,width:"100%"},r.length>1&&i.a.createElement(l.d,{overflow:"scrollX",padding:1,marginBottom:4},i.a.createElement(l.S,{activeTabIndex:m,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),p(e)},size:"lg",tabs:f})),i.a.createElement(l.d,{display:"flex",alignItems:"center"},i.a.createElement(l.r,{size:"sm"},o.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout"))),i.a.createElement(l.d,{paddingY:3},i.a.createElement(l.H,{justifyContent:"center",alignItems:"center",gap:1},i.a.createElement(l.d,{height:40,overflow:"hidden",rounding:"circle",width:40},y?i.a.createElement(l.u,{alt:o.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):i.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},height:40,width:40})),i.a.createElement(l.U,{size:"md"},v))),i.a.createElement(l.d,{marginBottom:3},i.a.createElement(l.U,{size:"md"},o.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection"))),i.a.createElement(l.H,{alignItems:"center",gap:1},i.a.createElement(l.e,{color:"red",size:"md",text:o.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:w,user:h.id};c.a.create("SignalReviewRequestResource",e).callCreate(),t(),g(({onHide:e})=>i.a.createElement(s,{onHide:e}))}}),i.a.createElement(l.e,{color:"gray",size:"md",text:o.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})))))},p=n("7pfs"),h=n("jkxn"),g=n("rYoy");function f({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[s,c]=Object(a.useState)(!1),d=Object(a.useRef)();return i.a.createElement(a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement(l.d,{"data-test-id":"debug-signals-feedback-button"},Object(h.a)(i.a.createElement(p.a,null,({hovered:e,onMouseEnter:t,onMouseLeave:a})=>i.a.createElement(l.T,{onTap:()=>c(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:a},i.a.createElement(l.d,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d},i.a.createElement(l.d,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center"},i.a.createElement(l.d,{width:20,height:20,rounding:"circle",overflow:"hidden"},i.a.createElement(l.u,{alt:"",color:n,src:o,naturalHeight:1,naturalWidth:1}))),i.a.createElement(l.U,{color:"white",size:"md",weight:"bold"},r))))))),s&&d&&d.current&&i.a.createElement(m,{anchor:d.current,onDismiss:()=>c(!1),pinId:t,signals:e}))}function b({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:a,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:l}=e;return n?i.a.createElement(f,{pinId:t,signals:n}):a?i.a.createElement(f,{pinId:t,signals:a}):o?i.a.createElement(f,{pinId:t,signals:o}):r?i.a.createElement(f,{pinId:t,signals:r}):l?i.a.createElement(f,{pinId:t,signals:l}):null}},i9se:function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var a=n("Y+p1"),i=n.n(a),o=n("QkVN"),r=n.n(o),l=n("KFEb");const s={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},c={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},d={[c.BOARD]:l.a.BOARD_ACTIVITYITEMS,[c.BOARD_ACTIVITY]:l.a.BOARD_ACTIVITYCOMMENTS,[c.BOARD_ACTIVITY_COMMENT]:l.a.BOARD_ACTIVITYCOMMENTS},u={},m=(e,t)=>{const n={...r()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{}};return i()(e,n)?e:n},p=e=>e.reduce((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,a=t.ref_board_activity;n&&a&&(e.push({...n,user:t.user}),e.push(a),e.push({...t,comment:{id:n.id},ref_board_activity:{id:a.id}}))}else e.push(t);return e},[]);t.d=(e=u,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:a,options:i}}=t;if("BoardActivityCommentFeedResource"===a){const t=(n||[]).reduce((t,n)=>(t[n.id]=m(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityFeedResource"===a){const t=p(n||[]).reduce((t,n)=>(t[n.id]=m(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityResource"===a&&n){const t=n;return{...e,[t.id]:m(e[t.id],t)}}if("BoardActivityPinsGridCommentsResource"===a){const t=Object.values(n||{}).reduce((e,t)=>e.concat(t||[]),[]).reduce((t,n)=>Object.prototype.hasOwnProperty.call(n,"id")?{...t,[n.id]:m(e[n.id],n)}:t,{});return{...e,...t}}if("BoardActivityCommentResource"===a&&n){const t=n,a={[t.id]:m(e[t.id],t)};if(t.root_board_activity){const n=t.root_board_activity.id;a[n]=m(e[n],t.root_board_activity)}return{...e,...a}}if("NewsHubDetailsResource"===a&&n&&n.length>0&&n[0].content_items){const t={};return n.forEach(e=>{e.content_items.forEach(e=>{const n=e.content_object&&e.content_object.type;if(n===c.BOARD_ACTIVITY_COMMENT||n===c.BOARD_ACTIVITY){const n=e.content_object;p([n]).forEach(e=>t[e.id]=e)}})}),{...e,...t}}if(["PinResource","PinPageResource"].includes(a)&&n&&n.board_activity){const t=n.board_activity;return t.board=n.board,{...e,[t.id]:m(e[t.id],t)}}if(("BoardFeedResource"===a||"BoardSectionPinsResource"===a)&&("react_grid_pin_with_board_activity"===i.field_set_key||"partner_react_grid_pin_with_board_activity"===i.field_set_key)||"BoardActivityPinsFeedResource"===a){const t=(n||[]).reduce((t,n)=>{const a=n.board_activity;return a&&a.id&&(t[a.id]=m(e[a.id],a)),t},{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:a}}=t;if(a===c.BOARD_ACTIVITY_COMMENT||a===c.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:m(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:a}}=t,i=e[a];if(i&&[c.BOARD_ACTIVITY_COMMENT,c.BOARD_ACTIVITY].includes(i.type)){const t={...i,comment_count:n?i.comment_count+1:i.comment_count-1};return{...e,[a]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:a,reactionType:i}}=t,o=e[a]||{},{reaction_counts:r={}}=o,l=r[i]||0,s=n?l+1:Math.max(l-1,0),c=n?i:0,d={...o,reaction_counts:{...r,[i]:s},reaction_by_me:c};return{...e,[a]:d}}}}return e}},jCsw:function(e,t,n){function a(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return a}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/thanks-62775475.svg"},jkxn:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n.n(a);function o(e){return i.a.createElement("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"}},e)}},joD6:function(e,t,n){var a=n("/MKj");t.a=Object(a.connect)(({viewer:e})=>({viewer:e}))},kVqD:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("U4JR"),o=n("gD/Z");function r(e,t){const{componentType:n,contextLogData:r,viewParameter:l,viewType:s}=Object(o.b)();return Object(a.useCallback)(()=>{Object(i.a)(e,{component:n,view:s,viewParameter:l,...r,...t||{}})},[t,n,r,e,l,s])}},l61J:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("q1tI");function i(e){return e.startsWith("enabled")||e.startsWith("employee")}function o(e,{activate:t=!0,activateExperiment:n,group:o,userIsEligible:r=!0}){var l;l=()=>{t&&r&&n(e)},Object(a.useEffect)(l,[]);const s=Object(a.useCallback)(()=>{r&&n(e)},[n,r,e]);return{group:r?o:"",anyEnabled:r&&i(o),customActivate:r&&!t?s:()=>{}}}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/goodIdea-b770896d.svg"},ou9u:function(e,t,n){function a(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return a}))},pIlY:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var a=n("q1tI"),i=n.n(a),o=n("1dBE"),r=n("DzJC"),l=n.n(r);const{Provider:s,Consumer:c,useHook:d}=Object(o.c)("HeaderShadow");function u({children:e}){const[t,n]=Object(a.useState)(!1),[o,r]=Object(a.useState)(!1),[c,d]=Object(a.useState)(0),[u,m]=Object(a.useState)(null),p=l()(()=>{t&&(r(window.scrollY>0),d(window.scrollY))},50);return Object(a.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(a.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),i.a.createElement(s,{value:{currentScrollPosition:c,isScrolled:o,setSubheaderShadow:m,subheaderShadow:u}},e)}},pSsd:function(e,t,n){n.d(t,"a",(function(){return a}));const a="favorited"},q8wg:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("8wun"),r=n("1u47");t.a=e=>i.a.createElement(r.a,Object.assign({},e,{timeSpentManager:o.a}))},qLDv:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return s}));const a=36,i=44,o=446,r=["enabled_left_stela","employees","enabled_v2_holdout"],l=["employees","enabled","enabled_holdout"],s=["employees","enabled_popular_bestseller_colorful","enabled_popular_bestseller_neutral","enabled_popular_colorful","enabled_popular_neutral"]},qUSw:function(e,t,n){function a(e,t){return{type:"UPDATE_ACTIVITY_ITEM_COMMENT_COUNT",payload:{increment:t,id:e}}}function i(e){return a(e,!1)}function o(e){return a(e,!0)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},qYux:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("1dBE");const{Provider:r,Consumer:l,useHook:s}=Object(o.c)("ContentHeader");function c({children:e}){const[t,n]=Object(a.useState)(!1);return i.a.createElement(r,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n}},e)}},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a),o=n("VJm5"),r=n("TSYQ"),l=n.n(r),s=n("RwJG"),c=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:a="",dominant_color:o,images:r={}}=n,l=r["474x"].width>r["474x"].height?r["736x"]:r["474x"];return i.a.createElement(c.d,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}}},i.a.createElement(c.d,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:s.a.storyPinImage}}},i.a.createElement(c.u,{alt:a,color:o,naturalHeight:l.height,naturalWidth:l.width,onError:e,onLoad:t,src:l.url,fit:"cover"})))}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:a,imageFit:r,lowResOnly:s,mediumResOnly:m,onError:p,onLoad:h,pin:g,saved:f=!1,animateGif:b})=>{const{carousel_data:y,description:w="",dominant_color:v,id:_,images:E}=g;if(y)return i.a.createElement(o.a,{onError:p,onLoad:h,highResOnly:a,lowResOnly:s,pinId:_});let x,T="",O=0,S=0;if(E){let e=E["236x"];a?e=E["736x"]||E.orig||E["474x"]||E["236x"]:m&&(e=E["474x"]||E.orig||E["236x"]),O=e.height,S=e.width,T=e.url,x=s||m||a?e.url+" 1x":[E["236x"].url+" 1x",E["474x"]&&E["474x"].url+" 2x",E["736x"]&&E["736x"].url+" 3x",E.orig&&E.orig.url+" 4x"].filter(Boolean).join(", ")}if(b){const e=Math.max(g.embed&&g.embed.width||0,236),t=Math.max(g.embed&&g.embed.height||0,236),n=g.embed?g.embed.src:"";n&&(O=t,S=e,T=n,x="")}return i.a.createElement(c.d,{minHeight:u,display:"flex",alignItems:"center"},i.a.createElement(c.d,{flex:"grow"},i.a.createElement("div",{className:l()({savedGradient:f})},g.story_pin_data_id?i.a.createElement(d,{pin:g,onError:p,onLoad:h}):i.a.createElement(c.d,{height:t?e:void 0,width:t||void 0},i.a.createElement(c.u,{alt:w,color:"dominant"===n?v:n,fit:r,naturalHeight:O,naturalWidth:S,onError:p,onLoad:h,src:T,srcSet:x})))))}},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("XSD5"),l=n("ZbwW"),s=n("0nTG"),c=n("U4JR"),d=n("4cTg"),u=n("n6mq");function m({carouselData:e,carouselIndex:t,componentType:n,contextLogData:a,handleCarouselSwipe:m,isCloseup:p,isEditMode:h,pinId:g,isPdp:f,viewParameter:b,viewType:y,variant:w}){const v=Object(o.useSelector)(({pins:e})=>e[g],o.shallowEqual),_=e||Object(l.a)(v),E=Object(o.useDispatch)();if(!_)return null;const x=(e,t,i)=>{h||void 0===r.a||(e.preventDefault(),e.stopPropagation(),E(Object(r.a)(String(g),i))),void 0!==m&&m(i),((e,t,n,a,i,o,r,l,d,u)=>{if(!u){const{carousel_slots:u,id:m}=i;Object(c.a)(108,{...d,objectId:t,component:l,view:r,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(m),carouselSlotIndex:n,toCarouselSlotIndex:a}},...Object(s.f)(e)||{}})}})(v,g,t,i,_,b,y,n,a,h)},{carousel_slots:T=[],index:O}=_,S=void 0!==t?t:O,C="default"===w,k=C?"white":"#555",P=C?"rgba(255, 255, 255, 0.5)":"lightGray";return i.a.createElement(d.b.Consumer,null,({showCloseupContentRight:e,viewportSize:t})=>"sm"===t?null:i.a.createElement(u.d,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:h?1:0},[...Array(T.length).keys()].map(e=>i.a.createElement(u.d,{key:g+e,paddingX:1},i.a.createElement(u.T,{accessibilityLabel:T[e].title,fullWidth:!1,onTap:({event:t})=>x(t,S,e),rounding:"circle"},i.a.createElement(u.d,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===S?k:P}},rounding:"circle"}))))))}},rYoy:function(e,t,n){var a=n("E8d4");t.a=a.a},"s+7V":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("i8i4"),r=n.n(o);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new Map;let c=null;const d=e=>{e.forEach(e=>{const t=s.get(e.target);t&&t(e)})};t.a=e=>{class t extends a.Component{constructor(...e){super(...e),l(this,"seen",!1),l(this,"flushTimeout",null),l(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),l(this,"leave",()=>{const e=this._node;e&&(e=>s.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),l(this,"observe",e=>{try{this._node=r.a.findDOMNode(this)}catch(a){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};c=c||new window.IntersectionObserver(d,a),s.set(e,n),c.observe(e)})(n,e,e=>{if(!s.has(n))return;const a=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=this.props.trackFullVisible?e.intersectionRatio>=1:a,o=this.props.trackFullVisible?0===e.intersectionRatio:!i;!this.seen&&i?this.enter(e):this.seen&&o&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{c.unobserve(e),s.delete(e)})(e))}render(){return i.a.createElement(e,this.props)}}return l(t,"displayName",`WithVisibilityChanged(${e.displayName||e.name})`),t}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a),o=n("Nle8"),r=n("eOdZ"),l=n("0nTG"),s=n("U4JR"),c=n("Y8Sn"),d=n("7jH2");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:m,viewType:p}){const[h,g]=Object(a.useState)(),[f,b]=Object(a.useState)(),{id:y,tracked_link:w,link:v}=n,_=w||v||"",E=e=>{g(!0)},x=Object(d.d)(Object(d.p)({pin:n})),T=Object(a.useCallback)(()=>{((e,t,n)=>{const a={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(o.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:y,...u||{},...Object(l.f)(e)||{}})};return r.a.create("OffsiteLinkResource",a)})(n,_,!1).callGet({showError:!1}).then(e=>{e&&(Object(s.a)(12,{clickthrough_type:"rightClick",objectId:y,view:p,viewParameter:x,...u||{},...Object(l.f)(n)||{}}),Object(c.d)()&&Object(s.a)(8948,{click_type:"clickthrough",closeup_navigation_type:m&&Object(c.k)(m)?"deeplink":"click",clickthrough_type:"rightClick",view:p,objectId:y,viewParameter:x,...u||{},...Object(l.f)(n)||{}}))})}),O=()=>{h&&(T(),g(!1),window.removeEventListener(f,O,!1))};return Object(a.useEffect)(()=>{var e,t,n,a,i,o;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?b("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(a=n.document)||void 0===a?void 0:a.msHidden)?b("msvisibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(o=i.document)||void 0===o?void 0:o.webkitHidden)&&b("webkitvisibilitychange")},[]),Object(a.useEffect)(()=>(h&&window&&window.addEventListener(f,O,!1),()=>window.removeEventListener(f,O)),[h,f]),Object(a.useEffect)(()=>(t&&window.addEventListener("contextmenu",E),()=>{window.removeEventListener("contextmenu",E)}),[t]),i.a.createElement(a.Fragment,null,e)}},tMjw:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var a=n("q1tI"),i=n.n(a),o=n("I7CA"),r=n("vcEN"),l=n("n6mq");const s="#000000",c="#efefef";function d({selected:e=!1}){return i.a.createElement(l.d,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?s:c,borderRadius:u,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}}})}const u=16,m={wrapper:{borderRadius:u,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"}};function p({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:a,primaryContentVisibility:s="none",secondaryContent:c,secondaryContentVisibility:u="none",accessoryContent:p,accessoryContentVisibility:h="none",actionBar:g,actionBarVisibility:f="none",footer:b,selectionState:y="no-selection",debugContent:w,signalDebuggerContent:v,signalDebuggerV2Content:_,signalDebuggerV2ContentVisibility:E="none",obscuredPinOverlay:x,showNoPinBorderRadius:T,showPromotedPinBorderTreatment:O}){return i.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:O?m.promotedPinBorderTreatment:{}}},i.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:T?{}:m.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative"},["selected","deselected"].includes(y)&&i.a.createElement(d,{selected:"selected"===y}),i.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:T?{}:m.wrapper},overflow:"hidden",position:"relative"},e,i.a.createElement(r.a,{visibility:n},i.a.createElement(o.a,{additionalStyles:m.visualOverlay})),i.a.createElement(r.a,{visibility:t},i.a.createElement(o.a,{additionalStyles:m.savedOverlay})),p&&i.a.createElement(r.a,{visibility:h},i.a.createElement(o.a,null,p)),c&&i.a.createElement(r.a,{visibility:u},i.a.createElement(o.a,null,c)),a&&i.a.createElement(r.a,{visibility:s},i.a.createElement(o.a,null,a)),_&&i.a.createElement(r.a,{visibility:E},i.a.createElement(o.a,null,i.a.createElement(l.d,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2},_))),g&&i.a.createElement(r.a,{visibility:f},i.a.createElement(o.a,null,i.a.createElement(l.d,{position:"absolute",left:!0,right:!0,bottom:!0},g))),w&&i.a.createElement(o.a,null,w),v),b,x&&i.a.createElement(l.d,null,x)))}},vpxy:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("9WJf"),l=n("ynlw"),s=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:a,carousel_data:i,grid_title:o,rich_summary:r,title:c}=t,{isOwnPin:d,isPromoted:u}=Object(l.a)(t);if(u){if(s.a.includes(n))return o||"";if(d&&!e&&!i&&"UserProfilePinGrid"!==n)return"";if(i){const{carousel_slots:e=[],index:t}=i;if(e[t]&&e[t].title)return e[t].title.trim()}const t=r&&"mobile application"!==r.type_name&&r.display_name,l=a&&a.title;return c||t||l||o||""}return o||""}const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n("JW66");var m=n("QLqj"),p=n("XPo3"),h=n("mVz+");function g({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:a,pinImageCrop:i,resolution:o="default",showPromotedVideos:r,surface:l}){let s="backend";"CloseupRelatedProducts"===l?s={height:h.a,width:h.b}:"TopicBestPinWide"===l?s={height:p.h,width:p.i}:"TopicBestPinNarrow"===l?s={height:p.b,width:p.c}:["ArticleProductsStory"].includes(l)||l&&["ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridCrop"].includes(l)?s={height:h.o,width:h.p}:i&&(s=i);const c=["ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain"].includes(l);let d="none";"string"!=typeof s&&(d="cover",(c||"ShoppingSquareGridCrop"===l&&n)&&(d="contain"));const g=c?"transparent":"dominant",f=(e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"})(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===m.c.getItem(u.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:g,imageFit:d,isDenseView:t,isSocialSeasonalBoard:a,resolution:o,rootMargin:f,pinImageCrop:s,showCarousel:e,showPromotedVideos:r}}const f=["ShoppingCatalogsProductsMetadata"];var b=n("8A+h"),y=n("clxp");const w={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var v=n("1Fta"),_=n("Ye/N"),E=n("vvax");var x=n("63p3");var T=n("Zygf");var O=n("v/Q4"),S=n("gC5q"),C=n("T5j3"),k=n("Y8Sn"),P=n("ENhS"),I=n("gD/Z"),j=n("N89m"),B=n("EPem");const R=["CloseupRelatedProducts","ConversationView","CreatorProfilePinGrid","ProductPinsFeed","UserProfilePinGrid"];function D({attributionOption:e,board:t,boardActivityOptions:n,contentType:a,feedbackData:i,feedbackType:o,hasCarouselData:r,isGroupBoard:s,isOwnBoard:d,pin:u,showBoardActivityComments:m,showImageOnly:p,showNativeReactions:h,surface:g,viewer:f}){const{isPromoted:b}=Object(l.a)(u),{promoter:y,unified_user_note:w}=u,v=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:a,showImageOnly:i,surface:o}){const{is_downstream_promotion:r,native_creator:l,promoter:s}=a;if("promoted"===t||s&&!r)return"default";if(R.includes(o))return"none";if(n)return"none";let c="default";return e&&("image-only"===e?c="image-only-credit":"hide"===e&&(c="none")),"followed"===t&&!i||("TodayArticleFeed"===o||"IdeasHubSeasonalRow"===o)&&"hide"===e?c:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":l?"default":"none"}({attributionOption:e,feedbackType:o,isGroupBoard:s,pin:u,showImageOnly:p,surface:g}),_=p?"":c({isGroupBoard:s,pin:u,surface:g}),E=!["ShoppingPackageItem","ShoppingSquareGridDomain"].includes(g)&&!b&&!p&&Boolean(Object(j.a)(u)),x="BaseBoardPinGrid"===g&&!b&&w?w.trim():null,T=b,O="shopping"===a,S=/ShoppingSquareGridRelatedProducts/.test(g);let C=2;b?C=3:(E||"none"!==v)&&(C=O||S?2:1);let k,P;if(O||b&&S){var I,D;const e=null===(I=u.rich_summary)||void 0===I||null===(D=I.products)||void 0===D?void 0:D[0],{offer_summary:t}=e||{};k=t?t.standard_price:void 0,P=t?t.price||t.max_price:void 0}const L=O||["ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridCrop"].includes(g)?20:30;let A;A=s?25:"CloseupRelatedProducts"===g?23:L;return{attributionType:v,contentType:a,feedbackData:i,feedbackType:o,isDarkPromoter:!b&&!!y,pinTitle:_,productOriginalPrice:k,productCurrentPrice:P,showBoardActivityComments:m,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:r,showGroupBoardAvatar:s,showOverflowMenu:T,showPinStats:Object(B.c)(u,f),showNativeReactions:h,showSource:E,showTextContent:"CreatorProfilePinGrid"!==g,singleLineMaxLength:A,titleLines:C,useLegoPadding:m,userNote:x,board:t}}var L=n("g5OB"),A=n("W5T3"),M=n("0SCs"),U=n("0S8y");const V=["ArticleProductsStory","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","TopicBestPinNarrow","TopicBestPinWide"],H=["BoardCreateUpsell","BulkEditMode","EngagementDetails","SectionSuggestedPins"],N=["BoardCreateUpsell","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","ShoppingCatalogsProductsMetadata"];t.a=Object(o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},groupBoardGridComments:n,pins:a},{pin:i,pinId:o}){const r=a[o]||i,l=r.board&&r.board.id,s=(l?t[""+l]:void 0)||r.board,{board_activity:c}=r;return{board:s,hasComments:!!(c&&c.id&&n&&n[c.id]&&n[c.id].length),isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:u,debugImpressionState:m,feedbackOptions:p,hasComments:h,imageOnlyOption:j="default",isSocialSeasonalBoard:B,pinImageCrop:R,reduxPin:F,resolution:z="default",saveButtonOptions:G,surface:q,trackingParameters:W,...Y}){const{collaborated_by_me:X,collaborator_count:J,is_collaborative:K}=n||{},{pinner:Z,showFeedback:$}=F,Q=Object(T.a)(F),ee=Object(O.a)(),{slotIndex:te,viewParameter:ne}=W,ae=Object(o.useSelector)(({ui:e})=>e.views),ie=Object(o.useSelector)(({ui:e})=>e),oe=ie.app?ie.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},re=Object(k.j)(F.id,oe),le=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(F),se=Object(x.a)(F)||le,ce=ee.isAuth&&ee.isEmployee,de=ee.isAuth&&(Object(U.c)({user:ee})||Object(U.e)({user:ee}))&&!ee.isPartner;let ue=de;"TodayArticleFeed"===q&&(ue=!1),"default"!==j&&(ue="image-only"===j),function(e){return s.c.includes(e)}(q)&&(ue=!1);let me=t;de&&!me&&(me="image-only");const pe=function({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:i}=t,{getFeedbackType:o}=Object(v.a)({i18n:_.a,interpolateNamedTemplate:E.b});return o({board:a,feedback:e,pin:t,pinner:i,viewParameter:n})}({feedbackOptions:p,pin:F,viewParameter:ne}),{data:he}=p||{},ge=J>0||K,fe=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=w[t];return!!n&&"dense"===e[n]}(ae,q),be=ge&&"BaseBoardPinGrid"===q,ye=Object(b.a)(ee,n),we=Boolean(ee.isAuth&&Z&&Z.id===ee.id),ve=X||ge&&ye,_e=ee.isAuth&&ee.isPartner,Ee=ee.isAuth&&ee.boardCount?ee.boardCount:0,{anyEnabled:xe}=Object(M.c)("web_better_save_after_fbc",Ee>0),Te=F.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==q,Oe=Object(a.useMemo)(()=>function({board:e,inBetterSaveAfterFBCExp:t,isDenseView:n,isGroupBoard:a,isOwnBoard:i,isOwnPin:o,isQuickPromotable:l,isRemovable:c,saveButtonOptions:d,surface:u,viewer:m,viewerIsCollaborator:p}){const h=m.isAuth?m.boardCount:void 0;let g=d||function(e=0,t){return e<(t?1:2)?{type:"classic"}:{type:"inline"}}(h,t);l?g={type:"promote"}:(p||i||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&(g={type:"classic"}),(c||f.includes(u))&&(g={type:"none"});const b=i&&!a,y=e&&Object(r.a)({action:4,board:e})||o;return{board:e,derivedSaveButtonOptions:g,showEditButton:Boolean(b||"UserProfilePinGrid"===u&&y),showLikeButton:p&&a&&s.d.includes(u),supportsReactionBar:!n}}({inBetterSaveAfterFBCExp:xe,isDenseView:fe,isGroupBoard:be,isOwnBoard:ye,isOwnPin:we,isQuickPromotable:Te,isRemovable:Q,saveButtonOptions:G,surface:q,viewer:ee,viewerIsCollaborator:ve,board:n}),[xe,be,ye,we,Te,Q,G,q,ee,n]),{isPromoted:Se}=Object(l.a)(F),{anyEnabled:Ce,group:ke}=Object(M.c)("web_shopping_grid_labels");let Pe;Ce&&["ShoppingSquareGridHomefeedBoth","ShoppingSquareGridCrop","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridDomain"].includes(q)&&!Se&&(["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(ke)?Pe="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(ke)&&(Pe="white"));const Ie=Object(a.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:le,shoppingLabelColor:Pe,surface:q}),[le,Pe,q]),je=se,Be=Object(a.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:a,isGroupBoard:i,isOwnBoard:o,pin:s,surface:u}){const m=Boolean(null==e?void 0:e.is_collaborative),{isOwnPin:p,isPromoted:h}=Object(l.a)(s),g=c({isGroupBoard:i,pin:s,surface:u}),f=e&&Object(r.a)({action:4,board:e})||p;let b="default";return a&&(b=i?"icon-only":"truncated-text"),{actionBarEditBeforeShare:m,feedbackData:t,feedbackType:n,layout:i&&a?"equally-spaced":"default",pinTitle:g,showEditButton:i&&f,showOverflowMenu:!(h||o||i||d.includes(u)),showShareButton:"CloseupRelatedProducts"!==u,sourceLinkStyle:b}}({board:n,feedbackData:he,feedbackType:pe,isDenseView:fe,isGroupBoard:be,isOwnBoard:ye,pin:F,surface:q}),[n,he,pe,fe,be,ye,F,q]),Re=!!(n&&n.is_collaborative&&"BaseBoardPinGrid"===q&&h),De=!Se&&["ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata"].includes(q)?"shopping":"standard",Le=Object(C.c)(F),Ae=Object(a.useMemo)(()=>D({attributionOption:me,board:n,boardActivityOptions:u,contentType:De,feedbackData:he,feedbackType:pe,hasCarouselData:se,isGroupBoard:be,isOwnBoard:ye,pin:F,showBoardActivityComments:Re,showImageOnly:ue,showNativeReactions:Le,surface:q,viewer:ee}),[me,n,u,he,pe,se,be,ye,F,Re,ue,q,ee]);let Me=Boolean(Ae.pinTitle)||Ae.contentType||Ae.userNote||Ae.showSource||"none"!==Ae.attributionType||Ae.showNativeReactions||Ae.productCurrentPrice||Ae.productOriginalPrice||Ae.showPinStats||be;"BaseBoardPinGrid"===q&&ye&&_e?Me=!0:V.includes(q)||fe||B?Me=!1:we||"CreatorProfilePinGrid"!==q||(Me=!1);const Ue=Boolean($),{anyEnabled:Ve,customActivate:He}=Object(M.b)("web_others_board_feed_ads_border");let Ne=!1;"BaseBoardPinGrid"===q&&Se&&(Ne=Ve,He());const Fe={showNoPinBorderRadius:"TopicBestPinNarrow"===q||"TopicBestPinWide"===q,showPromotedPinBorderTreatment:Ne},{anyEnabled:ze}=Object(M.a)("hfp_homefeed_control_cta_variants"),Ge=Ue?{feedbackType:pe,isHomefeedControlPanelExp:!0,isHomefeedTunerVariantExp:ze}:void 0,{anyEnabled:qe}=Object(M.c)("ads_desktop_video_ads"),We=R&&"string"!=typeof R?[R.height,R.width]:[R],Ye=Object(a.useMemo)(()=>g({hasCarouselData:se,isDenseView:fe,isPromoted:Se,isSocialSeasonalBoard:B,pinImageCrop:R,resolution:z,showPromotedVideos:qe,surface:q}),[se,fe,B,z,qe,q,...We]),Xe=ce&&Object(A.a)(),Je=Object(a.useMemo)(()=>({debugImpressionState:m,slotIndex:te}),[m,te]);return i.a.createElement(y.a,{name:"PinRepConfiguration"},i.a.createElement(I.a,{value:W},i.a.createElement(P.a,{value:{surface:q}},i.a.createElement(L.b,Object.assign({actionBarProps:Be,blockClickEvents:e,currentlyPlayingVideo:re,footerProps:Ae,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(q),impressionsDebuggerProps:Je,obscuredPinOverlayProps:Ge,pin:F,pinVisualProps:Ye,presentationProps:Fe,primaryContentProps:Oe,secondaryContentProps:Ie,showAccessoryContent:je,showActionBar:!N.includes(q),showFooter:Me,showImpressionsDebugger:Xe,showObscuredPinOverlay:Ue,showPrimaryAndSecondaryContent:!H.includes(q),showSignalDebugger:ce,surface:q},Object(S.b)(Y,["pinId"]))))))}))},wzxk:function(e,t,n){n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n("9Hsp");const i=e=>"string"==typeof e?e:"",o=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,r=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:a}=(e=>{const{place_summary:t,rich_summary:n}=e||{},a=n&&"mobile application"!==n.type_name;return{hasRichSummary:a,hasRichAttributionTitle:a&&n.display_name,hasPlaceInfo:!!t}})(e),i=o(e);return t&&t.trim()?t.trim():n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:a}=t;return n=n||{},a=a||{},{faviconLink:n["50x"]||a["50x"]||n.orig||a.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:a?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&i?i:null},l=e=>{const t=e.pin_join||{},n=t.visual_annotation||[];let i=e.description||"";const o=(e.rich_metadata||{}).description||"",r=e.closeup_unified_description||"",l=n.map(e=>(t.annotations_with_links||{})[e]||{name:e,url:""}),s=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=i.toLocaleLowerCase().trim(),d=o.toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim();return r&&r.length>3&&u!==s?i=r:o&&o.length>3&&d!==s?i=o:(!i||i.length<3||c===s)&&(i=""),i&&(i=Object(a.a)(Object(a.b)(i,496)).trim()),{description:i,vaseAnnotations:n,annotationsWithLinks:l}},s=(e,t,n)=>{const a=i(e);let o=a;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),r=i(t);n!==a.toLowerCase()&&n!==r.trim().toLowerCase()&&(o=e)}let r=n.visual_annotation;r&&(r=r.join(", "),o&&(o+=" "),o+=r)}return o}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/love-c31e0b8d.svg"},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("US8k"),l=n("n6mq");function s({duration:e}){return i.a.createElement(l.d,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill"},i.a.createElement(l.s,{accessibilityLabel:o.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),i.a.createElement(l.d,{marginStart:1},i.a.createElement(l.U,{color:"white",size:"sm",truncate:!0},Object(r.a)(e))))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/162-46bcd707f395d193ae3e.mjs.map