(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[191,"STeLAContainerWrapperCommon"],{"+vFu":function(e,t,n){n.r(t),n.d(t,"STeLAContainerWrapper",(function(){return v}));var a=n("q1tI"),r=n.n(a),i=n("/MKj"),o=n("Q3yk");function s(e){return{type:"STELA_SELECT",payload:{selectedStelaItem:e}}}var c=n("mlX6"),l=n("zJ39"),h=n("KNE1"),p=n("qLDv"),d=n("U4JR"),u=n("n6mq");const m={};function w({alwaysShow:e,contextLogData:t,imageHeight:n,imageWidth:i,isSelected:o,label:s,labelPressState:c,xPos:w,yPos:y}){const g=Object(a.useRef)();Object(a.useEffect)(()=>{Object(d.a)(120,{view:3,...t})},[]),Object(a.useEffect)(()=>{m[s]={}},[s]),Object(a.useEffect)(()=>{const e=g.current&&g.current.getBoundingClientRect().width;m[s].width=e},[g.current]);const S={backgroundColor:e&&o?"#000":"rgba(255, 255, 255)",zIndex:5,whiteSpace:"nowrap",left:(m[s]||{}).left?-((m[s]||{}).width+p.c):void 0},f={none:{...S,opacity:0},down:{...S,animation:"stelaSlideIn .3s ease-in-out forwards"},up:{...S,animation:"stelaSlideOut .3s ease-in-out forwards"}},v=(m[s]||{}).width;let x=w,b=y;return w+v>i?x=i-v:w<0&&(x=0),y+33>n?b=n-33:y<0&&(b=0),r.a.createElement(u.d,{dangerouslySetInlineStyle:{__style:{top:b,left:x}},display:"flex",position:"absolute"},r.a.createElement(h.a,{unsafeCSS:Object(l.a)()}),r.a.createElement(u.d,{ref:g,dangerouslySetInlineStyle:e?{__style:{...S,opacity:(m[s]||{}).width?1:0}}:{__style:(m[s]||{}).width?{...f[c]}:{opacity:0}},padding:2,position:"relative",rounding:"pill"},r.a.createElement(u.U,{align:"left",color:e&&o?"white":"darkGray",overflow:"normal",size:"md",weight:"bold"},s)))}var y=n("uhAL"),g=n("C0mq");const S=()=>{};var f=Object(g.a)((function({alwaysShow:e,cropSource:t,currentSpotlightIdx:n,handleStelaClick:a,height:l,index:h,history:m,labelPressState:g,onStelaDotAnimationComplete:f,pin:v,searchQuery:x,stelaDotAnimationType:b,stelaArea:C,trafficSource:E,width:O}){const A=Object(i.useDispatch)(),k={x:((C.label_x||C.x)+C.w/2)*O,y:((C.label_y||C.x)+C.h/2)*l},_={element:1221,image_signature:v.image_signature,visual_objects:JSON.stringify({x:C.x,y:C.y,w:C.w,h:C.h,object_category:C.label}),pin_id:v.id,commerce_data:JSON.stringify({pin_is_stela:!0})};return r.a.createElement(u.T,{onMouseEnter:S,onMouseLeave:S,onTap:()=>{if(e?Object(d.a)(101,{view:427,..._}):Object(d.a)(101,{view:3,..._}),e&&a&&C&&h)A(s(C)),a(h);else if(C&&m){const{height:e,width:t}=Object(o.a)(v,p.b),n=Object(y.e)({cropArea:C,scaledWidth:t,scaledHeight:e});let a=`/pin/${v.id}/related-products/?x=${n.x}&y=${n.y}&w=${n.w}&h=${n.h}&entrySource=shopping&cropSource=4`;x&&(a=a.concat("&q="+x)),E&&(a=a.concat("&rs="+E)),A(s(C)),m.push(a)}}},r.a.createElement(u.d,{dangerouslySetInlineStyle:{__style:{top:k.y,left:k.x}},display:"flex",position:"absolute","data-test-id":"stela-label-dot"},("inOut"===b||!C.label&&("down"===g||e)||O<=400&&e)&&r.a.createElement(c.a,{alwaysShow:e,contextLogData:_,isSelected:C.isSelected,onStelaDotAnimationComplete:f,stelaDotAnimationType:b,imageSignature:v.image_signature})),C.label&&!(e&&O<=400)&&r.a.createElement(w,{alwaysShow:e,contextLogData:_,imageWidth:O,imageHeight:l,isSelected:C.isSelected,label:C.label,labelPressState:g,xPos:k.x,yPos:k.y}))}));function v({alwaysShow:e,cropSource:t,closeupImageHovered:n,currentSpotlightIdx:a,handleStelaClick:o,height:s,history:c,labelPressState:l,onStelaDotAnimationComplete:h,pin:p,searchQuery:d,shopButtonHovered:m,stelaDotAnimationType:w,trafficSource:g,width:S}){const v=Object(i.useSelector)(e=>e.stela)||{},{visual_objects:x}=p||{},b=(!!x&&Object(y.c)(x)||[]).map(e=>{if(v.selectedStelaItem){const{x:t,y:n}=v.selectedStelaItem;if(e.x===t&&e.y===n)return{...e,isSelected:!0}}return{...e,isSelected:!1}});return r.a.createElement(u.d,{height:s,position:"absolute",width:S,dangerouslySetInlineStyle:{__style:"in"===w||n&&!m?{backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}}},b.map((n,i)=>r.a.createElement(f,{alwaysShow:e,cropSource:t,currentSpotlightIdx:a,key:`${n.x}${n.y}`,height:s,index:i,handleStelaClick:o,labelPressState:l,onStelaDotAnimationComplete:h,pin:p,searchQuery:d,stelaDotAnimationType:w,stelaArea:n,trafficSource:g,width:S})))}t.default=Object(g.a)(v)},OBA1:function(e,t,n){var a=n("q1tI"),r=n.n(a);const i={nw:0,ne:90,se:180,sw:270},o={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},s={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},c=(e,t,n,a)=>{if("rounded"===a){const[a,r]=o[e];return`translate(${t+a}, ${n+r}), rotate(${i[e]})`}return`translate(${t}, ${n}), rotate(${i[e]})`};function l({corner:e,x:t,y:n,size:a,cornerStyle:i}){return r.a.createElement("g",{transform:c(e,t,n,i),style:{cursor:s[e]}},r.a.createElement("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:a,height:a,className:"v2cropperHandle "+e}),"rounded"===i?r.a.createElement("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:"v2cropperHandle "+e}):r.a.createElement("path",{d:`M ${a} 0 L 0 0 L 0 ${a}`,fill:"none",stroke:"#fff",strokeWidth:6,className:"v2cropperHandle "+e}))}const h={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function p({edge:e,x:t,y:n,w:a,h:i}){return r.a.createElement("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:a,height:i,className:"v2cropperHandle "+e,style:{cursor:h[e]}})}const d=20;function u({x:e,y:t,w:n,h:i}){const o="rounded";return r.a.createElement(a.Fragment,null,r.a.createElement(l,{corner:"nw",x:e,y:t,size:d,cornerStyle:o}),r.a.createElement(l,{corner:"ne",x:e+n,y:t,size:d,cornerStyle:o}),r.a.createElement(l,{corner:"sw",x:e,y:t+i,size:d,cornerStyle:o}),r.a.createElement(l,{corner:"se",x:e+n,y:t+i,size:d,cornerStyle:o}),r.a.createElement(p,{edge:"n",x:e+d,y:t-10,w:n-40,h:30}),r.a.createElement(p,{edge:"e",x:e+n-d,y:t+d,w:30,h:i-40}),r.a.createElement(p,{edge:"s",x:e+d,y:t+i-10,w:n-40,h:30}),r.a.createElement(p,{edge:"w",x:e-d,y:t+d,w:30,h:i-40}))}var m=n("n6mq"),w=n("pQ8y"),y=n("U4JR");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=10,f=48;class v extends r.a.Component{constructor(...e){super(...e),g(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),g(this,"cropResizeDirection",null),g(this,"_cropperOverlay",Object(a.createRef)()),g(this,"_checkCropHandleValid",(e,t)=>{const{cropArea:{h:n,w:a,x:r,y:i}}=this.state;switch(this.cropResizeDirection){case"ne":e<r&&t>i+n?this.cropResizeDirection="sw":e<r?this.cropResizeDirection="nw":t>i+n&&(this.cropResizeDirection="se");break;case"nw":e>r+a&&t>i+n?this.cropResizeDirection="se":e>r+a?this.cropResizeDirection="ne":t>i+n&&(this.cropResizeDirection="sw");break;case"se":e<r&&t<i?this.cropResizeDirection="nw":e<r?this.cropResizeDirection="sw":t<i&&(this.cropResizeDirection="ne");break;case"sw":e>r+a&&t<i?this.cropResizeDirection="ne":e>r+a?this.cropResizeDirection="se":t<i&&(this.cropResizeDirection="nw");break;case"n":t>i+n&&(this.cropResizeDirection="s");break;case"s":t<i&&(this.cropResizeDirection="n");break;case"e":e<r&&(this.cropResizeDirection="w");break;case"w":e>r+a&&(this.cropResizeDirection="e")}}),g(this,"handleClickOutside",e=>{const{enableClickOutside:t,entrySource:n,imageSize:a,onChange:r,viewParameter:i}=this.props,{cropArea:o}=this.state,s=e.clientX-this._cropperOverlayCoor.x,c=e.clientY-this._cropperOverlayCoor.y;t&&(s<o.x||c<o.y||s>o.x+o.w||c>o.y+o.h)&&(Object(y.a)(101,{view:72,viewParameter:i,element:11677,commerce_data:JSON.stringify({entrypoint:n})}),r({origCrop:{h:a.h,w:a.w,x:0,y:0}}))}),g(this,"handleOnMouseDown",e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:a}=e,r=e.target,i=n-this._cropperOverlayCoor.x,o=a-this._cropperOverlayCoor.y,s=r.classList?Array.from(r.classList):r instanceof Element&&(null===(t=r.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];s.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),s.includes("ne")&&(this.cropResizeDirection="ne"),s.includes("nw")&&(this.cropResizeDirection="nw"),s.includes("se")&&(this.cropResizeDirection="se"),s.includes("sw")&&(this.cropResizeDirection="sw"),s.includes("n")&&(this.cropResizeDirection="n"),s.includes("s")&&(this.cropResizeDirection="s"),s.includes("e")&&(this.cropResizeDirection="e"),s.includes("w")&&(this.cropResizeDirection="w")):s.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:i,y:o}):s.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:i,y:o},this.setState({cropArea:{h:0,w:0,x:i,y:o},cropChangeType:"select"}))}),g(this,"handleOnMouseMove",e=>{const{cropArea:{h:t,w:n,x:a,y:r},cropChangeType:i}=this.state,{imageSize:o}=this.props,{clientX:s,clientY:c}=e,l=s-this._cropperOverlayCoor.x,h=c-this._cropperOverlayCoor.y;if("resize"===i){const e=Math.max(Math.min(l,o.w-S),S),i=Math.max(Math.min(h,o.h-S),S);switch(this._checkCropHandleValid(e,i),this.cropResizeDirection){case"ne":{const n=Math.max(t+(r-i),f),o=Math.max(e-a,f);this.setState({cropArea:{h:n,w:o,x:a,y:n<=f?r:i}});break}case"nw":{const o=Math.max(n+(a-e),f),s=Math.max(t+(r-i),f);this.setState({cropArea:{h:s,w:o,x:o===f?a:e,y:s===f?r:i}});break}case"se":{const t=Math.max(i-r,f),n=Math.max(e-a,f);this.setState({cropArea:{h:t,w:n,x:a,y:r}});break}case"sw":{const t=Math.max(i-r,f),o=Math.max(n+(a-e),f);this.setState({cropArea:{h:t,w:o,x:o===f?a:e,y:r}});break}case"n":{const e=Math.max(r-i+t,f);this.setState({cropArea:{h:e,w:n,x:a,y:e===f?r:i}});break}case"s":{const e=Math.max(i-r,f);this.setState({cropArea:{h:e,w:n,x:a,y:r}});break}case"e":{const n=Math.max(e-a,f);this.setState({cropArea:{h:t,w:n,x:a,y:r}});break}case"w":{const i=Math.max(n-e+a,f);this.setState({cropArea:{h:t,w:i,x:i===f?a:e,y:r}});break}}}else if("move"===i){const e=l-this.cropChangeStartCoor.x,i=h-this.cropChangeStartCoor.y,s=Math.max(Math.min(a+e,o.w-n-S),S),c=Math.max(Math.min(r+i,o.h-t-S),S);this.cropChangeStartCoor={x:l,y:h},this.setState({cropArea:{h:t,w:n,x:s,y:c}})}else if("select"===i){const e=Math.max(Math.min(l,o.w),0),t=Math.max(Math.min(h,o.h),0),n=e-this.cropChangeStartCoor.x,a=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(a),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}}),g(this,"handleOnMouseUp",e=>{const{cropChangeType:t}=this.state;"resize"!==t&&"move"!==t&&"select"!==t||this.handleCrop(),this.cropResizeDirection=null})}componentDidMount(){const{disableCrop:e}=this.props,t=document.body,n=this._cropperOverlay.current;if(n&&t){if(n){const e=n.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}e?e&&n.addEventListener("mousedown",this.handleClickOutside):(window.addEventListener("mouseup",this.handleOnMouseUp),t.addEventListener("mousemove",this.handleOnMouseMove),n.addEventListener("mousedown",this.handleOnMouseDown))}}componentWillUnmount(){const{disableCrop:e,entrySource:t}=this.props,n=document.body,a=this._cropperOverlay.current;a&&n&&(e?e&&"shopping"===t&&a.removeEventListener("mousedown",this.handleClickOutside):(window.removeEventListener("mouseup",this.handleOnMouseUp),n.removeEventListener("mousemove",this.handleOnMouseMove),a.removeEventListener("mousedown",this.handleOnMouseDown)))}handleCrop(){const{entrySource:e,imageSize:t,onChange:n,viewParameter:a}=this.props,{cropChangeType:r,cropArea:i}=this.state;if(0===i.w&&0===i.h)this.setState({cropChangeType:null}),n({origCrop:{h:t.h-20,w:t.w-20,x:S,y:S}});else{this.setState({cropChangeType:null});const o=Math.max(Math.min(i.x,t.w-f-S),S),s=Math.max(Math.min(i.y,t.h-f-S),S);let c,l;switch(c=i.h<f?f:s+i.h>t.h-S?t.h-s-S:i.h,l=i.w<f?f:o+i.w>t.w-S?t.w-o-S:i.w,r){case"move":Object(y.a)(7603,{view:72,viewParameter:a,commerce_data:e?JSON.stringify({entrypoint:e}):void 0});break;case"resize":Object(y.a)(7604,{view:72,viewParameter:a,commerce_data:e?JSON.stringify({entrypoint:e}):void 0})}n({origCrop:{h:c,w:l,x:o,y:s}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n,disableCrop:a}=this.props,{cropArea:{h:i,w:o,x:s,y:c},cropChangeType:l}=this.state;return r.a.createElement(m.d,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:a?"auto":"crosshair"}}},r.a.createElement("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.a.createElement("defs",null,r.a.createElement("mask",{id:"Mask"},r.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),r.a.createElement("rect",{key:`${s}${c}`,x:s,y:c,width:o,height:i,id:"hole",rx:a?15:0,ry:a?15:0}),r.a.createElement(w.a,{in:n&&!l,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("rect",{key:`${t.x}${t.y}`,x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4})))),r.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),r.a.createElement("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:a?"none":"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:a?"auto":"move"}}),"select"!==l&&!a&&r.a.createElement(u,{x:s,y:c,w:o,h:i})),e)}}var x=n("jkxn"),b=n("lUXN"),C=n("fMq/");function E({entrySource:e,showAnimation:t,auxData:n,index:i,isStela:o,onClick:s,onHover:c,onUnhover:l,spotlightCenter:h,viewParameter:p,viewType:d}){Object(a.useEffect)(()=>{e?Object(y.a)(120,{view:d,viewParameter:p,element:1221,commerce_data:JSON.stringify({entrypoint:e}),...n}):Object(y.a)(120,{element:1260,...n})},[]);const u=parseFloat((.1*(i+1)).toFixed(2)),m={animation:t?`spotlightDotPop 0.6s ease-out ${u}s both`:"none"};return r.a.createElement(C.a,{x:h.x,y:h.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),Object(y.a)(101,{element:o?1221:1260,viewParameter:p,...n}),s(i)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),c(i)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),l()},style:m})}var O=n("uhAL");var A=({entrySource:e,showAnimation:t,pinId:n,imageSignature:a,imageSize:i,currentSpotlightIdx:o,spotlightAreas:s,handleSpotlightClick:c,handleSpotlightHover:l,handleSpotlightUnhover:h,viewParameter:p,viewType:d})=>s.map((s,u)=>{if(u===o)return null;const m=Object(O.e)({cropArea:s,scaledWidth:i.w,scaledHeight:i.h}),w={x:m.x+m.w/2,y:m.y+m.h/2},y={commerce_data:JSON.stringify({entrypoint:e}),pin_id:n,image_signature:a,visual_objects:JSON.stringify([{x:s.x,y:s.y,w:s.w,h:s.h}])},g=`${w.x}${w.y}`;return r.a.createElement(E,{entrySource:e,showAnimation:t,auxData:y,index:u,isStela:!!s.is_stela,key:g,onClick:c,onHover:l,onUnhover:h,spotlightCenter:w,viewParameter:p,viewType:d})}),k=n("+vFu"),_=n("joD6"),M=n("qLDv");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class z extends a.Component{constructor(...e){super(...e),D(this,"state",{showPreviewArea:!1,previewSpotlightArea:{w:0,h:0,x:0,y:0},currentSpotlightIdx:0}),D(this,"handleChange",({origCrop:e})=>{const{onChange:t,entrySource:n,trafficSource:a}=this.props;t({origCrop:e,cropSource:6,entrySource:n,trafficSource:a})}),D(this,"handleSpotlightClick",e=>{const{entrySource:t,imageSize:n,onChange:a,spotlightAreas:r,trafficSource:i}=this.props,o=r[e];a({origCrop:Object(O.e)({cropArea:o,scaledWidth:n.w,scaledHeight:n.h}),cropSource:o.is_stela?4:1,entrySource:t,trafficSource:i})}),D(this,"handleSpotlightHover",e=>{const{currentSpotlightIdx:t}=this.state,{imageSize:n,spotlightAreas:a}=this.props;e!==t&&this.setState({showPreviewArea:!0,previewSpotlightArea:Object(O.e)({cropArea:a[e],scaledWidth:n.w,scaledHeight:n.h})})}),D(this,"handleSpotlightUnHover",()=>{this.setState({showPreviewArea:!1})}),D(this,"renderSpotlightDots",()=>{const{entrySource:e,showAnimation:t,imageSize:n,spotlightAreas:a,imageSignature:i,pin:o,viewParameter:s,viewType:c}=this.props,{currentSpotlightIdx:l}=this.state;return r.a.createElement(A,{entrySource:e,showAnimation:t,pinId:o.id,handleSpotlightHover:this.handleSpotlightHover,handleSpotlightUnhover:this.handleSpotlightUnHover,imageSignature:i,imageSize:n,currentSpotlightIdx:l,spotlightAreas:a,handleSpotlightClick:this.handleSpotlightClick,viewParameter:s,viewType:c})})}static getDerivedStateFromProps(e){const{imageSize:t,initialCropArea:n,spotlightAreas:a}=e;return{currentSpotlightIdx:a.findIndex(e=>Object(O.a)(n,Object(O.e)({cropArea:e,scaledWidth:t.w,scaledHeight:t.h}),4))}}render(){const{cropSource:e,disableCrop:t,imageSize:n,initialCropArea:i,entrySource:o,pin:s,searchQuery:c,spotlightAreas:l,trafficSource:h,viewer:p,viewParameter:d}=this.props,{currentSpotlightIdx:u,previewSpotlightArea:w,showPreviewArea:y}=this.state,g=l&&!!l.length,{is_eligible_for_related_products:S}=s||{};return r.a.createElement(b.a,{name:"web_closeup_shop_v2",activate:!1},({group:l})=>(M.d.includes(l)||p.isAuth&&"US"!==p.country)&&S&&"shopping"===o?r.a.createElement(m.d,{bottom:!0,dangerouslySetInlineStyle:{__style:g?{pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0.2)"}:void 0},left:!0,position:"absolute",right:!0,top:!0},g&&r.a.createElement(a.Fragment,null,Object(x.a)(r.a.createElement(k.default,{alwaysShow:!0,cropSource:e,currentSpotlightIdx:u,height:n.h,pin:s,searchQuery:c,showStelaLabel:!0,trafficSource:h,width:n.w,handleStelaClick:this.handleSpotlightClick})))):r.a.createElement(v,{enableClickOutside:!y,entrySource:o,imageSize:n,initialCropArea:i,key:JSON.stringify(i),onChange:this.handleChange,previewCropArea:w,showPreviewArea:!1,disableCrop:t,viewParameter:d},g&&this.renderSpotlightDots()))}}D(z,"defaultProps",{spotlightAreas:[]});t.a=Object(_.a)(z)},Q3yk:function(e,t,n){t.a=(e,t=564)=>{const{images:n,image_signature:a}=e,r=n&&n["564x"]&&n.orig,{url:i}=r;let{width:o,height:s}=r;return o>t&&(s*=t/o,o=t),{width:o,height:s,url:i,imageSignature:a}}},"fMq/":function(e,t,n){var a=n("q1tI"),r=n.n(a),i=n("Ye/N"),o=n("n6mq");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=16,l=32;class h extends a.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"handleMouseEnter",e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)}),s(this,"handleMouseLeave",e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)})}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:a,onMouseUp:s,selected:h,style:p,text:d,x:u,y:m,zIndex:w,backdropDiameter:y=l,dotDiameter:g=c}=this.props,{isHovering:S}=this.state,f=S?y+4:y,v={zIndex:w,position:"absolute",top:m-f/2,left:u-f/2,outline:"none"},x={backgroundColor:"rgba(0, 0, 0, 0.1)",width:f,height:f,border:"none",borderRadius:f,cursor:n?"pointer":"default"},b={backgroundColor:"#fff",boxShadow:h?"0 0 0 3px #e60023":"none",width:g,height:g,border:"none",borderRadius:g,position:"absolute",top:(f-g)/2,left:(f-g)/2,padding:0,display:"flex",alignItems:"center",justifyContent:"center"};return r.a.createElement("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:s,ref:e,role:"button",style:v,tabIndex:"0"},r.a.createElement("div",{style:{...x,...p}},r.a.createElement("div",{style:b},!!d&&r.a.createElement(o.U,{align:"center",color:"darkGray",inline:!0,size:"sm",weight:"bold"},d),t&&r.a.createElement(o.s,{accessibilityLabel:i.a._("Tag anchor","accessibility label for an anchor for an object in a pin","accessibility label for an anchor for an object in a pin"),color:"red",icon:t,size:g/2,inline:!0}))))}}t.a=r.a.forwardRef((e,t)=>r.a.createElement(h,Object.assign({},e,{forwardedRef:t})))},mlX6:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),i=n("zJ39"),o=n("KNE1"),s=n("U4JR"),c=n("qLDv");function l({alwaysShow:e,contextLogData:t,imageSignature:n,isSelected:l,onStelaDotAnimationComplete:h,stelaDotAnimationType:p}){const[d,u]=Object(a.useState)(!1);Object(a.useEffect)(()=>{d||u(!0)},[]);let m;Object(a.useEffect)(()=>{Object(s.a)(120,{view:3,...t})},[]),"in"===p?m="stelaSlideIn .3s ease-in-out forwards":"out"===p?m="stelaSlideOut .3s ease-in-out forwards":"inOut"===p?m="stelaSlideInThenOut 3s ease-in-out forwards":"none"===p&&(m="none");const w=e?"black":"white",y=e?{opacity:1}:{animation:m,opacity:"none"===m?0:void 0};return r.a.createElement(a.Fragment,null,r.a.createElement(o.a,{unsafeCSS:Object(i.a)()}),r.a.createElement("div",{style:y,height:c.c,width:c.c,onAnimationEnd:()=>{h&&"inOut"===p&&h()}},r.a.createElement("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("circle",{cx:"18",cy:"18",fill:l?w:"white",r:"8"})),r.a.createElement("defs",null,r.a.createElement("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",null),r.a.createElement("feGaussianBlur",{stdDeviation:"5"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"}))))))}},zJ39:function(e,t,n){var a=n("qLDv");t.a=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 44px;\n    }\n\n    15% {\n      width: ${e+a.a}px;\n    }\n\n    85% {\n      width: ${e+a.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 44px;\n    }\n\n    100% {\n      width: ${e+a.a}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+a.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/191-ac228e4367f258dc488c.mjs.map